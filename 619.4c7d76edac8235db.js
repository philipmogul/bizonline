"use strict";(self.webpackChunkmatngular=self.webpackChunkmatngular||[]).push([[619],{3942:(j,C,l)=>{l.d(C,{c:()=>q});var u=l(4650);let q=(()=>{class b{constructor(){}ngOnInit(){}}return b.\u0275fac=function(f){return new(f||b)},b.\u0275cmp=u.Xpm({type:b,selectors:[["app-notification"]],inputs:{message:"message",showNotification:"showNotification"},decls:6,vars:1,consts:[[1,"wrapper1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 52 52",1,"checkmark"],["cx","26","cy","26","r","25","fill","none",1,"checkmark__circle"],["fill","none","d","M14.1 27.2l7.1 7.2 16.7-16.8",1,"checkmark__check"],[2,"position","absolute","margin-top","150px","margin-bottom","50px","font-weight","bold"]],template:function(f,d){1&f&&(u.TgZ(0,"div",0),u.O4$(),u.TgZ(1,"svg",1),u._UZ(2,"circle",2)(3,"path",3),u.qZA(),u.kcU(),u.TgZ(4,"p",4),u._uU(5),u.qZA()()),2&f&&(u.xp6(5),u.hij(" ",d.message," "))},styles:["*[_ngcontent-%COMP%]{padding:0;margin:0}.wrapper1[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;background-color:transparent}.checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#7ac142;fill:none;animation:stroke .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #7ac142;animation:fill .4s ease-in-out .4s forwards,scale .3s ease-in-out .9s both}.checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards}@keyframes stroke{to{stroke-dashoffset:0}}@keyframes scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes fill{to{box-shadow:inset 0 0 0 30px #7ac142}}"]}),b})()},2619:(j,C,l)=>{l.r(C),l.d(C,{SuppliersModule:()=>Me});var u=l(4397),q=l(2318),b=l(5861),t=l(4650),f=l(7340),d=l(2841),Q=l(6498),h=l(6895),G=l(2340),V=l(4313),K=l(9441),L=l(8423),Y=l(3166),O=l(7185),$=l(1927),z=l(1932),W=l(9775),P=l(805),Z=l(4006),X=l(1493),tt=l(2137),E=l(5593),U=l(3087),et=l(1740),it=l(666),ot=l(3608),M=l(9091),nt=l(8558),st=l(8271),rt=l(613),at=l(585),lt=l(3942);function pt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.displayNewItemDialog=!0,t.KtG(o.newSupplierModel.name="")}),t.qZA()}}function ut(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",54)(1,"th",55),t._uU(2,"Supplier "),t._UZ(3,"p-sortIcon",56),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Total amount supplied"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Amount paid"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Balance"),t.qZA(),t._UZ(10,"th"),t.qZA(),t.TgZ(11,"tr")(12,"th",57)(13,"input",58),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(9);return t.KtG(s.filterGlobal(o.target.value,"contains"))}),t.qZA()()()}}function ct(n,r){if(1&n&&(t.TgZ(0,"i",71),t.ALo(1,"number"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.MGl("pTooltip","Paid excess of Ksh ",t.xi3(1,2,e.total_paid-e.total_supplied,".2"),""),t.xp6(2),t.hij(" Paid excess of ",t.xi3(3,5,e.total_paid-e.total_supplied,".2")," ")}}function dt(n,r){if(1&n&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.total_supplied-e.total_paid,".2")," ")}}function _t(n,r){1&n&&(t.TgZ(0,"label",72),t._uU(1," Completed "),t._UZ(2,"i",73),t.qZA())}function ht(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.getSupplierPayments(o))}),t._UZ(1,"i",74),t._uU(2," Show payments "),t.qZA()}}function mt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.showPayment(o))}),t._UZ(1,"i",75),t._uU(2," Add payment "),t.qZA()}}function gt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.getSupplierInvoiceItems(o))}),t._UZ(1,"i",75),t._uU(2," Add stock return "),t.qZA()}}function ft(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.confirmSupplierDelete(o))}),t._UZ(1,"i",76),t._uU(2," Delete supplier "),t.qZA()}}function Tt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",59)(1,"td",60),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td",61),t.YNc(11,ct,4,8,"i",62),t.YNc(12,dt,3,4,"label",63),t.YNc(13,_t,3,0,"label",64),t.qZA(),t.TgZ(14,"td")(15,"div",65)(16,"button",66),t._uU(17," Select an action "),t.qZA(),t.TgZ(18,"div",67)(19,"button",68),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.getAllSupplierTransactions(s))}),t._UZ(20,"i",69),t._uU(21," All transactions "),t.qZA(),t.TgZ(22,"button",68),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.getSuppliersInvoices(s))}),t._UZ(23,"i",69),t._uU(24," Show invoices "),t.qZA(),t.TgZ(25,"button",68),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.getSupplierReturns(s))}),t._UZ(26,"i",69),t._uU(27," Show returns "),t.qZA(),t.YNc(28,ht,3,0,"button",70),t.YNc(29,mt,3,0,"button",70),t.YNc(30,gt,3,0,"button",70),t.YNc(31,ft,3,0,"button",70),t.qZA()()()()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,10,e.supplier_name)," "),t.xp6(3),t.hij(" ",t.xi3(6,12,e.total_supplied,".2")," "),t.xp6(3),t.hij(" ",t.xi3(9,15,e.total_paid,".2")," "),t.xp6(3),t.Q6J("ngIf",e.total_supplied-e.total_paid<0),t.xp6(1),t.Q6J("ngIf",e.total_supplied-e.total_paid>0),t.xp6(1),t.Q6J("ngIf",e.total_supplied-e.total_paid==0),t.xp6(15),t.Q6J("ngIf",i.userIsAdmin),t.xp6(1),t.Q6J("ngIf",i.userIsAdmin),t.xp6(1),t.Q6J("ngIf",i.userIsAdmin),t.xp6(1),t.Q6J("ngIf",i.userIsAdmin)}}function xt(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",77),t._uU(2,"No suppliers found."),t.qZA()())}const m=function(){return[10,25,50]},Zt=function(){return["supplier_name","total_supplied","total_paid"]};function At(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",46)(1,"div",47)(2,"h4",48),t._uU(3," All suppliers "),t.YNc(4,pt,1,0,"button",49),t.TgZ(5,"button",50),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.getAllInvoices())}),t.qZA(),t.TgZ(6,"button",51),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.getAllSupplyAndPaymentTransactions())}),t.qZA()()(),t.TgZ(7,"div",52)(8,"p-table",30,31),t.YNc(10,ut,14,0,"ng-template",8),t.YNc(11,Tt,32,18,"ng-template",9),t.YNc(12,xt,3,0,"ng-template",10),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("@enter",void 0),t.xp6(4),t.Q6J("ngIf",e.userCanAddSuppliers),t.xp6(4),t.Q6J("value",e.suppliers)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(11,m))("loading",e.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(12,Zt))}}const vt=function(){return{width:"25vw"}};function bt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"p-dialog",78),t.NdJ("visibleChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.displayNewItemDialog=o)}),t.TgZ(1,"form",79,80),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addSupplier())}),t.TgZ(3,"div",0)(4,"div",81)(5,"div",82)(6,"div",83)(7,"label",84),t._uU(8,"Supplier name"),t.qZA(),t.TgZ(9,"input",85),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.newSupplierModel.name=o)}),t.qZA()()()()(),t.TgZ(10,"p-footer"),t._UZ(11,"button",86),t.TgZ(12,"button",87),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.displayNewItemDialog=!1,t.KtG(o.newSupplierModel={})}),t.qZA()()(),t.TgZ(13,"ngx-spinner",88),t._UZ(14,"p",21),t.qZA()()}if(2&n){const e=t.MAs(2),i=t.oxw();t.Akn(t.DdM(8,vt)),t.Q6J("closable",!1)("visible",i.displayNewItemDialog)("baseZIndex",1e4),t.xp6(9),t.Q6J("ngModel",i.newSupplierModel.name),t.xp6(2),t.Q6J("disabled",!e.valid||i.countCharactersExcludingSpaces(i.newSupplierModel.name)<1),t.xp6(2),t.Q6J("fullScreen",!1)}}function St(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",89)(1,"th",90),t._uU(2,"Invoice no "),t.qZA(),t.TgZ(3,"th",90),t._uU(4,"Goods amount "),t.qZA(),t.TgZ(5,"th",90),t._uU(6,"VAT amount "),t.qZA(),t.TgZ(7,"th",90),t._uU(8,"Invoice total "),t.qZA(),t.TgZ(9,"th",90),t._uU(10,"Added by "),t.qZA(),t.TgZ(11,"th",91)(12,"div",92),t._uU(13," Date added "),t._UZ(14,"p-columnFilter",93),t.qZA()(),t._UZ(15,"th",91),t.qZA(),t.TgZ(16,"tr")(17,"th",94)(18,"input",95),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(8);return t.KtG(s.filterGlobal(o.target.value,"contains"))}),t.qZA(),t.TgZ(19,"button",96),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.MAs(8).reset(),t.KtG(o.resetSupplierValues())}),t.qZA()(),t._UZ(20,"th"),t.qZA()}}function yt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"titlecase"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"date"),t.qZA(),t.TgZ(19,"td")(20,"button",97),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.getInvoiceItems(s))}),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,6,e.invoice_no)," "),t.xp6(3),t.hij(" ",t.xi3(6,8,e.invoice_total-e.vat_total,".2")," "),t.xp6(3),t.hij(" ",t.xi3(9,11,e.vat_total,".2")," "),t.xp6(3),t.hij(" ",t.xi3(12,14,e.invoice_total,".2")," "),t.xp6(3),t.hij(" ",t.lcZ(15,17,e.added_by)," "),t.xp6(3),t.hij(" ",t.xi3(18,19,e.date_created,"fullDate")," ")}}function wt(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",98),t._uU(2,"No items found."),t.qZA()())}function Ct(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",89)(1,"th",90),t._uU(2,"Supplier "),t.qZA(),t.TgZ(3,"th",90),t._uU(4,"Invoice no "),t.qZA(),t.TgZ(5,"th",90),t._uU(6,"Goods amount "),t.qZA(),t.TgZ(7,"th",90),t._uU(8,"VAT amount "),t.qZA(),t.TgZ(9,"th",90),t._uU(10,"Invoice total "),t.qZA(),t.TgZ(11,"th",99),t._uU(12,"Added by "),t.qZA(),t.TgZ(13,"th",91)(14,"div",92),t._uU(15," Date added "),t._UZ(16,"p-columnFilter",93),t.qZA()(),t.TgZ(17,"th",100),t._uU(18,"Approved "),t.qZA(),t._UZ(19,"th",91),t.qZA(),t.TgZ(20,"tr")(21,"th",101)(22,"input",95),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(50);return t.KtG(s.filterGlobal(o.target.value,"contains"))}),t.qZA(),t.TgZ(23,"button",96),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.MAs(50).reset(),t.KtG(o.resetPeriodicValues())}),t.qZA()(),t._UZ(24,"th",102),t.qZA()}}function qt(n,r){1&n&&t._UZ(0,"i",106)}function Ut(n,r){1&n&&t._UZ(0,"i",107)}function Mt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"td"),t.YNc(22,qt,1,0,"i",103),t.YNc(23,Ut,1,0,"i",104),t.qZA(),t.TgZ(24,"td")(25,"button",105),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.getInvoiceItems(s))}),t.qZA()()()}if(2&n){const e=r.$implicit;t.Tol(0==e.approved?"animate-flicker":""),t.xp6(2),t.hij(" ",t.lcZ(3,11,e.supplier_name)," "),t.xp6(3),t.hij(" ",e.invoice_no," "),t.xp6(2),t.hij(" ",t.xi3(8,13,e.invoice_total-e.vat_total,".2")," "),t.xp6(3),t.hij(" ",t.xi3(11,16,e.vat_total,".2")," "),t.xp6(3),t.hij(" ",t.xi3(14,19,e.invoice_total,".2")," "),t.xp6(3),t.hij(" ",t.lcZ(17,22,e.added_by)," "),t.xp6(3),t.hij(" ",t.xi3(20,24,e.date_created,"fullDate")," "),t.xp6(3),t.Q6J("ngIf",1==e.approved),t.xp6(1),t.Q6J("ngIf",0==e.approved)}}function It(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",108),t._uU(2,"No invoices found."),t.qZA()())}function Pt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",89)(1,"th"),t._uU(2,"Item"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Location "),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Unit "),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Qty "),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Price "),t.qZA(),t.TgZ(11,"th"),t._uU(12,"VAT% "),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Total "),t.qZA()(),t.TgZ(15,"tr")(16,"th",101)(17,"input",112),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(2);return t.KtG(s.filter(o.target.value,"item.name","contains"))}),t.qZA()()()}}const D=function(n){return{"background-color":n,color:"#ffffff",cursor:"pointer"}};function Dt(n,r){if(1&n&&(t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td")(5,"p-avatarGroup"),t._UZ(6,"p-avatar",113),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"number"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,8,e.item.name)," "),t.xp6(4),t.Akn(t.VKq(23,D,e.location.color)),t.xp6(2),t.hij(" ",t.lcZ(9,10,e.unit.unit_name)," "),t.xp6(3),t.hij(" ",t.xi3(12,12,e.unit_qty,".2")," "),t.xp6(3),t.hij(" ",t.xi3(15,15,e.buying_price,".2")," "),t.xp6(3),t.hij(" ",t.lcZ(18,18,e.vat.vat_percent)," "),t.xp6(3),t.hij(" ",t.xi3(21,20,e.buying_price*e.unit_qty,".2")," ")}}const Nt=function(){return{width:"85vw"}},N=function(){return["item.name"]};function kt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"p-dialog",109),t.NdJ("visibleChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.showInvoiceItemsDialog=o)}),t.TgZ(1,"p-table",110,111),t.YNc(3,Pt,18,0,"ng-template",8),t.YNc(4,Dt,22,25,"ng-template",9),t.qZA()()}if(2&n){const e=t.oxw();t.Akn(t.DdM(14,Nt)),t.Q6J("header",e.showInvoiceItemsDialog?"Items for invoice number "+e.invoiceToView.invoice_no:"")("closable",!0)("visible",e.showInvoiceItemsDialog)("baseZIndex",1e4),t.xp6(1),t.Q6J("value",e.invoiceItemsToView)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(15,m))("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(16,N))}}function Jt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",120)(1,"p-radioButton",140),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(3);return t.KtG(s.todayChecked=o)}),t.qZA(),t.TgZ(2,"label",141),t._uU(3,"Different date"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngModel",e.todayChecked)}}function Ft(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"p-calendar",142),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(3);return t.KtG(s.dateOfSale=o)}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.dateOfSale)("maxDate",e.maxDate)("touchUI",!1)("monthNavigator",!0)}}function Lt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"form",79,80),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.addPayment())}),t.TgZ(2,"div",0)(3,"div",81)(4,"div",116)(5,"div",117)(6,"label",84),t._uU(7,"Amount paid"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"input",118),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.newPaymentModel.amount=o)}),t.qZA()(),t.TgZ(10,"div",119)(11,"label",84),t._uU(12,"Payment method"),t.qZA(),t.TgZ(13,"div",120)(14,"p-radioButton",121),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.newPaymentModel.channel=o)}),t.qZA(),t.TgZ(15,"label",122),t._uU(16,"Cash "),t._UZ(17,"i",123),t.qZA()(),t.TgZ(18,"div",120)(19,"p-radioButton",124),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.newPaymentModel.channel=o)}),t.qZA(),t.TgZ(20,"label",125),t._uU(21,"Mpesa "),t._UZ(22,"i",126),t.qZA()(),t.TgZ(23,"div",120)(24,"p-radioButton",127),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.newPaymentModel.channel=o)}),t.qZA(),t.TgZ(25,"label",128),t._uU(26,"Bank "),t._UZ(27,"i",129),t.qZA()()(),t.TgZ(28,"div",119)(29,"label",130),t._uU(30,"Paid to"),t.qZA(),t._UZ(31,"br"),t.TgZ(32,"input",131),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.newPaymentModel.paid_to=o)}),t.qZA()(),t.TgZ(33,"div",119)(34,"label",132),t._uU(35,"Paid by"),t.qZA(),t._UZ(36,"br"),t.TgZ(37,"input",133),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.newPaymentModel.paid_by=o)}),t.qZA()(),t.TgZ(38,"div",83)(39,"h5"),t._uU(40,"Date of payment"),t.qZA(),t.TgZ(41,"div",120)(42,"p-radioButton",134),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.todayChecked=o)}),t.qZA(),t.TgZ(43,"label",135),t._uU(44,"Today"),t.qZA()(),t.YNc(45,Jt,4,1,"div",136),t.YNc(46,Ft,1,4,"p-calendar",137),t.qZA()()()(),t.TgZ(47,"p-footer")(48,"button",138),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.showNewPaymentModal=!1,o.newPaymentModel={},t.KtG(o.getAllSuppliers())}),t.qZA(),t._UZ(49,"button",139),t.qZA()()}if(2&n){const e=t.MAs(1),i=t.oxw(2);t.xp6(9),t.Q6J("ngModel",i.newPaymentModel.amount),t.xp6(5),t.Q6J("ngModel",i.newPaymentModel.channel),t.xp6(5),t.Q6J("ngModel",i.newPaymentModel.channel),t.xp6(5),t.Q6J("ngModel",i.newPaymentModel.channel),t.xp6(8),t.Q6J("ngModel",i.newPaymentModel.paid_to),t.xp6(5),t.Q6J("ngModel",i.newPaymentModel.paid_by),t.xp6(5),t.Q6J("ngModel",i.todayChecked),t.xp6(3),t.Q6J("ngIf",i.userIsAdmin),t.xp6(1),t.Q6J("ngIf","notToday"==i.todayChecked),t.xp6(3),t.Q6J("disabled",!e.valid||""==i.newPaymentModel.amount||null==i.newPaymentModel.amount||null==i.newPaymentModel.channel||i.buttonClicked)}}function Et(n,r){if(1&n&&t._UZ(0,"app-notification",143),2&n){const e=t.oxw(2);t.Q6J("message","Payment added!")("showNotification",e.showNotification)}}const k=function(){return{width:"30vw"}};function Rt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"p-dialog",109),t.NdJ("visibleChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.showNewPaymentModal=o)}),t.ALo(1,"titlecase"),t.YNc(2,Lt,50,10,"form",114),t.TgZ(3,"ngx-spinner",88),t._UZ(4,"p",21),t.qZA(),t.YNc(5,Et,1,2,"app-notification",115),t.qZA()}if(2&n){const e=t.oxw();t.Akn(t.DdM(11,k)),t.Q6J("header",!e.showNotification&&e.showNewPaymentModal?"New payment for "+t.lcZ(1,9,e.supplierToView.supplier_name):"")("closable",!1)("visible",e.showNewPaymentModal)("baseZIndex",1e4),t.xp6(2),t.Q6J("ngIf",!e.showNotification),t.xp6(1),t.Q6J("fullScreen",!1),t.xp6(2),t.Q6J("ngIf",e.showNotification)}}function Bt(n,r){1&n&&(t.TgZ(0,"tr",89)(1,"th"),t._uU(2,"Amount paid "),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Payment method"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Date paid"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Paid to"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Paid by"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Posted by"),t.qZA(),t._UZ(13,"th"),t.qZA())}function Ht(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",145),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.confirmDeletePayment(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.buttonClicked)}}function jt(n,r){if(1&n&&(t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"titlecase"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"titlecase"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"titlecase"),t.qZA(),t.TgZ(19,"td"),t.YNc(20,Ht,1,1,"button",144),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,7,e.amount,".2")," "),t.xp6(3),t.hij(" ",t.lcZ(6,10,e.payment_channel)," "),t.xp6(3),t.hij(" ",t.lcZ(9,12,e.date_paid)," "),t.xp6(3),t.hij(" ",t.lcZ(12,14,e.paid_to)," "),t.xp6(3),t.hij(" ",t.lcZ(15,16,e.paid_by)," "),t.xp6(3),t.hij(" ",t.lcZ(18,18,e.added_by)," "),t.xp6(3),t.Q6J("ngIf","Stock return"!=e.payment_channel)}}function Qt(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",98),t._uU(2,"No records found."),t.qZA()())}function Gt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",89)(1,"th"),t._uU(2,"Date supplied"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Item"),t.qZA(),t.TgZ(5,"th",100),t._uU(6,"Location "),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Unit "),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Qty "),t.qZA(),t.TgZ(11,"th"),t._uU(12,"@Price "),t.qZA(),t._UZ(13,"th",91),t.qZA(),t.TgZ(14,"tr")(15,"th",101)(16,"input",112),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(1);return t.KtG(s.filter(o.target.value,"item.name","contains"))}),t.qZA()()()}}function Vt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td")(8,"p-avatarGroup"),t._UZ(9,"p-avatar",113),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"titlecase"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"td")(20,"button",146),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.showReturnDialog(s))}),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,e.date)," "),t.xp6(3),t.hij(" ",t.lcZ(6,9,e.item.name)," "),t.xp6(4),t.Akn(t.VKq(18,D,e.location.color)),t.xp6(2),t.hij(" ",t.lcZ(12,11,e.unit.unit_name)," "),t.xp6(3),t.hij(" ",t.lcZ(15,13,e.unit_qty)," "),t.xp6(3),t.hij(" ",t.xi3(18,15,e.buying_price,".2")," ")}}function Kt(n,r){if(1&n&&(t.TgZ(0,"p-table",110,111),t.YNc(2,Gt,17,0,"ng-template",8),t.YNc(3,Vt,21,20,"ng-template",9),t.qZA()),2&n){const e=t.oxw();t.Q6J("value",e.supplierItems)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(8,m))("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(9,N))}}function Yt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",89)(1,"th"),t._uU(2,"Item"),t.qZA(),t.TgZ(3,"th",100),t._uU(4,"Location "),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Unit "),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Qty "),t.qZA(),t.TgZ(9,"th"),t._uU(10,"@Price "),t.qZA(),t._UZ(11,"th",91),t.qZA(),t.TgZ(12,"tr")(13,"th",94)(14,"input",112),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(1);return t.KtG(s.filter(o.target.value,"item.name","contains"))}),t.qZA()()()}}function Ot(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td")(5,"p-avatarGroup"),t._UZ(6,"p-avatar",113),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"td")(17,"button",147),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.deleteItem(s))}),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,6,e.item.name)," "),t.xp6(4),t.Akn(t.VKq(15,D,e.location.color)),t.xp6(2),t.hij(" ",t.lcZ(9,8,e.unit.unit_name)," "),t.xp6(3),t.hij(" ",t.lcZ(12,10,e.unit_qty)," "),t.xp6(3),t.hij(" ",t.xi3(15,12,e.buying_price,".2")," ")}}function $t(n,r){if(1&n&&(t.TgZ(0,"p-table",110,111),t.YNc(2,Yt,15,0,"ng-template",8),t.YNc(3,Ot,18,17,"ng-template",9),t.qZA()),2&n){const e=t.oxw();t.Q6J("value",e.tempItems)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(8,m))("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(9,N))}}function zt(n,r){if(1&n&&(t.TgZ(0,"div",148)(1,"div",149)(2,"div",150)(3,"div",151)(4,"h3"),t._uU(5),t.ALo(6,"number"),t.qZA()()()()()),2&n){const e=t.oxw();t.xp6(5),t.hij("Total: \xa0Ksh ",t.xi3(6,1,e.totalCartAmount,".2"),"")}}function Wt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",0)(1,"div",152)(2,"div",153)(3,"div",154)(4,"div",120)(5,"p-radioButton",155),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.printReceipt=o)}),t.qZA(),t.TgZ(6,"label",156),t._uU(7,"Print receipt"),t.qZA()(),t.TgZ(8,"div",120)(9,"p-radioButton",157),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.printReceipt=o)}),t.qZA(),t.TgZ(10,"label",158),t._uU(11,"No receipt"),t.qZA()()()()(),t.TgZ(12,"div",159)(13,"button",160),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.completeReturn())}),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.printReceipt),t.xp6(4),t.Q6J("ngModel",e.printReceipt)}}function Xt(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.unit_name)}}function te(n,r){if(1&n&&(t.TgZ(0,"div",170)(1,"div"),t._uU(2),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.Oqu(e.unit_name)}}function ee(n,r){if(1&n&&(t.TgZ(0,"small",171),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.quantityError," ")}}function ie(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"form",79,80),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.reverse())}),t.TgZ(2,"div",0)(3,"div",81)(4,"div",82)(5,"div",83)(6,"label",161),t._uU(7,"Unit to return"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"p-dropdown",162),t.NdJ("onChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.updateUnitSelected(o))})("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.itemToSellModel.unit_to_return=o)}),t.YNc(10,Xt,2,1,"ng-template",163),t.YNc(11,te,3,1,"ng-template",164),t.qZA()(),t.TgZ(12,"div",83)(13,"label",165),t._uU(14,"Unit quantity to return"),t.qZA(),t.TgZ(15,"input",166),t.NdJ("input",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.checkQuantity())})("ngModelChange",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.itemToSellModel.qty=o)}),t.qZA(),t.YNc(16,ee,2,1,"small",167),t.qZA()()()(),t.TgZ(17,"p-footer")(18,"button",168),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideSellForm())}),t.qZA(),t._UZ(19,"button",169),t.qZA()()}if(2&n){const e=t.MAs(1),i=t.oxw(2);t.xp6(9),t.Q6J("options",i.unitsToSelect)("ngModel",i.itemToSellModel.unit_to_return),t.xp6(6),t.Q6J("disabled",!i.activateSellForm||null==i.itemToSellModel.unit_to_return)("ngModel",i.itemToSellModel.qty),t.xp6(1),t.Q6J("ngIf",""!=i.quantityError),t.xp6(3),t.Q6J("disabled",!e.valid||i.itemToSellModel.qty<1||null==i.itemToSellModel.unit_to_return||""!=i.quantityError||!i.activateSellForm||i.buttonClicked)}}function oe(n,r){if(1&n&&t._UZ(0,"app-notification",143),2&n){const e=t.oxw(2);t.Q6J("message","Return successfull!")("showNotification",e.showNotification)}}function ne(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"p-dialog",109),t.NdJ("visibleChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.showReturnForm=o)}),t.YNc(1,ie,20,6,"form",114),t.TgZ(2,"ngx-spinner",38),t._UZ(3,"p",21),t.qZA(),t.YNc(4,oe,1,2,"app-notification",115),t.qZA()}if(2&n){const e=t.oxw();t.Akn(t.DdM(9,k)),t.s9C("header",e.showNotification?"":e.itemToReturn.item.name),t.Q6J("closable",!1)("visible",e.showReturnForm)("baseZIndex",1e4),t.xp6(1),t.Q6J("ngIf",!e.showNotification),t.xp6(1),t.Q6J("fullScreen",!1),t.xp6(2),t.Q6J("ngIf",e.showNotification)}}function se(n,r){1&n&&(t.TgZ(0,"tr",89)(1,"th"),t._uU(2,"Date "),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Total returned "),t.qZA(),t._UZ(5,"th"),t.qZA())}function re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td")(8,"button",172),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return a.returnItems=s,t.KtG(a.showReturnItems=!0)}),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,2,e.date_returned,"fullDate")," "),t.xp6(3),t.hij(" ",t.xi3(6,5,e.total_returned,".2")," ")}}function ae(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",173),t._uU(2,"No items found."),t.qZA()())}const J=function(){return["name","description"]};function le(n,r){if(1&n&&(t.TgZ(0,"p-table",30,31),t.YNc(2,se,6,0,"ng-template",8),t.YNc(3,re,9,8,"ng-template",9),t.YNc(4,ae,3,0,"ng-template",10),t.qZA()),2&n){const e=t.oxw();t.Q6J("value",e.supplierReturns)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(9,m))("loading",e.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(10,J))}}function pe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",89)(1,"th",90),t._uU(2,"Receipt No "),t.qZA(),t.TgZ(3,"th",90),t._uU(4,"Item "),t.qZA(),t.TgZ(5,"th",90),t._uU(6,"Unit supplied "),t.qZA(),t.TgZ(7,"th",90),t._uU(8,"Quantity supplied "),t.qZA(),t.TgZ(9,"th",90),t._uU(10,"Total supplied "),t.qZA(),t.TgZ(11,"th",90),t._uU(12,"Unit returned "),t.qZA(),t.TgZ(13,"th",90),t._uU(14,"Quantity returned "),t.qZA(),t.TgZ(15,"th",90),t._uU(16,"Total returned "),t.qZA(),t._UZ(17,"th"),t.qZA(),t.TgZ(18,"tr")(19,"th",175)(20,"input",95),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(1);return t.KtG(s.filterGlobal(o.target.value,"contains"))}),t.qZA()()()}}function ue(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"number"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"number"),t.qZA(),t.TgZ(24,"td")(25,"p-button",176),t.NdJ("onClick",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.reprintReceipt(s.transaction_code))}),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",e.transaction_code," "),t.xp6(2),t.hij(" ",t.lcZ(5,8,e.item.name)," "),t.xp6(3),t.hij(" ",t.lcZ(8,10,e.unit_supplied.unit_name)," "),t.xp6(3),t.hij(" ",t.xi3(11,12,e.quantity_supplied,".2")," "),t.xp6(3),t.hij(" ",t.xi3(14,15,e.quantity_supplied*e.buying_price,".2")," "),t.xp6(3),t.hij(" ",t.lcZ(17,18,e.unit_returned.unit_name)," "),t.xp6(3),t.hij(" ",t.xi3(20,20,e.quantity_returned,".2")," "),t.xp6(3),t.hij(" ",t.xi3(23,23,e.quantity_returned*e.buying_price,".2")," ")}}function ce(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",177),t._uU(2,"No items found."),t.qZA()())}const de=function(){return["item.name","transaction_code"]};function _e(n,r){if(1&n&&(t.TgZ(0,"p-table",30,174),t.YNc(2,pe,21,0,"ng-template",8),t.YNc(3,ue,26,26,"ng-template",9),t.YNc(4,ce,3,0,"ng-template",10),t.qZA()),2&n){const e=t.oxw();t.Q6J("value",e.returnItems.date_items)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(9,m))("loading",e.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(10,de))}}function he(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",180),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.downloadReport())}),t.qZA()}}function me(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",89)(1,"th",90),t._uU(2,"Balance B.F "),t.qZA(),t.TgZ(3,"th",90),t._uU(4,"Transaction type "),t.qZA(),t.TgZ(5,"th",90),t._uU(6,"Invoice no "),t.qZA(),t.TgZ(7,"th",90),t._uU(8,"Amount "),t.qZA(),t.TgZ(9,"th",90),t._uU(10,"Payment channel "),t.qZA(),t.TgZ(11,"th",90),t._uU(12,"Posted by "),t.qZA(),t.TgZ(13,"th",90),t._uU(14,"Closing balance "),t.qZA(),t.TgZ(15,"th",91)(16,"div",92),t._uU(17," Transaction date "),t._UZ(18,"p-columnFilter",93),t.qZA()()(),t.TgZ(19,"tr")(20,"th",178)(21,"input",95),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(142);return t.KtG(s.filterGlobal(o.target.value,"contains"))}),t.qZA(),t.TgZ(22,"button",96),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.MAs(142).reset(),t.KtG(o.resetSupplierTransactions())}),t.qZA(),t.YNc(23,he,1,0,"button",179),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(23),t.Q6J("ngIf",e.amountSupplied+e.amountPaid>0)}}function ge(n,r){if(1&n&&(t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td")(13,"label",181),t._uU(14),t.ALo(15,"titlecase"),t.qZA()(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"titlecase"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"number"),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"date"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,11,e.opening_balance,".2")," "),t.xp6(3),t.hij(" ",t.lcZ(6,14,e.transaction_type)," "),t.xp6(3),t.hij(" ",e.invoice_number," "),t.xp6(2),t.hij(" ",t.xi3(11,16,e.amount,".2")," "),t.xp6(3),t.Akn("payment"==e.transaction_type?"cursor: pointer":""),t.s9C("pTooltip","payment"==e.transaction_type?"Paid to: "+e.paid_to:"-"),t.xp6(1),t.hij(" ",t.lcZ(15,19,e.payment_channel)," "),t.xp6(3),t.hij(" ",t.lcZ(18,21,e.added_by)," "),t.xp6(3),t.hij(" ",t.xi3(21,23,e.closing_balance,".2")," "),t.xp6(3),t.hij(" ",t.xi3(24,26,e.date_created,"fullDate")," ")}}function fe(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",177),t._uU(2,"No records found."),t.qZA()())}function Te(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",180),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.downloadReportAll())}),t.qZA()}}function xe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",89)(1,"th",90),t._uU(2,"Balance B.F "),t.qZA(),t.TgZ(3,"th",90),t._uU(4,"Transaction type "),t.qZA(),t.TgZ(5,"th",90),t._uU(6,"Supplier "),t.qZA(),t.TgZ(7,"th",90),t._uU(8,"Invoice no "),t.qZA(),t.TgZ(9,"th",90),t._uU(10,"Amount "),t.qZA(),t.TgZ(11,"th",90),t._uU(12,"Payment channel "),t.qZA(),t.TgZ(13,"th",90),t._uU(14,"Posted by "),t.qZA(),t.TgZ(15,"th",90),t._uU(16,"Closing balance "),t.qZA(),t.TgZ(17,"th",91)(18,"div",92),t._uU(19," Transaction date "),t._UZ(20,"p-columnFilter",93),t.qZA()()(),t.TgZ(21,"tr")(22,"th",175)(23,"input",95),t.NdJ("input",function(o){t.CHM(e),t.oxw();const s=t.MAs(195);return t.KtG(s.filterGlobal(o.target.value,"contains"))}),t.qZA(),t.TgZ(24,"button",96),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.MAs(195).reset(),t.KtG(o.resetSupplierTransactions())}),t.qZA(),t.YNc(25,Te,1,0,"button",179),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(25),t.Q6J("ngIf",e.amountSuppliedAll+e.amountPaidAll>0)}}function Ze(n,r){if(1&n&&(t.TgZ(0,"tr",59)(1,"td"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td")(16,"label",181),t._uU(17),t.ALo(18,"titlecase"),t.qZA()(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"titlecase"),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"number"),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.ALo(27,"date"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,12,e.opening_balance,".2")," "),t.xp6(3),t.hij(" ",t.lcZ(6,15,e.transaction_type)," "),t.xp6(3),t.hij(" ",t.lcZ(9,17,e.supplier)," "),t.xp6(3),t.hij(" ",e.invoice_number," "),t.xp6(2),t.hij(" ",t.xi3(14,19,e.amount,".2")," "),t.xp6(3),t.Akn("payment"==e.transaction_type?"cursor: pointer":""),t.s9C("pTooltip","payment"==e.transaction_type?"Paid to: "+e.paid_to:"-"),t.xp6(1),t.hij(" ",t.lcZ(18,22,e.payment_channel)," "),t.xp6(3),t.hij(" ",t.lcZ(21,24,e.added_by)," "),t.xp6(3),t.hij(" ",t.xi3(24,26,e.closing_balance,".2")," "),t.xp6(3),t.hij(" ",t.xi3(27,29,e.date_created,"fullDate")," ")}}function Ae(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",108),t._uU(2,"No records found."),t.qZA()())}const y=function(){return{width:"95vw"}},ve=function(){return{width:"90vw"}},be=function(){return["supplier_name","invoice_no","invoice_total","added_by"]},Se=function(){return{width:"70vw"}},ye=function(){return{width:"50vw"}},we=function(){return["invoice_number","transaction_type","amount"]},Ce=function(){return["invoice_number","transaction_type","payment_channel","amount","supplier"]},qe=[{path:"",component:(()=>{class n{constructor(e,i,o,s,a,_,c,A,g){this.spinner=e,this.cryptoSrv=i,this.toastr=o,this.authSrv=s,this.apiSrv=a,this.printSrv=_,this.confirmationService=c,this._decimalPipe=A,this.locale=g,this.shopLogoUrl=G.N.shopLogoUrls,this.loading=!0,this.suppliers=[],this.newSupplierModel={},this.displayNewItemDialog=!1,this.showSuppplierDialog=!1,this.invoicesToView=[],this.filteredInvoicesToView=[],this.invoiceItemsToView=[],this.showInvoiceItemsDialog=!1,this.paymentsToView=[],this.showPaymentsDialog=!1,this.newPaymentModel={},this.showNewPaymentModal=!1,this.showNotification=!1,this.userIsAdmin=!1,this.allInvoices=[],this.filteredAllInvoices=[],this.showAllInvoicesDialog=!1,this.supplierReturns=[],this.showSupplierReturnsDialog=!1,this.showReturnItems=!1,this.supplierItems=[],this.showSupplierItems=!1,this.tempItems=[],this.showReturnForm=!1,this.itemToSellModel={},this.unitsToSelect=[],this.activateSellForm=!1,this.userCanAddSuppliers=!1,this.quantityError="",this.buttonClicked=!1,this.printReceipt="yes",this.totalCartAmount=0,this.receiptCustomer="",this.totalSupplierGoodsAmount=0,this.totalSupplierVatAmount=0,this.totalSupplierAmount=0,this.totalSupplierAmountPaid=0,this.totalSupplierAmountReturned=0,this.totalPeriodGoodsAmount=0,this.totalPeriodVatAmount=0,this.totalPeriodAmount=0,this.totalPeriodAmountPaid=0,this.totalPeriodAmountReturned=0,this.totalPeriodBalance=0,this.supplierTransactions=[],this.showSupplierTransactions=!1,this.openingBalance=0,this.amountSupplied=0,this.amountPaid=0,this.closingBalance=0,this.filteredSupplierTransactions=[],this.showAllSuppliersTransactions=!1,this.allSuppliersTransactions=[],this.openingBalanceAll=0,this.amountSuppliedAll=0,this.amountPaidAll=0,this.closingBalanceAll=0,this.filteredSupplierTransactionsAll=[],this.todayChecked="today",this.maxDate=new Date,this.dateOfSale=new Date}ngOnInit(){"admin"===this.cryptoSrv.decryptEncodedText(this.authSrv.getUserDetailToken("role"))&&(this.userIsAdmin=!0),"1"===this.cryptoSrv.decryptEncodedText(this.authSrv.getRoleToken("adding_suppliers"))&&(this.userCanAddSuppliers=!0),"1"===this.cryptoSrv.decryptEncodedText(this.authSrv.getRoleToken("adding_suppliers"))||"1"===this.cryptoSrv.decryptEncodedText(this.authSrv.getRoleToken("adding_supplier_stock"))||this.userIsAdmin?this.getAllSuppliers():(this.toastr.error("You have no rights to access that page!"),this.authSrv.logout())}getAllSuppliers(){this.spinner.show();const e={action:this.cryptoSrv.encodeEncryptText("get-all-suppliers-summary"),added_by:this.authSrv.getUserDetailToken("uid")};this.apiSrv.read(e).then(i=>{"error"!=i.status?"error2"!=i.status?(this.suppliers=i.suppliers,this.suppliers=this.suppliers.sort((o,s)=>s.total_supplied-s.total_paid-(o.total_supplied-o.total_paid)),this.spinner.hide(),this.loading=!1):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide()})}getSuppliersInvoices(e){this.supplierToView=e,this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("get-supplier-invoices"),supplier_id:this.supplierToView.id};this.apiSrv.read(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.invoicesToView=o.invoices,this.invoicesToView.forEach(s=>{s.date_created=new Date(s.date_created)}),this.filteredInvoicesToView=this.invoicesToView,this.showSuppplierDialog=!0,this.spinner.hide(),this.loading=!1):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide()})}filterSupplierInvoices(e){this.totalSupplierGoodsAmount=0,this.totalSupplierVatAmount=0,this.totalSupplierAmount=0,this.totalSupplierAmountPaid=0,this.totalSupplierAmountReturned=0,e.filteredValue.forEach(i=>{this.totalSupplierGoodsAmount+=parseFloat(i.invoice_total.toString())-parseFloat(i.vat_total.toString()),this.totalSupplierVatAmount+=parseFloat(i.vat_total.toString()),this.totalSupplierAmount+=parseFloat(i.invoice_total.toString())}),this.filteredInvoicesToView=e.filteredValue}resetSupplierValues(){this.totalSupplierGoodsAmount=0,this.totalSupplierVatAmount=0,this.totalSupplierAmount=0,this.invoicesToView.forEach(e=>{this.totalSupplierGoodsAmount+=parseFloat(e.invoice_total.toString())-parseFloat(e.vat_total.toString()),this.totalSupplierVatAmount+=parseFloat(e.vat_total.toString()),this.totalSupplierAmount+=parseFloat(e.invoice_total.toString())})}getAllInvoices(){this.spinner.show(),this.totalPeriodGoodsAmount=0,this.totalPeriodVatAmount=0,this.totalPeriodAmount=0,this.totalPeriodAmountPaid=0,this.totalPeriodAmountReturned=0;const e={action:this.cryptoSrv.encodeEncryptText("get-all-invoices")};this.apiSrv.read(e).then(i=>{"error"!=i.status?"error2"!=i.status?(this.allInvoices=i.invoices,this.showAllInvoicesDialog=!0,this.allInvoices.forEach(o=>{o.date_created=new Date(o.date_created),this.totalPeriodGoodsAmount+=parseFloat(o.invoice_total.toString())-parseFloat(o.vat_total.toString()),this.totalPeriodVatAmount+=parseFloat(o.vat_total.toString()),this.totalPeriodAmount+=parseFloat(o.invoice_total.toString())}),this.filteredAllInvoices=this.allInvoices,this.spinner.hide(),this.loading=!1):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide()})}filterAllInvoices(e){this.totalPeriodGoodsAmount=0,this.totalPeriodVatAmount=0,this.totalPeriodAmount=0,this.totalPeriodAmountPaid=0,this.totalPeriodAmountReturned=0,e.filteredValue.forEach(i=>{this.totalPeriodGoodsAmount+=parseFloat(i.invoice_total)-parseFloat(i.vat_total),this.totalPeriodVatAmount+=parseFloat(i.vat_total),this.totalPeriodAmount+=parseFloat(i.invoice_total)}),this.filteredAllInvoices=e.filteredValue}resetPeriodicValues(){this.totalPeriodGoodsAmount=0,this.totalPeriodVatAmount=0,this.totalPeriodAmount=0,this.allInvoices.forEach(e=>{e.date_created=new Date(e.date_created),this.totalPeriodGoodsAmount+=parseFloat(e.invoice_total.toString())-parseFloat(e.vat_total.toString()),this.totalPeriodVatAmount+=parseFloat(e.vat_total.toString()),this.totalPeriodAmount+=parseFloat(e.invoice_total.toString())})}getInvoiceItems(e){this.invoiceToView=e,this.spinner.show("invoice");const i={action:this.cryptoSrv.encodeEncryptText("get-invoice-items"),invoice_id:this.invoiceToView.id};this.apiSrv.read(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.invoiceItemsToView=o.items.items,this.showInvoiceItemsDialog=!0,this.spinner.hide("invoice"),this.loading=!1):(this.spinner.hide("invoice"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide("invoice")})}getUnitPrice(e,i,o){return(e*o).toFixed(2)}getSupplierPayments(e){this.supplierToView=e,this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("get-supplier-payments"),supplier_id:this.supplierToView.id};this.apiSrv.read(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.paymentsToView=o.payments,this.showPaymentsDialog=!0,this.spinner.hide(),this.loading=!1):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide()})}getAllSupplierTransactions(e){this.supplierToView=e,this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("get-supplier-transactions"),supplier_id:this.supplierToView.id};this.apiSrv.read(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.supplierTransactions=o.transactions,this.supplierTransactions.forEach(s=>{s.date_created=new Date(s.date_created)}),this.supplierTransactions=this.supplierTransactions.sort((s,a)=>a.date_created.getTime()-s.date_created.getTime()),this.showSupplierTransactions=!0,this.spinner.hide(),this.loading=!1):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide()})}filterSupplierTransactions(e){this.openingBalance=0,this.amountSupplied=0,this.amountPaid=0,this.closingBalance=0,this.openingBalance=e.filteredValue[e.filteredValue.length-1].opening_balance,e.filteredValue.forEach(i=>{"invoice"===i.transaction_type&&(this.amountSupplied+=parseFloat(i.amount.toString())),"payment"===i.transaction_type&&(this.amountPaid+=parseFloat(i.amount.toString()))}),this.closingBalance=e.filteredValue[0].closing_balance,this.filteredSupplierTransactions=e.filteredValue}resetSupplierTransactions(){this.openingBalance=0,this.amountSupplied=0,this.amountPaid=0,this.closingBalance=0,this.openingBalance=this.supplierTransactions[this.supplierTransactions.length-1].opening_balance,this.supplierTransactions.forEach(e=>{"invoice"===e.transaction_type&&(this.amountSupplied+=parseFloat(e.amount.toString())),"payment"===e.transaction_type&&(this.amountPaid+=parseFloat(e.amount.toString()))}),this.closingBalance=this.supplierTransactions[0].closing_balance}getAllSupplyAndPaymentTransactions(){this.spinner.show();const e={action:this.cryptoSrv.encodeEncryptText("get-all-suppliers-payments-transactions")};this.apiSrv.read(e).then(i=>{"error"!=i.status?"error2"!=i.status?(this.allSuppliersTransactions=i.transactions,this.allSuppliersTransactions.forEach(o=>{o.date_created=new Date(o.date_created)}),this.allSuppliersTransactions=this.allSuppliersTransactions.sort((o,s)=>s.date_created.getTime()-o.date_created.getTime()),this.showAllSuppliersTransactions=!0,this.spinner.hide(),this.loading=!1):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide()})}filterAllSupplierPaymentTransactions(e){this.openingBalanceAll=0,this.amountSuppliedAll=0,this.amountPaidAll=0,this.closingBalanceAll=0,this.openingBalanceAll=e.filteredValue[e.filteredValue.length-1].opening_balance,e.filteredValue.forEach(i=>{"invoice"===i.transaction_type&&(this.amountSuppliedAll+=parseFloat(i.amount.toString())),"payment"===i.transaction_type&&(this.amountPaidAll+=parseFloat(i.amount.toString()))}),this.closingBalanceAll=e.filteredValue[0].closing_balance,this.filteredSupplierTransactionsAll=e.filteredValue}resetAllSupplierTransactions(){this.openingBalanceAll=0,this.amountSuppliedAll=0,this.amountPaidAll=0,this.closingBalanceAll=0,this.openingBalanceAll=this.filteredSupplierTransactionsAll[this.filteredSupplierTransactionsAll.length-1].opening_balance,this.allSuppliersTransactions.forEach(e=>{"invoice"===e.transaction_type&&(this.amountSuppliedAll+=parseFloat(e.amount.toString())),"payment"===e.transaction_type&&(this.amountPaid+=parseFloat(e.amount.toString()))}),this.closingBalanceAll=this.allSuppliersTransactions[0].closing_balance}downloadReport(){this.spinner.show("transactions");let e=[];this.filteredSupplierTransactions.forEach(i=>{const o={};o.balance_bf=i.opening_balance,o.transaction_type=(0,d._)(i.transaction_type),o.amount=this._decimalPipe.transform(parseFloat(i.amount.toString()).toFixed(2),"1.2-2"),o.invoice_number=i.invoice_number,o.payment_channel=i.payment_channel,o.closing_balance=this._decimalPipe.transform(parseFloat(i.closing_balance.toString()).toFixed(2),"1.2-2"),o.transaction_date=i.date_created,o.posted_by=(0,d._)(i.added_by),o.paid_to=i.paid_to,e.push(o)}),this.downloadExcelFile(e,"Transaction history for supplier -  "+this.supplierToView.supplier_name)}downloadReportAll(){this.spinner.show("transactions");let e=[];this.filteredSupplierTransactionsAll.forEach(i=>{const o={};o.balance_bf=i.opening_balance,o.transaction_type=(0,d._)(i.transaction_type),o.supplier=(0,d._)(i.supplier),o.amount=this._decimalPipe.transform(parseFloat(i.amount.toString()).toFixed(2),"1.2-2"),o.invoice_number=i.invoice_number,o.payment_channel=i.payment_channel,o.closing_balance=this._decimalPipe.transform(parseFloat(i.closing_balance.toString()).toFixed(2),"1.2-2"),o.transaction_date=i.date_created,o.posted_by=(0,d._)(i.added_by),o.paid_to=i.paid_to,e.push(o)}),this.downloadExcelFile(e,"Supply and payments transactions history")}downloadExcelFile(e,i){var o=this;return(0,b.Z)(function*(){const s=new V.Workbook,a=s.addWorksheet("Sheet1"),c=Object.keys(e[0]).map(g=>(0,d._)(g.split("_").join(" ")));a.addRow(c).eachCell(g=>{g.font={bold:!0}}),e.forEach(g=>{a.addRow(Object.values(g))}),yield a.protect("1234",{}),s.xlsx.writeBuffer().then(g=>{const I=new Blob([g],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,K.saveAs)(I,i+".xlsx")}),o.spinner.hide("transactions")})()}getSupplierInvoiceItems(e){this.supplierToView=e,this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("get-supplier-invoice-items"),supplier_id:this.supplierToView.id,uid:this.authSrv.getUserDetailToken("uid")};this.apiSrv.read(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.supplierItems=o.items,this.tempItems=o.temp_items,this.totalCartAmount=0,this.tempItems.forEach(s=>{this.totalCartAmount+=parseFloat(s.buying_price.toString())*parseFloat(s.unit_qty.toString())}),this.showSupplierItems=!0,this.spinner.hide(),this.loading=!1):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide()})}getSupplierReturns(e){this.supplierToView=e,this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("get-supplier-returns"),supplier_id:this.supplierToView.id};this.apiSrv.read(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.supplierReturns=o.returns,this.showSupplierReturnsDialog=!0,this.spinner.hide(),this.loading=!1):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide()})}showReturnDialog(e){this.buttonClicked=!0,this.showNotification=!1,this.itemToReturn=e,this.itemToSellModel=e;var i=[],o=this.itemToReturn.selling_units;o.sort((c,A)=>A.unit_quantity-c.unit_quantity);const _=parseInt(this.itemToReturn.unit.unit_quantity.toString())*parseInt(this.itemToReturn.unit_qty.toString())-parseInt(this.itemToReturn.quantity_returned.toString());o.forEach(c=>{parseInt(c.unit_quantity.toString())<=_&&i.push(c)}),i.sort((c,A)=>A.unit_quantity-c.unit_quantity),this.unitsToSelect=i,this.showReturnForm=!0,this.buttonClicked=!1}updateUnitSelected(e){this.itemToSellModel.unit_to_return=e.value,this.itemToSellModel.qty=0,this.checkLockStatus()}checkLockStatus(){this.spinner.show("reverse");const e={action:this.cryptoSrv.encodeEncryptText("check-lock-status"),item_id:this.itemToSellModel.id,location_id:this.itemToSellModel.location.id,uid:this.authSrv.getUserDetailToken("uid"),right:this.cryptoSrv.encodeEncryptText("sell_cash")};this.apiSrv.read(e).then(i=>{"error"!=i.status?"error2"!=i.status?(this.activateSellForm=!0,this.loading=!1,this.spinner.hide("reverse")):(this.spinner.hide("reverse"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("reverse"),"locked"===i.message?(this.activateSellForm=!1,this.toastr.warning("Item is locked by "+i.user)):(this.activateSellForm=!1,this.toastr.error(i.message)))}).catch(i=>{this.toastr.error(i),this.spinner.hide("reverse")})}checkQuantity(){const e=this.itemToSellModel.unit_qty*this.itemToSellModel.unit.unit_quantity-this.itemToSellModel.quantity_returned;if(this.itemToSellModel.qty*this.itemToSellModel.unit_to_return.unit_quantity>e){const o=Math.floor(e/parseInt(this.itemToSellModel.unit_to_return.unit_quantity));this.quantityError="You can only return a max of "+o+" "+this.itemToSellModel.unit_to_return.unit_name}else this.quantityError=""}hideSellForm(){this.showReturnForm=!1,this.unLockItem(this.itemToSellModel),this.itemToSellModel.unit_to_return=null,this.itemToSellModel.qty=0,this.quantityError=""}unLockItem(e){if(this.itemToSellModel.location){this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("unlock-item"),item_id:this.itemToReturn.item.id,location_id:this.itemToReturn.location.id,user_id:this.authSrv.getUserDetailToken("uid")};this.apiSrv.read(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.itemToSellModel={},this.loading=!1,this.spinner.hide()):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),"locked"===o.message?this.toastr.warning("Item is locked by "+o.user):this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide()})}else this.showReturnForm=!1,this.itemToSellModel={}}reverse(){this.buttonClicked=!0,this.spinner.show("reverse");let e=this.itemToSellModel.buying_price;this.itemToSellModel.unit_to_return.id!=this.itemToSellModel.unit.id&&(e=this.itemToSellModel.buying_price/this.itemToSellModel.unit.unit_quantity*this.itemToSellModel.unit_to_return.unit_quantity);const i={action:this.cryptoSrv.encodeEncryptText("add_stock_return"),supplier_id:this.supplierToView.id,invoice_item_id:this.itemToReturn.id,item_id:this.itemToReturn.item.id,unit_id:this.itemToSellModel.unit_to_return.id,unit_quantity:this.cryptoSrv.encodeEncryptText(this.itemToSellModel.qty.toString()),location_id:this.itemToSellModel.location.id,buying_price:this.cryptoSrv.encodeEncryptText(e.toString()),added_by:this.authSrv.getUserDetailToken("uid")};this.apiSrv.post(i).then(o=>{if("error"!=o.status)if("error2"!=o.status){const s=parseInt(this.itemToReturn.unit.unit_quantity.toString())*parseInt(this.itemToReturn.unit_qty.toString()),a=parseInt(this.itemToSellModel.unit_to_return.unit_quantity.toString())*parseInt(this.itemToSellModel.qty.toString());this.itemToReturn.quantity_returned+=a,this.itemToReturn.quantity_returned>=s&&(this.supplierItems=this.supplierItems.filter(_=>_.id!=this.itemToReturn.id)),this.itemToSellModel.qty=0,this.quantityError="",this.supplierItems=o.items,this.tempItems=o.temp_items,this.totalCartAmount=0,this.tempItems.forEach(_=>{this.totalCartAmount+=parseFloat(_.buying_price.toString())*parseFloat(_.unit_qty.toString())}),this.showReturnForm=!1,this.spinner.hide("reverse")}else this.spinner.hide("reverse"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout();else this.spinner.hide("reverse"),this.toastr.error(o.message)}).catch(o=>{this.toastr.error(o),this.spinner.hide("reverse")})}deleteItem(e){this.spinner.show("reverse");const i={action:this.cryptoSrv.encodeEncryptText("delete_stock_return_item"),id:e.id,uid:this.authSrv.getUserDetailToken("uid")};this.apiSrv.post(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.supplierItems=o.items,this.tempItems=o.temp_items,this.totalCartAmount=0,this.tempItems.forEach(s=>{this.totalCartAmount+=parseFloat(s.buying_price.toString())*parseFloat(s.unit_qty.toString())}),this.spinner.hide("reverse")):(this.spinner.hide("reverse"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("reverse"),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide("reverse")})}completeReturn(){this.spinner.show("reverse");const e={action:this.cryptoSrv.encodeEncryptText("complete_return"),supplier_id:this.supplierToView.id,uid:this.authSrv.getUserDetailToken("uid")};this.apiSrv.post(e).then(i=>{"error"!=i.status?"error2"!=i.status?(this.supplierItems=i.items,"yes"===this.printReceipt?(this.shopDetail=i.Shop,this.printTestWaitingCustomer()):(this.toastr.success("Return completed!"),this.showSupplierItems=!1,this.totalCartAmount=0,this.tempItems=[],this.ngOnInit()),this.spinner.hide("reverse")):(this.spinner.hide("reverse"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("reverse"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("reverse")})}reprintReceipt(e){this.spinner.show("reverse");const i={action:this.cryptoSrv.encodeEncryptText("complete_return"),supplier_id:this.supplierToView.id,uid:this.authSrv.getUserDetailToken("uid")};this.apiSrv.post(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.shopDetail=o.Shop,this.tempItems=o.items,this.totalCartAmount=0,this.tempItems.forEach(s=>{this.totalCartAmount+=parseFloat(s.buying_price.toString())*parseFloat(s.unit_qty.toString())}),this.printTestWaitingCustomer(),this.spinner.hide("reverse")):(this.spinner.hide("reverse"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("reverse"),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide("reverse")})}countCharactersExcludingSpaces(e){const o=e.match(/[A-Za-z0-9]/g);return o?o.length:0}addSupplier(){this.spinner.show("new");const e={action:this.cryptoSrv.encodeEncryptText("add_new_supplier"),added_by:this.authSrv.getUserDetailToken("uid"),name:this.cryptoSrv.encodeEncryptText(this.newSupplierModel.name.toString())};this.apiSrv.post(e).then(i=>{"error"!=i.status?"error2"!=i.status?(this.suppliers.push({id:i.id,supplier_name:this.newSupplierModel.name,total_supplied:0,total_paid:0}),this.displayNewItemDialog=!1,this.newSupplierModel={},this.toastr.success("Supplier record added!"),this.spinner.hide("new")):(this.spinner.hide("new"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("new"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("new")})}showPayment(e){this.supplierToView=e,this.showNewPaymentModal=!0,this.buttonClicked=!1,this.showNotification=!1}addPayment(){this.buttonClicked=!0,this.spinner.show("new");const e={action:this.cryptoSrv.encodeEncryptText("add-supplier-payment"),supplier_id:this.supplierToView.id,amount:this.cryptoSrv.encodeEncryptText(this.newPaymentModel.amount.toString()),channel:this.cryptoSrv.encodeEncryptText(this.newPaymentModel.channel.toString()),paid_to:this.cryptoSrv.encodeEncryptText(this.newPaymentModel.paid_to.toString()),paid_by:this.cryptoSrv.encodeEncryptText(this.newPaymentModel.paid_by.toString()),added_by:this.authSrv.getUserDetailToken("uid"),date_of_sale:this.cryptoSrv.encodeEncryptText(this.dateOfSale.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.post(e).then(i=>{"error"!=i.status?"error2"!=i.status?(this.showNotification=!0,this.spinner.hide("new"),setTimeout(()=>{this.showNewPaymentModal=!1,this.newPaymentModel={},this.ngOnInit()},1700)):(this.spinner.hide("new"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("new"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("new")})}confirmDeletePayment(e){this.buttonClicked=!0,this.confirmationService.confirm({message:"Are you sure you want to delete this payment?",acceptButtonStyleClass:"p-button-primary p-button-sm",rejectButtonStyleClass:"p-button-danger p-button-sm",acceptLabel:"Yes",rejectLabel:"No",accept:()=>{this.delete(e)},reject:()=>{}})}delete(e){this.spinner.show("payment");const i={action:this.cryptoSrv.encodeEncryptText("delete-supplier-payment"),added_by:this.authSrv.getUserDetailToken("uid"),id:e.id,supplier_id:this.supplierToView.id};this.apiSrv.post(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.toastr.success("Payment record deleted!"),this.paymentsToView=this.paymentsToView.filter(s=>s.id!==e.id)):(this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):this.toastr.error(o.message),this.buttonClicked=!1,this.spinner.hide("payment")}).catch(o=>{this.toastr.error(o),this.spinner.hide("payment")})}confirmSupplierDelete(e){this.confirmationService.confirm({message:"Are you sure you want to delete this supplier? Any invoices for this supplier will still remain.",acceptButtonStyleClass:"p-button-primary p-button-sm",rejectButtonStyleClass:"p-button-danger p-button-sm",acceptLabel:"Delete",rejectLabel:"Cancel",accept:()=>{this.deleteSupplier(e)},reject:()=>{}})}deleteSupplier(e){this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("delete-supplier"),added_by:this.authSrv.getUserDetailToken("uid"),id:e.id};this.apiSrv.post(i).then(o=>{"error"!=o.status?"error2"!=o.status?(this.toastr.success("Supplier record deleted!"),this.suppliers=this.suppliers.filter(s=>s.id!==e.id)):(this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):this.toastr.error(o.message),this.spinner.hide()}).catch(o=>{this.toastr.error(o),this.spinner.hide()})}createPrintDataWaiting(){this.shopDetail.name=this.cryptoSrv.decryptEncodedText(this.shopDetail.name),this.shopDetail.tcode=this.cryptoSrv.decryptEncodedText(this.shopDetail.tcode),this.shopDetail.username=this.cryptoSrv.decryptEncodedText(this.shopDetail.username),this.shopDetail.location=this.cryptoSrv.decryptEncodedText(this.shopDetail.location),this.shopDetail.description=this.cryptoSrv.decryptEncodedText(this.shopDetail.description),this.shopDetail.contacts.forEach(p=>{p=this.cryptoSrv.decryptEncodedText(p)}),this.shopDetail.receipt_options.till=this.cryptoSrv.decryptEncodedText(this.shopDetail.receipt_options.till),this.shopDetail.receipt_options.paybill=this.cryptoSrv.decryptEncodedText(this.shopDetail.receipt_options.paybill),this.shopDetail.receipt_options.paybill_account=this.cryptoSrv.decryptEncodedText(this.shopDetail.receipt_options.paybill_account),this.shopDetail.receipt_options.mpesa_business_name=this.cryptoSrv.decryptEncodedText(this.shopDetail.receipt_options.mpesa_business_name),this.shopDetail.receipt_options.footer_message=this.cryptoSrv.decryptEncodedText(this.shopDetail.receipt_options.footer_message);var e="";e+="\x1b!\0";let o=0,s=0,a=0;this.tempItems.forEach(p=>{const x=p.unit.unit_name.length+p.unit.unit_quantity.toString().length;o=Math.max(o,x);const S=p.unit_qty.toString().length;s=Math.max(s,S);const v=p.buying_price.toString().length;a=Math.max(a,v)});const _="UNIT",A="@PRICE",F=s-"QTY".length+6,Ie=a-A.length+3,Pe=_+" ".repeat(o-_.length+5)+"QTY"+" ".repeat(F)+A+" ".repeat(Ie)+"TOTAL";e+="\x1bE\r",e+="-----------------------------------------------\n",e+=Pe+"\n",e+="-----------------------------------------------\n\n",e+="\x1bE\n",this.tempItems.forEach(p=>{e+=p.item.name+"  -  "+p.location.name+"\n";const x=(0,d._)(p.unit.unit_name)+"   x",S=(0,h.uf)(p.unit_qty,this.locale,".0"),v=(0,h.uf)(p.buying_price,this.locale,".2"),ke=(0,h.uf)(parseFloat(p.buying_price.toString())*parseFloat(p.unit_qty.toString()),this.locale,".2"),Fe=s-S.length+6,Le=a-v.length+3;e+=x+" ".repeat(o-x.length+5)+S+" ".repeat(Fe)+v+" ".repeat(Le)+ke+"\n",e+="\n\n",e+="\x1ba0"}),new Date;var De=new h.uU("en-US");const Ne=Date.now(),R=De.transform(Ne,"medium"),B=this.shopDetail.name.toUpperCase();this.receiptCustomer=(0,d._)(this.supplierToView.supplier_name);var w=function(p){return String.fromCharCode(p)},H="\x1dh"+w(70)+"\x1df"+w(0)+"\x1dk"+w(69)+w(this.shopDetail.tcode.length)+this.shopDetail.tcode+w(0);if(""!==this.cryptoSrv.decryptEncodedText(this.shopDetail.receipt_options.image_url)){const p=(0,h.uf)(this.totalCartAmount,this.locale,".2");let x="";return this.shopDetail.contacts.forEach(v=>{x+=this.cryptoSrv.decryptEncodedText(v)+", "}),["\x1b@","\x1ba1","\x1d!\x10","\x1bE\r","\x1d!\x10",B+"\n","\n",{type:"raw",format:"image",flavor:"file",data:this.shopLogoUrl+this.cryptoSrv.decryptEncodedText(this.shopDetail.receipt_options.image_url),options:{language:"ESCPOS",dotDensity:"single"}},"\x1bE\n","\x1d!\0","\x1d!\0","\n",this.shopDetail.description+"\n",this.shopDetail.location+"\n","FOR ENQUIRIES CALL: "+x+"\n","\n","\x1ba0","\x1bE\r","STOCK RETURN FOR; "+this.receiptCustomer+"\n","\x1bE\n","\n",e+"\n","-----------------------------------------------\n","\x1bE\r","\x1d!\x10","TOTAL     "+p,"\n","\x1bE\n","\x1d!\0","-----------------------------------------------\n","\x1ba1",H,this.shopDetail.receipt_options.footer_message+"\n","** THANK YOU AND WELCOME AGAIN **\n","RECEIPT # "+this.shopDetail.tcode+"  "+R+"\n\n","Served by "+(0,d._)(this.shopDetail.username),"\n","\n\n\n\n\n\n\n","\x1dV\0"]}{const p=(0,h.uf)(this.totalCartAmount,this.locale,".2");let x="";return this.shopDetail.contacts.forEach(v=>{x+=this.cryptoSrv.decryptEncodedText(v)+", "}),["\x1b@","\x1ba1","\x1d!\x10","\x1bE\r",B+"\n","\x1bE\n","\x1d!\0","\x1d!\0","\n",this.shopDetail.description+"\n",this.shopDetail.location+"\n","FOR ENQUIRIES CALL: "+x+"\n","\n","\x1ba0","\x1bE\r","STOCK RETURN FOR; "+this.receiptCustomer+"\n","\x1bE\n","\n",e+"\n","-----------------------------------------------\n","\x1bE\r","\x1d!\x10","TOTAL     "+p,"\n","\x1bE\n","\x1d!\0","-----------------------------------------------\n","\x1ba1",H,this.shopDetail.receipt_options.footer_message+"\n","** THANK YOU AND WELCOME AGAIN **\n","RECEIPT # "+this.shopDetail.tcode+"  "+R+"\n\n","Served by "+(0,d._)(this.shopDetail.username),"\n","\n\n\n\n\n\n\n","\x1dV\0"]}}printTestWaitingCustomer(){this.printSrv.printtest2(this.createPrintDataWaiting()),setTimeout(()=>{this.showSupplierItems=!1,this.totalCartAmount=0,this.tempItems=[],this.ngOnInit()},1700),this.toastr.success("Return completed!")}getImageWaitingCustomer(e){this.getBase64ImageFromURL(e).subscribe(i=>{this.base64TrimmedURL=i,this.printSrv.printtest2(this.createPrintDataWaiting()),setTimeout(()=>{this.ngOnInit()},1700),this.toastr.success("Sale completed!")})}getBase64ImageFromURL(e){return Q.y.create(i=>{let o=new Image;o.crossOrigin="Anonymous",o.src=e,o.complete?(i.next(this.getBase64Image(o)),i.complete()):(o.onload=()=>{i.next(this.getBase64Image(o)),i.complete()},o.onerror=s=>{i.error(s)})})}getBase64Image(e){var i=document.createElement("canvas");i.width=e.width,i.height=e.height,i.getContext("2d").drawImage(e,-5,0);let s=i.toDataURL("image/png");return this.base64DefaultURL=s,s.replace(/^data:image\/(png|jpg);base64,/,"")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L.t2),t.Y36(Y.$),t.Y36(O._W),t.Y36($.e),t.Y36(z.s),t.Y36(W.$),t.Y36(P.YP),t.Y36(h.JJ),t.Y36(t.soG))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-suppliers"]],decls:249,vars:202,consts:[[1,"row"],[1,"col-md-2"],[1,"col-md-8"],["class","card",4,"ngIf"],["appendTo","body","modal","true","header","New supplier",3,"closable","visible","style","baseZIndex","visibleChange",4,"ngIf"],["appendTo","body","modal","true",3,"header","closable","visible","baseZIndex","visibleChange","onHide"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields","onFilter"],["dt87",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"row","px-2"],[1,"col-4"],[1,"card","card-inverse","bg-secondary"],[1,"card-content"],[1,"card-body"],[1,"media"],[1,"media-body","text-center"],[2,"margin-bottom","0.99rem"],[1,"card-text"],["bdOpacity","#fff","bdColor","rgba(255,255,255,0.76)","size","medium","name","invoice","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],[2,"color","#02926e"],["appendTo","body","modal","true","header","All invoices",3,"closable","visible","baseZIndex","visibleChange","onHide"],["dt88",""],["appendTo","body","modal","true",3,"header","closable","visible","style","baseZIndex","visibleChange",4,"ngIf"],["appendTo","body","modal","true",1,"top-dialog",3,"closable","header","visible","baseZIndex","visibleChange","onHide"],[1,"col-md-12","col-12","p-0","m-0"],[1,"card","pl-0","ml-0"],[1,"card-header","text-center","pb-0"],[1,"card-body","pl-0","ml-0"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields"],["dt",""],["bdOpacity","#fff","bdColor","rgba(255,255,255,0.76)","size","medium","name","payment","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],[1,"col-md-6"],[1,"card-header","pb-0"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields",4,"ngIf"],["class","row py-3",4,"ngIf"],["class","row",4,"ngIf"],["bdOpacity","#fff","name","reverse","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields",4,"ngIf"],["dt89",""],[1,"col-3"],["bdOpacity","#fff","bdColor","rgba(255,255,255,0.76)","size","medium","name","transactions","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],["dt90",""],["bdOpacity","#fff","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],["header","Confirm","icon","pi pi-exclamation-triangle","appendTo","body",3,"baseZIndex","closable"],[1,"card"],[1,"card-header","pb-3"],[1,"card-title"],["pButton","","type","button","class","p-button-raised p-button-success p-button-sm float-right","icon","pi pi-plus","label","Add new supplier","pTooltip","Click to add new supplier","tooltipPosition","top",3,"click",4,"ngIf"],["pButton","","type","button","icon","pi pi-list","label","Show all added invoices","pTooltip","Click to view all added invoices","tooltipPosition","top",1,"p-button-outlined","p-button-info","p-button-sm","float-right","mr-5",3,"click"],["pButton","","type","button","icon","pi pi-list","label","Show all invoices and payments","pTooltip","Click to view all invoices and payments transactions","tooltipPosition","top",1,"p-button-outlined","p-button-info","p-button-sm","float-right","mr-5",3,"click"],[1,"card-body","p-0","m-0"],["pButton","","type","button","icon","pi pi-plus","label","Add new supplier","pTooltip","Click to add new supplier","tooltipPosition","top",1,"p-button-raised","p-button-success","p-button-sm","float-right",3,"click"],[1,"ui-selectable-row",2,"word-wrap","normal"],["pSortableColumn","name",2,"width","15rem"],["field","name"],["colspan","5",2,"width","10rem"],["pInputText","","type","text","placeholder","Search ...",1,"ui-column-filter",3,"input"],[2,"word-wrap","normal"],[2,"padding","0.1rem 1rem"],[2,"white-space","nowrap"],["class","danger","tooltipPosition","top",3,"pTooltip",4,"ngIf"],[4,"ngIf"],["class","success",4,"ngIf"],["ngbDropdown","","container","body","placement","bottom-start",1,"d-inline-block"],["type","button","pButton","","id","dropdownBasic1","ngbDropdownToggle","",1,"p-button-primary","p-button-outlined"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"dropdown-menu",2,"right","auto !important","left","0 !important"],["ngbDropdownItem","",3,"click"],[1,"pi","pi-list","mr-2"],["ngbDropdownItem","",3,"click",4,"ngIf"],["tooltipPosition","top",1,"danger",3,"pTooltip"],[1,"success"],[1,"fa","fa-check"],[1,"pi","pi-money-bill","mr-2"],[1,"pi","pi-plus","mr-2"],[1,"pi","pi-trash","mr-2"],["colspan","5",2,"text-align","center"],["appendTo","body","modal","true","header","New supplier",3,"closable","visible","baseZIndex","visibleChange"],["autocomplete","off",3,"ngSubmit"],["form2","ngForm"],[1,"col-md-12"],[1,"ui-fluid"],[1,"p-field","pb-3"],["for","firstname3"],["id","firstname3","name","name","required","","type","text","pInputText","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","pButton","","icon","pi pi-check","label","Save",1,"p-button-success","p-button-sm","float-right",3,"disabled"],["type","button","pButton","","icon","pi pi-times","label","Cancel",1,"p-button-danger","mr-3","p-button-sm","float-right",3,"click"],["bdOpacity","#fff","name","new","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],[1,"ui-selectable-row"],[2,"width","10rem"],[2,"width","15rem"],[1,"flex","justify-content-center","align-items-center"],["type","date","field","date_created","display","menu"],["colspan","6"],["pInputText","","type","text","placeholder","Search...",1,"ui-column-filter",3,"input"],["pButton","","label","Clear filter","icon","pi pi-filter-slash",1,"p-button-outlined","p-button-sm","float-right","mr-5",3,"click"],["pButton","","type","button","icon","pi pi-list","label","Show invoice items","pTooltip","Click to view invoice items","tooltipPosition","top",1,"p-button-raised","p-button-warning","p-button-sm","float-right",3,"click"],["colspan","7",2,"text-align","center"],[2,"width","8rem"],[2,"width","5rem"],["colspan","7"],["colspan","2"],["class","pi pi-check success",4,"ngIf"],["class","pi pi-exclamation-circle danger",4,"ngIf"],["pButton","","type","button","icon","pi pi-list","label","Show invoice items","pTooltip","Click to view invoice items","tooltipPosition","top",1,"p-button-raised","p-button-sm","p-button-warning","float-right",3,"click"],[1,"pi","pi-check","success"],[1,"pi","pi-exclamation-circle","danger"],["colspan","9",2,"text-align","center"],["appendTo","body","modal","true",3,"header","closable","visible","baseZIndex","visibleChange"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields"],["dt2",""],["pInputText","","type","text","placeholder","Search item name",1,"ui-column-filter",3,"input"],["shape","circle"],["autocomplete","off",3,"ngSubmit",4,"ngIf"],[3,"message","showNotification",4,"ngIf"],[1,"ui-fluid","py-2"],[1,"p-field","py-2"],["id","cash","name","amount","required","","type","number","pInputNumber","",1,"form-control",3,"ngModel","ngModelChange"],[1,"p-field","pb-2"],[1,"field-radiobutton"],["name","city","value","cash","inputId","city1",3,"ngModel","ngModelChange"],["for","city1",1,"primary"],[1,"fas","fa-money-bill"],["name","city","value","mpesa","inputId","city2",3,"ngModel","ngModelChange"],["for","city2",1,"success"],[1,"fas","fa-mobile-alt"],["name","city","value","bank","inputId","city3",3,"ngModel","ngModelChange"],["for","city3",1,"info"],[1,"fas","fa-money-check","info"],["for","paid_to"],["id","paid_to","name","paid_to","required","","type","text","pInputText","",1,"form-control",3,"ngModel","ngModelChange"],["for","paid_by"],["id","paid_by","name","paid_by","required","","type","text","pInputText","",1,"form-control",3,"ngModel","ngModelChange"],["name","today","value","today","inputId","city11",3,"ngModel","ngModelChange"],["for","today"],["class","field-radiobutton",4,"ngIf"],["appendTo","body","name","start_date","required","","readonlyInput","true",3,"ngModel","maxDate","touchUI","monthNavigator","ngModelChange",4,"ngIf"],["type","button","pButton","","icon","pi pi-times","label","Close",1,"p-button-sm","p-button-danger","float-right",3,"click"],["type","submit","pButton","","icon","pi pi-check","label","Save",1,"p-button-success","p-button-sm","mr-3","float-right",3,"disabled"],["name","notToday","value","notToday","inputId","city22",3,"ngModel","ngModelChange"],["for","notToday"],["appendTo","body","name","start_date","required","","readonlyInput","true",3,"ngModel","maxDate","touchUI","monthNavigator","ngModelChange"],[3,"message","showNotification"],["pButton","","type","button","class","p-button-outlined p-button-sm p-button-danger float-right","icon","pi pi-trash","label","Delete payment",3,"disabled","click",4,"ngIf"],["pButton","","type","button","icon","pi pi-trash","label","Delete payment",1,"p-button-outlined","p-button-sm","p-button-danger","float-right",3,"disabled","click"],["pButton","","type","button","icon","pi pi-undo","label","Return","pTooltip","Click to return item","tooltipPosition","top",1,"p-button-raised","p-button-sm","p-button-help",3,"click"],["pButton","","type","button","icon","pi pi-trash","label","Delete",1,"p-button-raised","p-button-sm","p-button-outlined","p-button-sm","p-button-danger",3,"click"],[1,"row","py-3"],[1,"col-md-12","text-center"],[1,"card","bg-white","text-center"],[1,"card-content","text-center"],[1,"col-md-6","py-3","offset-md-3"],[1,"ui-fluid","px-2"],[1,"p-field"],["name","receipt1","value","yes","inputId","receipt1",3,"ngModel","ngModelChange"],["for","receipt1"],["name","receipt2","value","no","inputId","receipt2",3,"ngModel","ngModelChange"],["for","receipt2"],[1,"col-md-6","pb-4","offset-md-3"],["pButton","","type","button","icon","pi pi-check","label","Complete return",1,"p-button-raised","p-button-sm","p-button-success",3,"click"],["for","unit"],["placeholder","Select item unit","name","unit","appendTo","body","optionLabel","unit_name","filter","true",3,"options","ngModel","onChange","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],["for","unitq"],["id","unitq","name","unit_quantity","required","","type","number","pattern","[0-9]+","pInputNumber","",1,"form-control",3,"disabled","ngModel","input","ngModelChange"],["id","unitq-help","class","p-error block",4,"ngIf"],["type","button","pButton","","icon","pi pi-times","label","Cancel",1,"p-button-danger","p-button-sm","float-right",3,"click"],["type","submit","pButton","","icon","pi pi-check","label","Reverse",1,"p-button-success","p-button-sm","mr-3","float-right",3,"disabled"],[1,"ui-helper-clearfix"],["id","unitq-help",1,"p-error","block"],["pButton","","type","button","icon","pi pi-list","label","Show items",1,"p-button-raised","p-button-sm","p-button-info","float-right",3,"click"],["colspan","3",2,"text-align","center"],["dtr",""],["colspan","9"],["label","Reprint","icon","pi pi-print","iconPos","right","styleClass","p-button-help p-button-outlined p-button-sm",3,"onClick"],["colspan","8",2,"text-align","center"],["colspan","8"],["pButton","","label","Download Excel","class","p-button-outlined p-button-success p-button-sm float-right mr-5","icon","pi pi-download",3,"click",4,"ngIf"],["pButton","","label","Download Excel","icon","pi pi-download",1,"p-button-outlined","p-button-success","p-button-sm","float-right","mr-5",3,"click"],["tooltipPosition","top",3,"pTooltip"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2),t.YNc(3,At,13,13,"div",3),t.qZA()(),t.YNc(4,bt,15,9,"p-dialog",4),t.TgZ(5,"p-dialog",5),t.NdJ("visibleChange",function(a){return i.showSuppplierDialog=a})("onHide",function(){t.CHM(o);const a=t.MAs(8);return i.showSuppplierDialog=!1,a.reset(),i.resetSupplierValues(),t.KtG(i.ngOnInit())}),t.ALo(6,"titlecase"),t.TgZ(7,"p-table",6,7),t.NdJ("onFilter",function(a){return i.filterSupplierInvoices(a)}),t.YNc(9,St,21,0,"ng-template",8),t.YNc(10,yt,21,22,"ng-template",9),t.YNc(11,wt,3,0,"ng-template",10),t.qZA(),t.TgZ(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"p",18),t._uU(20,"Goods amount"),t.qZA(),t.TgZ(21,"h5",19),t._uU(22),t.ALo(23,"number"),t.qZA()()()()()()(),t.TgZ(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15)(28,"div",16)(29,"div",17)(30,"p",18),t._uU(31,"VAT amount"),t.qZA(),t.TgZ(32,"h5",19),t._uU(33),t.ALo(34,"number"),t.qZA()()()()()()(),t.TgZ(35,"div",12)(36,"div",13)(37,"div",14)(38,"div",15)(39,"div",16)(40,"div",17)(41,"p",18),t._uU(42,"Total invoice amount"),t.qZA(),t.TgZ(43,"h5",19),t._uU(44),t.ALo(45,"number"),t.qZA()()()()()()()(),t.TgZ(46,"ngx-spinner",20),t._UZ(47,"p",21),t.qZA()(),t.TgZ(48,"p-dialog",22),t.NdJ("visibleChange",function(a){return i.showAllInvoicesDialog=a})("onHide",function(){t.CHM(o);const a=t.MAs(50);return i.showAllInvoicesDialog=!1,a.reset(),i.resetPeriodicValues(),t.KtG(i.ngOnInit())}),t.TgZ(49,"p-table",6,23),t.NdJ("onFilter",function(a){return i.filterAllInvoices(a)}),t.YNc(51,Ct,25,0,"ng-template",8),t.YNc(52,Mt,26,27,"ng-template",9),t.YNc(53,It,3,0,"ng-template",10),t.qZA(),t.TgZ(54,"div",11)(55,"div",12)(56,"div",13)(57,"div",14)(58,"div",15)(59,"div",16)(60,"div",17)(61,"p",18),t._uU(62,"Goods amount"),t.qZA(),t.TgZ(63,"h5",19),t._uU(64),t.ALo(65,"number"),t.qZA()()()()()()(),t.TgZ(66,"div",12)(67,"div",13)(68,"div",14)(69,"div",15)(70,"div",16)(71,"div",17)(72,"p",18),t._uU(73,"VAT amount"),t.qZA(),t.TgZ(74,"h5",19),t._uU(75),t.ALo(76,"number"),t.qZA()()()()()()(),t.TgZ(77,"div",12)(78,"div",13)(79,"div",14)(80,"div",15)(81,"div",16)(82,"div",17)(83,"p",18),t._uU(84,"Total invoice amount"),t.qZA(),t.TgZ(85,"h5",19),t._uU(86),t.ALo(87,"number"),t.qZA()()()()()()()(),t.TgZ(88,"ngx-spinner",20),t._UZ(89,"p",21),t.qZA()(),t.YNc(90,kt,5,17,"p-dialog",24),t.YNc(91,Rt,6,12,"p-dialog",24),t.TgZ(92,"p-dialog",25),t.NdJ("visibleChange",function(a){return i.showPaymentsDialog=a})("onHide",function(){return i.showPaymentsDialog=!1,i.ngOnInit()}),t.ALo(93,"titlecase"),t.TgZ(94,"div",0)(95,"div",26)(96,"div",27),t._UZ(97,"div",28),t.TgZ(98,"div",14)(99,"div",29)(100,"p-table",30,31),t.YNc(102,Bt,14,0,"ng-template",8),t.YNc(103,jt,21,20,"ng-template",9),t.YNc(104,Qt,3,0,"ng-template",10),t.qZA()()()()()(),t.TgZ(105,"ngx-spinner",32),t._UZ(106,"p",21),t.qZA()(),t.TgZ(107,"p-dialog",5),t.NdJ("visibleChange",function(a){return i.showSupplierItems=a})("onHide",function(){return i.ngOnInit(),i.totalCartAmount=0}),t.ALo(108,"titlecase"),t.TgZ(109,"div",0)(110,"div",33)(111,"div",27)(112,"div",34)(113,"h5"),t._uU(114,"Select item to return"),t.qZA()(),t.TgZ(115,"div",14)(116,"div",29),t.YNc(117,Kt,4,10,"p-table",35),t.qZA()()()(),t.TgZ(118,"div",33)(119,"div",27)(120,"div",28)(121,"h5"),t._uU(122,"Items to return"),t.qZA()(),t.TgZ(123,"div",14)(124,"div",29),t.YNc(125,$t,4,10,"p-table",35),t.YNc(126,zt,7,4,"div",36),t.YNc(127,Wt,14,2,"div",37),t.qZA()()(),t.TgZ(128,"ngx-spinner",38),t._UZ(129,"p",21),t.qZA()()()(),t.YNc(130,ne,5,10,"p-dialog",24),t.TgZ(131,"p-dialog",5),t.NdJ("visibleChange",function(a){return i.showSupplierReturnsDialog=a})("onHide",function(){return i.showSupplierReturnsDialog=!1,i.ngOnInit()}),t.ALo(132,"titlecase"),t.YNc(133,le,5,11,"p-table",39),t.qZA(),t.TgZ(134,"p-dialog",5),t.NdJ("visibleChange",function(a){return i.showReturnItems=a})("onHide",function(){return i.showReturnItems=!1}),t.ALo(135,"date"),t.YNc(136,_e,5,11,"p-table",39),t.TgZ(137,"ngx-spinner",38),t._UZ(138,"p",21),t.qZA()(),t.TgZ(139,"p-dialog",5),t.NdJ("visibleChange",function(a){return i.showSupplierTransactions=a})("onHide",function(){t.CHM(o);const a=t.MAs(142);return i.showSupplierTransactions=!1,a.reset(),i.resetSupplierTransactions(),i.ngOnInit(),t.KtG(i.supplierTransactions=[])}),t.ALo(140,"titlecase"),t.TgZ(141,"p-table",6,40),t.NdJ("onFilter",function(a){return i.filterSupplierTransactions(a)}),t.YNc(143,me,24,1,"ng-template",8),t.YNc(144,ge,25,29,"ng-template",9),t.YNc(145,fe,3,0,"ng-template",10),t.qZA(),t.TgZ(146,"div",11)(147,"div",41)(148,"div",13)(149,"div",14)(150,"div",15)(151,"div",16)(152,"div",17)(153,"p",18),t._uU(154,"Opening balance"),t.qZA(),t.TgZ(155,"h5",19),t._uU(156),t.ALo(157,"number"),t.qZA()()()()()()(),t.TgZ(158,"div",41)(159,"div",13)(160,"div",14)(161,"div",15)(162,"div",16)(163,"div",17)(164,"p",18),t._uU(165,"Amount supplied"),t.qZA(),t.TgZ(166,"h5",19),t._uU(167),t.ALo(168,"number"),t.qZA()()()()()()(),t.TgZ(169,"div",41)(170,"div",13)(171,"div",14)(172,"div",15)(173,"div",16)(174,"div",17)(175,"p",18),t._uU(176,"Amount paid"),t.qZA(),t.TgZ(177,"h5",19),t._uU(178),t.ALo(179,"number"),t.qZA()()()()()()(),t.TgZ(180,"div",41)(181,"div",13)(182,"div",14)(183,"div",15)(184,"div",16)(185,"div",17)(186,"p",18),t._uU(187,"Closing balance"),t.qZA(),t.TgZ(188,"h5",19),t._uU(189),t.ALo(190,"number"),t.qZA()()()()()()()(),t.TgZ(191,"ngx-spinner",42),t._UZ(192,"p",21),t.qZA()(),t.TgZ(193,"p-dialog",5),t.NdJ("visibleChange",function(a){return i.showAllSuppliersTransactions=a})("onHide",function(){t.CHM(o);const a=t.MAs(142);return i.showAllSuppliersTransactions=!1,a.reset(),i.resetAllSupplierTransactions(),i.ngOnInit(),t.KtG(i.allSuppliersTransactions=[])}),t.TgZ(194,"p-table",6,43),t.NdJ("onFilter",function(a){return i.filterAllSupplierPaymentTransactions(a)}),t.YNc(196,xe,26,1,"ng-template",8),t.YNc(197,Ze,28,32,"ng-template",9),t.YNc(198,Ae,3,0,"ng-template",10),t.qZA(),t.TgZ(199,"div",11)(200,"div",41)(201,"div",13)(202,"div",14)(203,"div",15)(204,"div",16)(205,"div",17)(206,"p",18),t._uU(207,"Opening balance"),t.qZA(),t.TgZ(208,"h5",19),t._uU(209),t.ALo(210,"number"),t.qZA()()()()()()(),t.TgZ(211,"div",41)(212,"div",13)(213,"div",14)(214,"div",15)(215,"div",16)(216,"div",17)(217,"p",18),t._uU(218,"Amount supplied"),t.qZA(),t.TgZ(219,"h5",19),t._uU(220),t.ALo(221,"number"),t.qZA()()()()()()(),t.TgZ(222,"div",41)(223,"div",13)(224,"div",14)(225,"div",15)(226,"div",16)(227,"div",17)(228,"p",18),t._uU(229,"Amount paid"),t.qZA(),t.TgZ(230,"h5",19),t._uU(231),t.ALo(232,"number"),t.qZA()()()()()()(),t.TgZ(233,"div",41)(234,"div",13)(235,"div",14)(236,"div",15)(237,"div",16)(238,"div",17)(239,"p",18),t._uU(240,"Closing balance"),t.qZA(),t.TgZ(241,"h5",19),t._uU(242),t.ALo(243,"number"),t.qZA()()()()()()()(),t.TgZ(244,"ngx-spinner",42),t._UZ(245,"p",21),t.qZA()(),t.TgZ(246,"ngx-spinner",44),t._UZ(247,"p",21),t.qZA(),t._UZ(248,"p-confirmDialog",45)}2&e&&(t.xp6(3),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.displayNewItemDialog),t.xp6(1),t.Akn(t.DdM(183,y)),t.Q6J("header",i.showSuppplierDialog?"Invoices for "+t.lcZ(6,129,i.supplierToView.supplier_name):"")("closable",!0)("visible",i.showSuppplierDialog)("baseZIndex",1e4),t.xp6(2),t.Q6J("value",i.invoicesToView)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(184,m))("loading",i.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(185,J)),t.xp6(15),t.hij("Ksh ",t.xi3(23,131,i.totalSupplierGoodsAmount,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(34,134,i.totalSupplierVatAmount,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(45,137,i.totalSupplierAmount,".2"),""),t.xp6(2),t.Q6J("fullScreen",!1),t.xp6(2),t.Akn(t.DdM(186,ve)),t.Q6J("closable",!0)("visible",i.showAllInvoicesDialog)("baseZIndex",1e4),t.xp6(1),t.Q6J("value",i.allInvoices)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(187,m))("loading",i.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(188,be)),t.xp6(15),t.hij("Ksh ",t.xi3(65,140,i.totalPeriodGoodsAmount,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(76,143,i.totalPeriodVatAmount,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(87,146,i.totalPeriodAmount,".2"),""),t.xp6(2),t.Q6J("fullScreen",!1),t.xp6(2),t.Q6J("ngIf",i.showInvoiceItemsDialog),t.xp6(1),t.Q6J("ngIf",i.showNewPaymentModal),t.xp6(1),t.Akn(t.DdM(189,Se)),t.Q6J("closable",!0)("header",i.showPaymentsDialog?"Payments made for "+t.lcZ(93,149,i.supplierToView.supplier_name):"")("visible",i.showPaymentsDialog)("baseZIndex",2e4),t.xp6(8),t.Q6J("value",i.paymentsToView)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(190,m))("loading",i.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(191,J)),t.xp6(5),t.Q6J("fullScreen",!1),t.xp6(2),t.Akn(t.DdM(192,y)),t.Q6J("header",i.showSupplierItems?"Items supplied by "+t.lcZ(108,151,i.supplierToView.supplier_name):"")("closable",!0)("visible",i.showSupplierItems)("baseZIndex",1e4),t.xp6(10),t.Q6J("ngIf",i.showSupplierItems),t.xp6(8),t.Q6J("ngIf",i.showSupplierItems),t.xp6(1),t.Q6J("ngIf",i.totalCartAmount>0),t.xp6(1),t.Q6J("ngIf",i.totalCartAmount>0),t.xp6(1),t.Q6J("fullScreen",!1),t.xp6(2),t.Q6J("ngIf",i.showReturnForm),t.xp6(1),t.Akn(t.DdM(193,ye)),t.Q6J("header",i.showSupplierReturnsDialog?"Returns for "+t.lcZ(132,153,i.supplierToView.supplier_name):"")("closable",!0)("visible",i.showSupplierReturnsDialog)("baseZIndex",1e4),t.xp6(2),t.Q6J("ngIf",i.showSupplierReturnsDialog),t.xp6(1),t.Akn(t.DdM(194,y)),t.Q6J("header",i.showReturnItems?"Items returned on "+t.lcZ(135,155,i.returnItems.date_returned):"")("closable",!0)("visible",i.showReturnItems)("baseZIndex",1e4),t.xp6(2),t.Q6J("ngIf",i.showReturnItems),t.xp6(1),t.Q6J("fullScreen",!1),t.xp6(2),t.Akn(t.DdM(195,y)),t.Q6J("header",i.showSupplierTransactions?"All transactions for "+t.lcZ(140,157,i.supplierToView.supplier_name):"")("closable",!0)("visible",i.showSupplierTransactions)("baseZIndex",1e4),t.xp6(2),t.Q6J("value",i.supplierTransactions)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(196,m))("loading",i.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(197,we)),t.xp6(15),t.hij("Ksh ",t.xi3(157,159,i.openingBalance,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(168,162,i.amountSupplied,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(179,165,i.amountPaid,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(190,168,i.closingBalance,".2"),""),t.xp6(2),t.Q6J("fullScreen",!1),t.xp6(2),t.Akn(t.DdM(198,y)),t.Q6J("header",i.showAllSuppliersTransactions?"All supplier invoices and payment transactions":"")("closable",!0)("visible",i.showAllSuppliersTransactions)("baseZIndex",1e4),t.xp6(1),t.Q6J("value",i.allSuppliersTransactions)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(199,m))("loading",i.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(200,Ce)),t.xp6(15),t.hij("Ksh ",t.xi3(210,171,i.openingBalanceAll,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(221,174,i.amountSuppliedAll,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(232,177,i.amountPaidAll,".2"),""),t.xp6(11),t.hij("Ksh ",t.xi3(243,180,i.closingBalanceAll,".2"),""),t.xp6(2),t.Q6J("fullScreen",!1),t.xp6(2),t.Q6J("fullScreen",!0),t.xp6(2),t.Akn(t.DdM(201,k)),t.Q6J("baseZIndex",1e4)("closable",!1))},dependencies:[h.O5,L.Ro,Z._Y,Z.Fj,Z.wV,Z.JJ,Z.JL,Z.Q7,Z.c5,Z.On,Z.F,X.V,P.$_,P.jx,tt.Q,E.Hq,E.zx,U.iA,U.lQ,U.fz,U.xl,et.o,it.Lt,ot.u,M.jt,M.iD,M.Vi,M.TH,nt.H,st.q,rt.EU,at.f,lt.c,h.JJ,h.rS,h.uU],styles:["label[_ngcontent-%COMP%]{text-transform:none}[_nghost-%COMP%]     p-colorpicker .p-colorpicker .p-colorpicker-preview{border-radius:30px}[_nghost-%COMP%]     p-dialog .p-dialog-header{border-radius:30px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{border-bottom-right-radius:30px}"],data:{animation:[(0,f.X$)("enter",[(0,f.eR)("void => *",[(0,f.oB)({opacity:0}),(0,f.jt)(1e3,(0,f.oB)({opacity:1}))])])]}}),n})(),data:{title:"Suppliers"}}];let Ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[q.Bz.forChild(qe),q.Bz]}),n})(),Me=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Ue,u.U]}),n})()}}]);