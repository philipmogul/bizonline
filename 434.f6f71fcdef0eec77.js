"use strict";(self.webpackChunkmatngular=self.webpackChunkmatngular||[]).push([[434],{8441:(Ft,N,c)=>{c.r(N),c.d(N,{PeriodicModule:()=>Mt});var J=c(2318),B=c(5861),e=c(4650),D=c(7340),$=c(9441),z=c(4313),g=c(2841),j=c(3583),W=c(2983),w=c.n(W),I=c(8423),X=c(3166),ee=c(7185),te=c(1927),oe=c(1932),P=c(6895),R=c(805),ie=c(9775),M=c(4006),se=c(1493),H=c(5593),U=c(3087),re=c(1740),ae=c(666),ne=c(605),le=c(3608),pe=c(2435),de=c(8558),ce=c(8271),_e=c(585),he=c(6205);const ue=["chart"],ge=["op"];function me(r,l){1&r&&(e.TgZ(0,"small",50),e._uU(1," End date should be greator than start date "),e.qZA())}function Ze(r,l){1&r&&(e.TgZ(0,"small",50),e._uU(1," Period should not exceed 1 year. "),e.qZA())}function Te(r,l){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(t.name)}}function fe(r,l){if(1&r&&(e.TgZ(0,"div",51)(1,"div"),e._uU(2),e.qZA()()),2&r){const t=l.$implicit;e.xp6(2),e.Oqu(t.name)}}function ve(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.showPeriodicSales())}),e.qZA()}}function be(r,l){if(1&r&&(e.TgZ(0,"div",7)(1,"div",2)(2,"div",5)(3,"div",6)(4,"div",67),e._UZ(5,"apx-chart",68),e.qZA()()()()()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("@enter",void 0),e.xp6(4),e.Q6J("series",t.chartOptions1.series)("colors",t.chartOptions1.colors)("chart",t.chartOptions1.chart)("xaxis",t.chartOptions1.xaxis)("yaxis",t.chartOptions1.yaxis)("title",t.chartOptions1.title)("dataLabels",t.chartOptions1.dataLabels)("stroke",t.chartOptions1.stroke)("grid",t.chartOptions1.grid)("tooltip",t.chartOptions1.tooltip)("plotOptions",t.chartOptions1.plotOptions)("fill",t.chartOptions1.fill)("legend",t.chartOptions1.legend)("labels",t.chartOptions1.labels)("markers",t.chartOptions1.markers)("theme",t.chartOptions1.theme)("responsive",t.chartOptions1.responsive)}}function xe(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"th",71)(1,"p-button",72),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.showAllTransactions())}),e.qZA()()}}function Ae(r,l){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",69),e.TgZ(2,"th"),e._uU(3,"User "),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Gross sales"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Expenses"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Net sales"),e.qZA(),e.YNc(10,xe,2,0,"th",70),e.qZA()),2&r){const t=e.oxw(2);e.xp6(10),e.Q6J("ngIf",0!=t.grossSales)}}function we(r,l){1&r&&e._UZ(0,"td")}function Ce(r,l){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"button",73),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"currency"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"currency"),e.qZA(),e.YNc(14,we,1,0,"td",74),e.qZA()),2&r){const t=l.$implicit,o=l.expanded,s=e.oxw(2);e.xp6(2),e.Q6J("pRowToggler",t)("icon",o?"pi pi-chevron-down":"pi pi-chevron-right"),e.xp6(2),e.Oqu(t.user_name),e.xp6(2),e.Oqu(e.xi3(7,7,t.gross_sales,"Ksh")),e.xp6(3),e.Oqu(e.xi3(10,10,t.expenses,"Ksh")),e.xp6(3),e.Oqu(e.xi3(13,13,t.gross_sales-t.expenses,"Ksh")),e.xp6(2),e.Q6J("ngIf",0!=s.grossSales)}}function Se(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",75)(2,"div",76)(3,"div",1)(4,"div",2)(5,"div",77)(6,"h6",4),e._uU(7," Cash transactions "),e.qZA()(),e.TgZ(8,"div",78)(9,"table",79)(10,"tr")(11,"td"),e._uU(12,"Float"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"tr",80),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserCashSales(i.user_id,i.user_name))}),e.TgZ(17,"td"),e._uU(18,"Cash sales"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"number"),e.qZA()(),e.TgZ(22,"tr",81),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserPaidDebtorsCash(i,i.user_name))}),e.TgZ(23,"td"),e._uU(24,"Paid debtors cash"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.ALo(27,"number"),e.qZA()(),e.TgZ(28,"tr",82),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserExpenses(i.user_id,i.user_name))}),e.TgZ(29,"td"),e._uU(30,"Expenses"),e.qZA(),e.TgZ(31,"td"),e._uU(32),e.ALo(33,"number"),e.qZA()(),e.TgZ(34,"tr",83),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showUserReversals(i.user_id,i.user_name,"cash"))}),e.TgZ(35,"td"),e._uU(36,"Reversed cash sales"),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.ALo(39,"number"),e.qZA()(),e.TgZ(40,"tr",84),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserReversedMultipleCash(i.user_id,i.user_name))}),e.TgZ(41,"td"),e._uU(42,"Reversed multiple payments"),e.qZA(),e.TgZ(43,"td"),e._uU(44),e.ALo(45,"number"),e.qZA()(),e.TgZ(46,"tr",85)(47,"td"),e._uU(48,"Net cash"),e.qZA(),e.TgZ(49,"td"),e._uU(50),e.ALo(51,"number"),e.qZA()()()()()(),e.TgZ(52,"div",1)(53,"div",2)(54,"div",77)(55,"h5",4),e._uU(56," Mpesa transactions "),e.qZA()(),e.TgZ(57,"div",86)(58,"table",87)(59,"tr",88),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserMpesaSales(i.user_id,i.user_name))}),e.TgZ(60,"td"),e._uU(61,"Mpesa sales"),e.qZA(),e.TgZ(62,"td"),e._uU(63),e.ALo(64,"number"),e.qZA()(),e.TgZ(65,"tr",81),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserPaidDebtorsMpesa(i,i.user_name))}),e.TgZ(66,"td"),e._uU(67,"Paid debtors mpesa"),e.qZA(),e.TgZ(68,"td"),e._uU(69),e.ALo(70,"number"),e.qZA()(),e.TgZ(71,"tr",83),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showUserReversals(i.user_id,i.user_name,"mpesa"))}),e.TgZ(72,"td"),e._uU(73,"Reversed mpesa sales"),e.qZA(),e.TgZ(74,"td"),e._uU(75),e.ALo(76,"number"),e.qZA()(),e.TgZ(77,"tr",84),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserReversedMultipleMpesa(i.user_id,i.user_name))}),e.TgZ(78,"td"),e._uU(79,"Reversed multiple payments"),e.qZA(),e.TgZ(80,"td"),e._uU(81),e.ALo(82,"number"),e.qZA()(),e.TgZ(83,"tr",85)(84,"td"),e._uU(85,"Net mpesa"),e.qZA(),e.TgZ(86,"td"),e._uU(87),e.ALo(88,"number"),e.qZA()()()()()(),e.TgZ(89,"div",1)(90,"div",2)(91,"div",77)(92,"h5",4),e._uU(93," Bank transactions "),e.qZA()(),e.TgZ(94,"div",86)(95,"table",87)(96,"tr",89),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserBankSales(i.user_id,i.user_name))}),e.TgZ(97,"td"),e._uU(98,"Bank sales"),e.qZA(),e.TgZ(99,"td"),e._uU(100),e.ALo(101,"number"),e.qZA()(),e.TgZ(102,"tr",81),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserPaidDebtorsBank(i,i.user_name))}),e.TgZ(103,"td"),e._uU(104,"Paid debtors bank"),e.qZA(),e.TgZ(105,"td"),e._uU(106),e.ALo(107,"number"),e.qZA()(),e.TgZ(108,"tr",83),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showUserReversals(i.user_id,i.user_name,"bank"))}),e.TgZ(109,"td"),e._uU(110,"Reversed bank sales"),e.qZA(),e.TgZ(111,"td"),e._uU(112),e.ALo(113,"number"),e.qZA()(),e.TgZ(114,"tr",84),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserReversedMultipleBank(i.user_id,i.user_name))}),e.TgZ(115,"td"),e._uU(116,"Reversed multiple payments"),e.qZA(),e.TgZ(117,"td"),e._uU(118),e.ALo(119,"number"),e.qZA()(),e.TgZ(120,"tr",85)(121,"td"),e._uU(122,"Net bank"),e.qZA(),e.TgZ(123,"td"),e._uU(124),e.ALo(125,"number"),e.qZA()()()()()(),e.TgZ(126,"div",1)(127,"div",2)(128,"div",77)(129,"h5",4),e._uU(130," Debtors "),e.qZA()(),e.TgZ(131,"div",78)(132,"table",87)(133,"tr",84),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserDebtorSales(i.user_id,i.user_name))}),e.TgZ(134,"td"),e._uU(135,"Debtor sales"),e.qZA(),e.TgZ(136,"td"),e._uU(137),e.ALo(138,"number"),e.qZA()(),e.TgZ(139,"tr",84),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showUserDebtorReversals(i.user_id,i.user_name,"debtor"))}),e.TgZ(140,"td"),e._uU(141,"Reversed debtor sales"),e.qZA(),e.TgZ(142,"td"),e._uU(143),e.ALo(144,"number"),e.qZA()()()()()(),e.TgZ(145,"div",1)(146,"div",2)(147,"div",77)(148,"h5",4),e._uU(149," Transfers "),e.qZA()(),e.TgZ(150,"div",78)(151,"table",87)(152,"tr",84),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserTransferSales(i.user_id,i.user_name))}),e.TgZ(153,"td"),e._uU(154,"Transfer sales"),e.qZA(),e.TgZ(155,"td"),e._uU(156),e.ALo(157,"number"),e.qZA()(),e.TgZ(158,"tr",84),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showUserDebtorReversals(i.user_id,i.user_name,"transfer"))}),e.TgZ(159,"td"),e._uU(160,"Reversed transfer sales"),e.qZA(),e.TgZ(161,"td"),e._uU(162),e.ALo(163,"number"),e.qZA()()()()()(),e.TgZ(164,"div",1)(165,"div",2)(166,"div",77)(167,"h5",4),e._uU(168," Discounts "),e.qZA()(),e.TgZ(169,"div",78)(170,"table",87)(171,"tr",90),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showDiscounts(i.user_id,i.user_name,"cash"))}),e.TgZ(172,"td"),e._uU(173,"Cash sale discounts"),e.qZA(),e.TgZ(174,"td"),e._uU(175),e.ALo(176,"number"),e.qZA()(),e.TgZ(177,"tr",90),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showDiscounts(i.user_id,i.user_name,"debtor"))}),e.TgZ(178,"td"),e._uU(179,"Debtor sale discounts"),e.qZA(),e.TgZ(180,"td"),e._uU(181),e.ALo(182,"number"),e.qZA()()()()()(),e.TgZ(183,"div",1)(184,"div",2)(185,"div",77)(186,"h5",4),e._uU(187," Overcharges "),e.qZA()(),e.TgZ(188,"div",78)(189,"table",87)(190,"tr",91),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showOvercharges(i.user_id,i.user_name,"cash"))}),e.TgZ(191,"td"),e._uU(192,"Cash sale overcharges"),e.qZA(),e.TgZ(193,"td"),e._uU(194),e.ALo(195,"number"),e.qZA()(),e.TgZ(196,"tr",91),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showOvercharges(i.user_id,i.user_name,"debtor"))}),e.TgZ(197,"td"),e._uU(198,"Debtor sale overcharges"),e.qZA(),e.TgZ(199,"td"),e._uU(200),e.ALo(201,"number"),e.qZA()()()()()(),e.TgZ(202,"div",1)(203,"div",2)(204,"div",77)(205,"h5",4),e._uU(206," Added stock "),e.qZA()(),e.TgZ(207,"div",78)(208,"table",87)(209,"tr",92),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserAddedInvoices(i,i.user_name))}),e.TgZ(210,"td"),e._uU(211,"Invoices"),e.qZA(),e.TgZ(212,"td"),e._uU(213),e.ALo(214,"number"),e.qZA()(),e.TgZ(215,"tr",93),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserStockPositive(i,i.user_name))}),e.TgZ(216,"td"),e._uU(217,"Stock positive"),e.qZA(),e.TgZ(218,"td"),e._uU(219),e.ALo(220,"number"),e.qZA()(),e.TgZ(221,"tr",93),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodUserStockNegative(i,i.user_name))}),e.TgZ(222,"td"),e._uU(223,"Stock negative"),e.qZA(),e.TgZ(224,"td"),e._uU(225),e.ALo(226,"number"),e.qZA()()()()()(),e.TgZ(227,"div",1)(228,"div",2)(229,"div",77)(230,"h5",4),e._uU(231," Paid suppliers "),e.qZA()(),e.TgZ(232,"div",78)(233,"table",87)(234,"tr",94),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodSupplierPayments(i,i.user_name))}),e.TgZ(235,"td"),e._uU(236,"Paid amount"),e.qZA(),e.TgZ(237,"td"),e._uU(238),e.ALo(239,"number"),e.qZA()(),e.TgZ(240,"tr",94),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.showPeriodSupplierPayments(i,i.user_name))}),e.TgZ(241,"td"),e._uU(242,"Returns"),e.qZA(),e.TgZ(243,"td"),e._uU(244),e.ALo(245,"number"),e.qZA()()()()()()()()()}if(2&r){const t=l.$implicit,o=e.oxw(2);e.xp6(14),e.Oqu(e.xi3(15,30,t.float,".2")),e.xp6(6),e.Oqu(e.xi3(21,33,t.cash_banked,".2")),e.xp6(6),e.Oqu(e.xi3(27,36,t.paid_debtors.paid_debtors_cash,".2")),e.xp6(6),e.Oqu(e.xi3(33,39,t.expenses,".2")),e.xp6(6),e.Oqu(e.xi3(39,42,t.cash_reversed,".2")),e.xp6(6),e.Oqu(e.xi3(45,45,t.reversed_multiple,".2")),e.xp6(6),e.Oqu(e.xi3(51,48,o.getNumber(t.float)+o.getNumber(t.cash_banked)+o.getNumber(t.paid_debtors.paid_debtors_cash)-o.getNumber(t.expenses)-o.getNumber(t.cash_reversed),".2")),e.xp6(13),e.Oqu(e.xi3(64,51,t.mpesa_banked,".2")),e.xp6(6),e.Oqu(e.xi3(70,54,t.paid_debtors.paid_debtors_mpesa,".2")),e.xp6(6),e.Oqu(e.xi3(76,57,t.mpesa_reversed,".2")),e.xp6(6),e.Oqu(e.xi3(82,60,t.reversed_multiple,".2")),e.xp6(6),e.Oqu(e.xi3(88,63,o.getNumber(t.mpesa_banked)+o.getNumber(t.paid_debtors.paid_debtors_mpesa)-o.getNumber(t.mpesa_reversed),".2")),e.xp6(13),e.Oqu(e.xi3(101,66,t.bank_banked,".2")),e.xp6(6),e.Oqu(e.xi3(107,69,t.paid_debtors.paid_debtors_bank,".2")),e.xp6(6),e.Oqu(e.xi3(113,72,t.bank_reversed,".2")),e.xp6(6),e.Oqu(e.xi3(119,75,t.reversed_multiple,".2")),e.xp6(6),e.Oqu(e.xi3(125,78,o.getNumber(t.bank_banked)+o.getNumber(t.paid_debtors.paid_debtors_bank)-o.getNumber(t.bank_reversed),".2")),e.xp6(13),e.Oqu(e.xi3(138,81,t.debtor_sales,".2")),e.xp6(6),e.Oqu(e.xi3(144,84,t.debtor_reversed,".2")),e.xp6(13),e.Oqu(e.xi3(157,87,t.transfer_sales,".2")),e.xp6(6),e.Oqu(e.xi3(163,90,t.transfer_reversed,".2")),e.xp6(13),e.Oqu(e.xi3(176,93,t.cash_discounts,".2")),e.xp6(6),e.Oqu(e.xi3(182,96,t.debtor_discounts,".2")),e.xp6(13),e.Oqu(e.xi3(195,99,t.cash_overcharges,".2")),e.xp6(6),e.Oqu(e.xi3(201,102,t.debtor_overcharges,".2")),e.xp6(13),e.Oqu(e.xi3(214,105,t.added_stock.total_supplier_stock,".2")),e.xp6(6),e.Oqu(e.xi3(220,108,t.added_stock.stock_positive_total,".2")),e.xp6(6),e.Oqu(e.xi3(226,111,t.added_stock.stock_negative_total,".2")),e.xp6(13),e.Oqu(e.xi3(239,114,t.paid_suppliers.paid,".2")),e.xp6(6),e.Oqu(e.xi3(245,117,t.paid_suppliers.returns,".2"))}}const O=function(){return{width:"95vw"}},Pe=function(){return{"min-width":"60rem"}};function ye(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",53),e.NdJ("onHide",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.ngOnInit())})("visibleChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.showPeriodSalesDialog=s)}),e.ALo(1,"date"),e.ALo(2,"date"),e.ALo(3,"titlecase"),e.TgZ(4,"div",54)(5,"div",55),e.YNc(6,be,6,18,"div",56),e.TgZ(7,"a",24)(8,"div",57)(9,"div",58)(10,"div",59)(11,"div",2)(12,"div",5)(13,"div",6)(14,"div",26)(15,"div",27)(16,"p",60),e._uU(17,"Gross sales"),e.qZA(),e.TgZ(18,"h5",28),e._uU(19,"Ksh"),e.qZA()()()()()()(),e.TgZ(20,"div",61)(21,"div",25)(22,"div",5)(23,"div",6)(24,"div",26)(25,"div",27)(26,"p",60),e._uU(27,"Gross sales"),e.qZA(),e.TgZ(28,"h5",62),e._uU(29),e.ALo(30,"number"),e.qZA()()()()()()()()()(),e.TgZ(31,"a",63)(32,"div",57)(33,"div",58)(34,"div",59)(35,"div",2)(36,"div",5)(37,"div",6)(38,"div",26)(39,"div",27)(40,"p",60),e._uU(41,"Debtors"),e.qZA(),e.TgZ(42,"h5",28),e._uU(43,"Ksh"),e.qZA()()()()()()(),e.TgZ(44,"div",61)(45,"div",25)(46,"div",5)(47,"div",6)(48,"div",26)(49,"div",27)(50,"p",60),e._uU(51,"Debtors"),e.qZA(),e.TgZ(52,"h5",28),e._uU(53),e.ALo(54,"number"),e.qZA()()()()()()()()(),e._UZ(55,"div",64),e.qZA(),e.TgZ(56,"a",63)(57,"div",57)(58,"div",58)(59,"div",59)(60,"div",2)(61,"div",5)(62,"div",6)(63,"div",26)(64,"div",27)(65,"p",60),e._uU(66,"Gross profit"),e.qZA(),e.TgZ(67,"h5",28),e._uU(68,"Ksh"),e.qZA()()()()()()(),e.TgZ(69,"div",61)(70,"div",25)(71,"div",5)(72,"div",6)(73,"div",26)(74,"div",27)(75,"p",60),e._uU(76,"Gross profit"),e.qZA(),e.TgZ(77,"h5",28),e._uU(78),e.ALo(79,"number"),e.qZA()()()()()()()()()(),e.TgZ(80,"a",63)(81,"div",57)(82,"div",58)(83,"div",59)(84,"div",2)(85,"div",5)(86,"div",6)(87,"div",26)(88,"div",27)(89,"p",60),e._uU(90,"Expenses"),e.qZA(),e.TgZ(91,"h5",28),e._uU(92,"Ksh"),e.qZA()()()()()()(),e.TgZ(93,"div",61)(94,"div",25)(95,"div",5)(96,"div",6)(97,"div",26)(98,"div",27)(99,"p",60),e._uU(100,"Expenses"),e.qZA(),e.TgZ(101,"h5",28),e._uU(102),e.ALo(103,"number"),e.qZA()()()()()()()()()(),e.TgZ(104,"a",24)(105,"div",57)(106,"div",58)(107,"div",59)(108,"div",2)(109,"div",5)(110,"div",6)(111,"div",26)(112,"div",27)(113,"p",60),e._uU(114,"Net profit"),e.qZA(),e.TgZ(115,"h5",28),e._uU(116,"Ksh"),e.qZA()()()()()()(),e.TgZ(117,"div",61)(118,"div",25)(119,"div",5)(120,"div",6)(121,"div",26)(122,"div",27)(123,"p",60),e._uU(124,"Net profit"),e.qZA(),e.TgZ(125,"h5",28),e._uU(126),e.ALo(127,"number"),e.qZA()()()()()()()()(),e._UZ(128,"div",64),e.qZA()(),e.TgZ(129,"div",0)(130,"div",7)(131,"p-table",65),e.YNc(132,Ae,11,1,"ng-template",37),e.YNc(133,Ce,15,16,"ng-template",38),e.YNc(134,Se,246,120,"ng-template",66),e.qZA()()()(),e.TgZ(135,"ngx-spinner",31),e._UZ(136,"p",32),e.qZA()()}if(2&r){const t=e.oxw();e.Akn(e.DdM(48,O)),e.Q6J("header",t.showPeriodSalesDialog?"Sales report from "+e.xi3(1,25,t.periodStartDate,"fullDate")+" to "+e.xi3(2,28,t.periodEndDate,"fullDate")+" for "+e.lcZ(3,31,t.locationToView.name):"")("closable",!0)("visible",t.showPeriodSalesDialog)("baseZIndex",1e4),e.xp6(6),e.Q6J("ngIf",t.chartData.length>0),e.xp6(5),e.Q6J("@enter",void 0),e.xp6(10),e.Q6J("@enter",void 0),e.xp6(8),e.hij("Ksh ",e.xi3(30,33,t.grossSales,".2"),""),e.xp6(6),e.Q6J("@enter",void 0),e.xp6(10),e.Q6J("@enter",void 0),e.xp6(8),e.hij("Ksh ",e.xi3(54,36,t.debtorsTotal,".2"),""),e.xp6(7),e.Q6J("@enter",void 0),e.xp6(10),e.Q6J("@enter",void 0),e.xp6(8),e.hij("Ksh ",e.xi3(79,39,t.grossProfit,".2"),""),e.xp6(6),e.Q6J("@enter",void 0),e.xp6(10),e.Q6J("@enter",void 0),e.xp6(8),e.hij("Ksh ",e.xi3(103,42,t.expenses,".2"),""),e.xp6(6),e.Q6J("@enter",void 0),e.xp6(10),e.Q6J("@enter",void 0),e.xp6(8),e.hij("Ksh ",e.xi3(127,45,t.grossProfit-t.expenses,".2"),""),e.xp6(5),e.Q6J("value",t.userSales)("tableStyle",e.DdM(49,Pe)),e.xp6(4),e.Q6J("fullScreen",!0)}}function De(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",96),e._uU(2,"Transaction type "),e.qZA(),e.TgZ(3,"th",96),e._uU(4,"Customer "),e.qZA(),e.TgZ(5,"th",96),e._uU(6,"Receipt number "),e.qZA(),e.TgZ(7,"th",96),e._uU(8,"Receipt total "),e.qZA(),e.TgZ(9,"th",96),e._uU(10,"Payment channel "),e.qZA(),e.TgZ(11,"th",96),e._uU(12,"Cash "),e.qZA(),e.TgZ(13,"th",96),e._uU(14,"Mpesa "),e.qZA(),e.TgZ(15,"th",96),e._uU(16,"Bank "),e.qZA(),e.TgZ(17,"th",96),e._uU(18,"Reversed "),e.qZA(),e.TgZ(19,"th",96),e._uU(20,"Profit "),e.qZA(),e.TgZ(21,"th",96),e._uU(22,"Date "),e.qZA(),e.TgZ(23,"th",96),e._uU(24,"Time "),e.qZA(),e.TgZ(25,"th",96),e._uU(26,"Sold by "),e.qZA(),e.TgZ(27,"th",97)(28,"p-splitButton",98,99),e.NdJ("onClick",function(){e.CHM(t);const s=e.MAs(29);return e.KtG(s.onDropdownButtonClick(null))}),e.qZA()()(),e.TgZ(30,"tr")(31,"th",100)(32,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(1);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(28),e.Q6J("model",t.reportActions)}}function qe(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-button",104),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.selectAllReceipt(s))}),e.qZA()}}function Ue(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"titlecase"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.ALo(26,"number"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.ALo(29,"number"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.ALo(32,"date"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.ALo(37,"titlecase"),e.qZA(),e.TgZ(38,"td"),e.YNc(39,qe,1,0,"p-button",103),e.qZA()()),2&r){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,14,t.transaction_type)," "),e.xp6(3),e.hij(" ",e.lcZ(6,16,t.customer)," "),e.xp6(3),e.hij(" ",t.transaction_code," "),e.xp6(2),e.hij(" ",e.xi3(11,18,t.transaction_total,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(14,21,t.payment_channel)," "),e.xp6(3),e.hij(" ",e.xi3(17,23,t.cash,".2")," "),e.xp6(3),e.hij(" ",e.xi3(20,26,t.mpesa,".2")," "),e.xp6(3),e.hij(" ",e.xi3(23,29,t.bank,".2")," "),e.xp6(3),e.hij(" ",e.xi3(26,32,t.reversed,".2")," "),e.xp6(3),e.hij(" ",e.xi3(29,35,t.profit,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(32,38,t.date_sold)," "),e.xp6(3),e.hij(" ",o.getTimeValue(t.date_sold)," "),e.xp6(2),e.hij(" ",e.lcZ(37,40,t.sold_by)," "),e.xp6(3),e.Q6J("ngIf","debtor payment"!=t.transaction_type)}}const f=function(){return[10,25,50]},ke=function(){return["transaction_type","transaction_code","transaction_total","customer","payment_channel","sold_by"]};function Ee(r,l){if(1&r&&(e.TgZ(0,"p-table",35,42),e.YNc(2,De,33,1,"ng-template",37),e.YNc(3,Ue,40,42,"ng-template",38),e.qZA()),2&r){const t=e.oxw();e.Q6J("value",t.allTransactions)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(8,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(9,ke))}}function Le(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",105),e._uU(2," Customer "),e._UZ(3,"p-sortIcon",106),e.qZA(),e.TgZ(4,"th",96),e._uU(5,"Receipt number "),e.qZA(),e.TgZ(6,"th",96),e._uU(7,"Receipt total "),e.qZA(),e.TgZ(8,"th",96),e._uU(9,"Payment channel "),e.qZA(),e.TgZ(10,"th",96),e._uU(11),e.qZA(),e.TgZ(12,"th",96),e._uU(13,"Reversed amount "),e.qZA(),e.TgZ(14,"th",96),e._uU(15,"Date "),e.qZA(),e.TgZ(16,"th",96),e._uU(17,"Time "),e.qZA(),e._UZ(18,"th",97),e.qZA(),e.TgZ(19,"tr")(20,"th",107)(21,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(1);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(11),e.hij("",t.showCashDialog?"Cash amount":t.showMpesaDialog?"Mpesa amount":"Bank amount"," ")}}function Me(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-button",104),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.selectReceipt(s))}),e.qZA()}}function Fe(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"titlecase"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.ALo(15,"number"),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e.YNc(26,Me,1,0,"p-button",103),e.qZA()()),2&r){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,9,t.customer.name)," "),e.xp6(3),e.hij(" ",t.transaction_code," "),e.xp6(2),e.hij(" ",e.xi3(8,11,t.transaction_total,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(11,14,t.payment.payment_channel)," "),e.xp6(3),e.hij(" ",o.showCashDialog?e.xi3(14,16,t.payment.cash,".2"):o.showMpesaDialog?e.xi3(15,19,t.payment.mpesa,".2"):e.xi3(16,22,t.payment.bank,".2")," "),e.xp6(5),e.hij(" ",e.xi3(19,25,t.payment.reversed,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(22,28,t.date_of_sale)," "),e.xp6(3),e.hij(" ",o.getTimeValue(t.date_of_sale)," "),e.xp6(2),e.Q6J("ngIf",t.transaction_total>0)}}const F=function(){return["customer.name","transaction_code","transaction_total"]};function Ne(r,l){if(1&r&&(e.TgZ(0,"p-table",35,42),e.YNc(2,Le,22,1,"ng-template",37),e.YNc(3,Fe,27,30,"ng-template",38),e.qZA()),2&r){const t=e.oxw();e.Q6J("value",t.userCashTransactions)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(8,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(9,F))}}function Je(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",109),e._uU(2,"Item "),e._UZ(3,"p-sortIcon",106),e.qZA(),e.TgZ(4,"th",96),e._uU(5,"Location "),e.qZA(),e.TgZ(6,"th",96),e._uU(7,"Unit "),e.qZA(),e.TgZ(8,"th",96),e._uU(9,"Qty "),e.qZA(),e.TgZ(10,"th",96),e._uU(11,"Price "),e.qZA(),e.TgZ(12,"th",96),e._uU(13,"Total sp "),e.qZA(),e.TgZ(14,"th",96),e._uU(15,"Bp "),e.qZA(),e.TgZ(16,"th",96),e._uU(17,"Profit "),e.qZA()(),e.TgZ(18,"tr")(19,"th",110)(20,"input",111),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(2);return e.KtG(i.filter(s.target.value,"item.name","contains"))}),e.qZA()()()}}const y=function(r){return{"background-color":r,color:"#ffffff",cursor:"pointer"}};function je(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td")(5,"p-avatarGroup"),e._UZ(6,"p-avatar",112),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"number"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"number"),e.qZA()()),2&r){const t=l.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,9,t.item.name)," "),e.xp6(4),e.Akn(e.VKq(27,y,t.location.color)),e.xp6(2),e.hij(" ",e.lcZ(9,11,t.unit.unit_name)," "),e.xp6(3),e.hij(" ",e.lcZ(12,13,t.qty)," "),e.xp6(3),e.hij(" ",e.xi3(15,15,t.sp,".2")," "),e.xp6(3),e.hij(" ",e.xi3(18,18,t.qty*t.sp,".2")," "),e.xp6(3),e.hij(" ",e.xi3(21,21,t.bp,".2")," "),e.xp6(3),e.hij(" ",e.xi3(24,24,(t.sp-t.bp)*t.qty,".2")," ")}}const V=function(){return{width:"70vw"}},k=function(){return["item.name"]};function Ie(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",39),e.NdJ("visibleChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.displayItemsDialog=s)})("onHide",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.displayItemsDialog=!1)}),e.TgZ(1,"p-table",35,36),e.YNc(3,Je,21,0,"ng-template",37),e.YNc(4,je,25,29,"ng-template",38),e.qZA(),e.TgZ(5,"ngx-spinner",108),e._UZ(6,"p",32),e.qZA()()}if(2&r){const t=e.oxw();e.Akn(e.DdM(16,V)),e.MGl("header","Items for receipt no: ",t.transactionCodeToView.transaction_code,""),e.Q6J("closable",!0)("visible",t.displayItemsDialog)("closable",!0)("baseZIndex",1e4),e.xp6(1),e.Q6J("value",t.transactionCodeToView.items)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(17,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(18,k)),e.xp6(4),e.Q6J("fullScreen",!1)}}function Re(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",96),e._uU(2,"Date "),e.qZA(),e.TgZ(3,"th",96),e._uU(4,"Receipt number "),e.qZA(),e.TgZ(5,"th",109),e._uU(6,"Item "),e._UZ(7,"p-sortIcon",106),e.qZA(),e.TgZ(8,"th",96),e._uU(9,"Location "),e.qZA(),e.TgZ(10,"th",96),e._uU(11,"Unit "),e.qZA(),e.TgZ(12,"th",96),e._uU(13,"Qty reversed "),e.qZA(),e.TgZ(14,"th",96),e._uU(15,"Selling price "),e.qZA(),e.TgZ(16,"th",96),e._uU(17,"Total "),e.qZA(),e.TgZ(18,"th",96),e._uU(19,"Time "),e.qZA()(),e.TgZ(20,"tr")(21,"th",107)(22,"input",113),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(186);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}}function He(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"td")(10,"p-avatarGroup"),e._UZ(11,"p-avatar",112),e.qZA()(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"titlecase"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()()),2&r){const t=l.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,10,t.date_of_sale)," "),e.xp6(3),e.hij(" ",t.transaction_code," "),e.xp6(2),e.hij(" ",e.lcZ(8,12,t.item.name)," "),e.xp6(4),e.Akn(e.VKq(24,y,t.location.color)),e.xp6(2),e.hij(" ",e.lcZ(14,14,t.unit.unit_name)," "),e.xp6(3),e.hij(" ",e.lcZ(17,16,t.qty_returned)," "),e.xp6(3),e.hij(" ",e.xi3(20,18,t.selling_price,".2")," "),e.xp6(3),e.hij(" ",e.xi3(23,21,t.qty_returned*t.selling_price,".2")," "),e.xp6(3),e.hij(" ",o.getTimeValue(t.date_of_sale)," ")}}function Oe(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",105),e._uU(2," Customer "),e._UZ(3,"p-sortIcon",106),e.qZA(),e.TgZ(4,"th",96),e._uU(5,"Receipt number "),e.qZA(),e.TgZ(6,"th",96),e._uU(7,"Receipt total "),e.qZA(),e.TgZ(8,"th",96),e._uU(9,"Payment channel "),e.qZA(),e.TgZ(10,"th",96),e._uU(11),e.qZA(),e.TgZ(12,"th",96),e._uU(13,"Reversed amount "),e.qZA(),e._UZ(14,"th",97),e.qZA(),e.TgZ(15,"tr")(16,"th",114)(17,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(1);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(11),e.hij("",t.showMultiplePaymentsCashDialog?"Cash amount":t.showMultiplePaymentsMpesaDialog?"Mpesa amount":t.showMultiplePaymentsBankDialog?"Bank amount":""," ")}}function Ve(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-button",104),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.selectReceipt(s))}),e.qZA()}}function Qe(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"titlecase"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.ALo(15,"number"),e.ALo(16,"number"),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td"),e.YNc(22,Ve,1,0,"p-button",103),e.qZA()()),2&r){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,7,t.customer.name)," "),e.xp6(3),e.hij(" ",t.transaction_code," "),e.xp6(2),e.hij(" ",e.xi3(8,9,t.transaction_total,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(11,12,t.payment.payment_channel)," "),e.xp6(3),e.hij(" ",o.showMultiplePaymentsCashDialog?e.xi3(14,14,t.payment.cash,".2"):o.showMultiplePaymentsMpesaDialog?e.xi3(15,17,t.payment.mpesa,".2"):o.showMultiplePaymentsBankDialog?e.xi3(16,20,t.payment.bank,".2"):e.xi3(17,23,0,".2")," "),e.xp6(6),e.hij(" ",e.xi3(20,26,t.payment.reversed,".2")," "),e.xp6(3),e.Q6J("ngIf",t.transaction_total>0)}}function Ge(r,l){if(1&r&&(e.TgZ(0,"p-table",35,42),e.YNc(2,Oe,18,1,"ng-template",37),e.YNc(3,Qe,23,29,"ng-template",38),e.qZA()),2&r){const t=e.oxw();e.Q6J("value",t.userCashTransactions)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(8,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(9,F))}}function Ye(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",116),e._uU(2,"Description"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Amount "),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Paid via "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Date "),e.qZA()(),e.TgZ(9,"tr")(10,"th",117)(11,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(3);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}}function Ke(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA()()),2&r){const t=l.$implicit;e.xp6(2),e.hij(" ",t.purpose," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.amount,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(8,7,t.channel)," "),e.xp6(3),e.hij(" ",e.lcZ(11,9,t.date_incurred)," ")}}const Q=function(){return{width:"60vw"}},Be=function(){return["purpose","amount"]};function $e(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",115),e.NdJ("visibleChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.showExpenseDialog=s)}),e.ALo(1,"titlecase"),e.TgZ(2,"p-table",35,42),e.YNc(4,Ye,12,0,"ng-template",37),e.YNc(5,Ke,12,11,"ng-template",38),e.qZA()()}if(2&r){const t=e.oxw();e.Akn(e.DdM(16,Q)),e.MGl("header","Expenses for ",e.lcZ(1,14,t.userToView),""),e.Q6J("closable",!0)("visible",t.showExpenseDialog)("baseZIndex",1e4),e.xp6(2),e.Q6J("value",t.userExpenses)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(17,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(18,Be))}}function ze(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",105),e._uU(2," Customer "),e._UZ(3,"p-sortIcon",106),e.qZA(),e.TgZ(4,"th",96),e._uU(5,"Receipt number "),e.qZA(),e.TgZ(6,"th",96),e._uU(7,"Receipt total "),e.qZA(),e.TgZ(8,"th",96),e._uU(9,"Reversed amount "),e.qZA(),e.TgZ(10,"th",96),e._uU(11,"Date "),e.qZA(),e.TgZ(12,"th",96),e._uU(13,"Time sold "),e.qZA(),e._UZ(14,"th",97),e.qZA(),e.TgZ(15,"tr")(16,"th",114)(17,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(1);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}}function We(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-button",104),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.showDebtorsDialog?i.selectReceiptDebtor(s):i.selectReceiptTransfer(s))}),e.qZA()}}function Xe(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.YNc(18,We,1,0,"p-button",103),e.qZA()()),2&r){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,7,t.customer.name)," "),e.xp6(3),e.hij(" ",t.transaction_code," "),e.xp6(2),e.hij(" ",e.xi3(8,9,t.transaction_total,".2")," "),e.xp6(3),e.hij(" ",e.xi3(11,12,t.reversed,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(14,15,t.date_of_sale)," "),e.xp6(3),e.hij(" ",o.getTimeValue(t.date_of_sale)," "),e.xp6(2),e.Q6J("ngIf",t.transaction_total>0)}}function et(r,l){if(1&r&&(e.TgZ(0,"p-table",35,42),e.YNc(2,ze,18,0,"ng-template",37),e.YNc(3,Xe,19,17,"ng-template",38),e.qZA()),2&r){const t=e.oxw();e.Q6J("value",t.userCashTransactions)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(8,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(9,F))}}function tt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",109),e._uU(2,"Item "),e._UZ(3,"p-sortIcon",106),e.qZA(),e.TgZ(4,"th",96),e._uU(5,"Location "),e.qZA(),e.TgZ(6,"th",96),e._uU(7,"Unit "),e.qZA(),e.TgZ(8,"th",96),e._uU(9,"Qty reversed "),e.qZA(),e.TgZ(10,"th",96),e._uU(11,"Selling price "),e.qZA(),e.TgZ(12,"th",96),e._uU(13,"Total "),e.qZA()(),e.TgZ(14,"tr")(15,"th",118)(16,"input",113),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(205);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}}function ot(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td")(5,"p-avatarGroup"),e._UZ(6,"p-avatar",112),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA()()),2&r){const t=l.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,7,t.item.name)," "),e.xp6(4),e.Akn(e.VKq(19,y,t.location.color)),e.xp6(2),e.hij(" ",e.lcZ(9,9,t.unit.unit_name)," "),e.xp6(3),e.hij(" ",e.lcZ(12,11,t.qty_returned)," "),e.xp6(3),e.hij(" ",e.xi3(15,13,t.selling_price,".2")," "),e.xp6(3),e.hij(" ",e.xi3(18,16,t.qty_returned*t.selling_price,".2")," ")}}function it(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",116),e._uU(2,"Date"),e.qZA(),e.TgZ(3,"th",116),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6),e.qZA()(),e.TgZ(7,"tr")(8,"th",119)(9,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(213);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(6),e.hij("",t.showPaidDebtorsCash?"Cash amount":t.showPaidDebtorsMpesa?"Mpesa amount":"Bank amount"," ")}}function st(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"number"),e.qZA()()),2&r){const t=l.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,3,t.date_created)," "),e.xp6(3),e.hij(" ",e.lcZ(6,5,t.debtor.name)," "),e.xp6(3),e.hij(" ",e.xi3(9,7,o.showPaidDebtorsCash?t.cash:o.showPaidDebtorsMpesa?t.mpesa:t.bank,".2")," ")}}function rt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",96),e._uU(2,"Date "),e.qZA(),e.TgZ(3,"th",96),e._uU(4,"Supplier "),e.qZA(),e.TgZ(5,"th",96),e._uU(6,"Invoice number "),e.qZA(),e.TgZ(7,"th",96),e._uU(8,"Invoice total "),e.qZA(),e._UZ(9,"th",96),e.qZA(),e.TgZ(10,"tr"),e._UZ(11,"th"),e.TgZ(12,"th",117)(13,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(2);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}}function at(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-button",104),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.showInvoiceItems(s))}),e.qZA()}}function nt(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e.YNc(13,at,1,0,"p-button",103),e.qZA()()),2&r){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,5,t.date_created)," "),e.xp6(3),e.hij(" ",e.lcZ(6,7,o.cryptoSrv.decryptEncodedText(t.supplier.supplier_name))," "),e.xp6(3),e.hij(" ",t.invoice_no," "),e.xp6(2),e.hij(" ",e.xi3(11,9,t.invoice_total,".2")," "),e.xp6(3),e.Q6J("ngIf",t.invoice_total>0)}}const G=function(){return{width:"50vw"}},lt=function(){return["invoice_no","supplier.supplier_name"]};function pt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",120),e.NdJ("visibleChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.showSuppliersDialog=s)}),e.TgZ(1,"p-table",35,42),e.YNc(3,rt,14,0,"ng-template",37),e.YNc(4,nt,14,12,"ng-template",38),e.qZA()()}if(2&r){const t=e.oxw();e.Akn(e.DdM(13,G)),e.Q6J("closable",!0)("visible",t.showSuppliersDialog)("baseZIndex",1e4),e.xp6(1),e.Q6J("value",t.userSaleToView.added_stock.added_supplier_stock)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(14,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(15,lt))}}function dt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",96),e._uU(2,"Supplier "),e.qZA(),e.TgZ(3,"th",96),e._uU(4,"Amount paid "),e.qZA(),e.TgZ(5,"th",96),e._uU(6,"Channel "),e.qZA(),e.TgZ(7,"th",96),e._uU(8,"Date paid "),e.qZA()(),e.TgZ(9,"tr")(10,"th",117)(11,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(2);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}}function ct(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"number"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"date"),e.qZA()()),2&r){const t=l.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,4,t.supplier)," "),e.xp6(3),e.hij(" ",e.xi3(6,6,t.amount_paid,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(9,9,t.payment_channel)," "),e.xp6(3),e.hij(" ",e.lcZ(12,11,t.date_paid)," ")}}const _t=function(){return["amount_paid","supplier","payment_channel"]};function ht(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",121),e.NdJ("visibleChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.showSupplierPaymentsDialog=s)}),e.TgZ(1,"p-table",35,42),e.YNc(3,dt,12,0,"ng-template",37),e.YNc(4,ct,13,13,"ng-template",38),e.qZA()()}if(2&r){const t=e.oxw();e.Akn(e.DdM(13,G)),e.Q6J("closable",!0)("visible",t.showSupplierPaymentsDialog)("baseZIndex",1e4),e.xp6(1),e.Q6J("value",t.userSaleToView.paid_suppliers.payments)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(14,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(15,_t))}}function ut(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th"),e._uU(2,"Item"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Location "),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Unit "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Qty "),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Price "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"VAT "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Total "),e.qZA()(),e.TgZ(15,"tr")(16,"th",114)(17,"input",122),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(2);return e.KtG(i.filter(s.target.value,"item.name","contains"))}),e.qZA()()()}}function gt(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td")(5,"p-avatarGroup"),e._UZ(6,"p-avatar",112),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"number"),e.qZA()()),2&r){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,8,t.item.name)," "),e.xp6(4),e.Akn(e.VKq(23,y,t.location.color)),e.xp6(2),e.hij(" ",e.lcZ(9,10,t.unit.unit_name)," "),e.xp6(3),e.hij(" ",e.xi3(12,12,t.unit_qty,".2")," "),e.xp6(3),e.hij(" ",e.xi3(15,15,t.vat.vat_percent>0?o.getUnitPrice(t.buying_price,t.vat.vat_percent,t.unit.unit_quantity):t.buying_price*t.unit.unit_quantity,".2")," "),e.xp6(3),e.hij(" ",e.lcZ(18,18,t.vat.vat_percent)," "),e.xp6(3),e.hij(" ",e.xi3(21,20,t.buying_price*t.unit.unit_quantity*t.unit_qty,".2")," ")}}const C=function(){return{width:"85vw"}};function mt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",115),e.NdJ("visibleChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.showInvoiceItemsDialog=s)}),e.TgZ(1,"p-table",35,45),e.YNc(3,ut,18,0,"ng-template",37),e.YNc(4,gt,22,25,"ng-template",38),e.qZA()()}if(2&r){const t=e.oxw();e.Akn(e.DdM(14,C)),e.MGl("header","Items for invoice number ",t.invoiceToView.invoice_no,""),e.Q6J("closable",!0)("visible",t.showInvoiceItemsDialog)("baseZIndex",1e4),e.xp6(1),e.Q6J("value",t.invoiceToView.invoice_items)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(15,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(16,k))}}function Zt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",96),e._uU(2,"Date "),e.qZA(),e.TgZ(3,"th",123),e._uU(4," Item "),e._UZ(5,"p-sortIcon",124),e.qZA(),e.TgZ(6,"th",96),e._uU(7,"Location "),e.qZA(),e.TgZ(8,"th",96),e._uU(9),e.qZA(),e.TgZ(10,"th",96),e._uU(11,"Total amount "),e.qZA()(),e.TgZ(12,"tr")(13,"th",125)(14,"input",101),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(1);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(9),e.hij("",t.showStockPositiveDialog?"Units added":"Units removed"," ")}}function Tt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"date"),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"titlecase"),e.qZA(),e.TgZ(8,"td")(9,"p-avatarGroup"),e._UZ(10,"p-avatar",112),e.qZA()(),e.TgZ(11,"td",126),e.NdJ("click",function(s){const a=e.CHM(t).$implicit,n=e.oxw(2);return e.KtG(n.getUnitQuantity(n.showStockPositiveDialog?a.quantity_added:a.quantity_removed,a.item_units,s))}),e._UZ(12,"i",127),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA()()}if(2&r){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",o.showStockPositiveDialog?e.lcZ(3,5,t.date_added):e.lcZ(4,7,t.date_removed)," "),e.xp6(4),e.hij(" ",e.lcZ(7,9,t.item.name)," "),e.xp6(4),e.Akn(e.VKq(14,y,t.location.color)),e.xp6(4),e.hij(" ",e.xi3(15,11,o.showStockPositiveDialog?t.quantity_added*t.buying_price_per_piece:t.quantity_removed*t.buying_price_per_piece,".2")," ")}}function ft(r,l){if(1&r&&(e.TgZ(0,"p-table",35,42),e.YNc(2,Zt,15,1,"ng-template",37),e.YNc(3,Tt,16,16,"ng-template",38),e.qZA()),2&r){const t=e.oxw();e.Q6J("value",t.showStockPositiveDialog?t.userSaleToView.added_stock.stock_positive_items:t.userSaleToView.added_stock.stock_negative_items)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(8,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(9,k))}}function vt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th"),e._uU(2,"Customer"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Receipt no"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Item "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Location "),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Unit "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Qty sold "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Recommended Price "),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Sold Price "),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Discount "),e.qZA()(),e.TgZ(19,"tr")(20,"th",107)(21,"input",113),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(225);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}}function bt(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"td")(10,"p-avatarGroup"),e._UZ(11,"p-avatar",112),e.qZA()(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"titlecase"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.ALo(26,"number"),e.qZA()()),2&r){const t=l.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,10,t.customer)," "),e.xp6(3),e.hij(" ",t.transaction_code," "),e.xp6(2),e.hij(" ",e.lcZ(8,12,t.item.name)," "),e.xp6(4),e.Akn(e.VKq(27,y,t.location.color)),e.xp6(2),e.hij(" ",e.lcZ(14,14,t.unit.unit_name)," "),e.xp6(3),e.hij(" ",e.lcZ(17,16,t.unit_qty)," "),e.xp6(3),e.hij(" ",e.xi3(20,18,t.recom_selling_price,".2")," "),e.xp6(3),e.hij(" ",e.xi3(23,21,t.selling_price,".2")," "),e.xp6(3),e.hij(" ",e.xi3(26,24,t.discount,".2")," ")}}function xt(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th"),e._uU(2,"Customer"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Item "),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Location "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Unit "),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Qty sold "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Recommended Price "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Sold Price "),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Overcharge "),e.qZA()(),e.TgZ(17,"tr")(18,"th",110)(19,"input",113),e.NdJ("input",function(s){e.CHM(t),e.oxw();const i=e.MAs(225);return e.KtG(i.filterGlobal(s.target.value,"contains"))}),e.qZA()()()}}function At(r,l){if(1&r&&(e.TgZ(0,"tr",102)(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"titlecase"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"number"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"number"),e.qZA()()),2&r){const t=l.$implicit;e.Udp("color",t.location.color),e.xp6(2),e.hij(" ",e.lcZ(3,10,t.customer)," "),e.xp6(3),e.hij(" ",e.lcZ(6,12,t.item.name)," "),e.xp6(3),e.hij(" ",e.lcZ(9,14,t.location.name)," "),e.xp6(3),e.hij(" ",e.lcZ(12,16,t.unit.unit_name)," "),e.xp6(3),e.hij(" ",e.lcZ(15,18,t.unit_qty)," "),e.xp6(3),e.hij(" ",e.xi3(18,20,t.recom_selling_price,".2")," "),e.xp6(3),e.hij(" ",e.xi3(21,23,t.selling_price,".2")," "),e.xp6(3),e.hij(" ",e.xi3(24,26,t.overcharge,".2")," ")}}function wt(r,l){if(1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Unit"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(4),e.Oqu(t.showStockPositiveDialog?"Quantity added":"Quantity removed")}}function Ct(r,l){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"number"),e.qZA()()),2&r){const t=l.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.unit)),e.xp6(3),e.Oqu(e.lcZ(6,4,t.qty))}}function St(r,l){if(1&r&&(e.TgZ(0,"p-table",128),e.YNc(1,wt,5,1,"ng-template",37),e.YNc(2,Ct,7,6,"ng-template",38),e.qZA()),2&r){const t=e.oxw();e.Q6J("value",t.itemToViewUnits.units)("paginator",!1)("rows",5)}}const Pt=function(){return["item.name","transaction_code"]},yt=function(){return["debtor.name"]},Dt=function(){return["item.name","customer","transaction_code"]},qt=function(){return["item.name","customer"]},Ut=function(){return{width:"500px"}},kt=[{path:"",component:(()=>{class r{constructor(t,o,s,i,a,n,p,_,h,b){this.spinner=t,this.cryptoSrv=o,this.toastr=s,this.authSrv=i,this.apiSrv=a,this.datepipe=n,this._decimalPipe=p,this.confirmationService=_,this.printSrv=h,this.locale=b,this.periodStartDate=new Date,this.periodEndDate=new Date,this.periodFrom=new Date,this.periodTo=new Date,this.today=new Date,this.loading=!0,this.grossSales=0,this.expenses=0,this.grossProfit=0,this.debtorsTotal=0,this.userSales=[],this.showPeriodSalesDialog=!1,this.userToView="",this.userCashTransactions=[],this.showCashDialog=!1,this.showMpesaDialog=!1,this.showBankDialog=!1,this.showCashMpesaBankDialog=!1,this.displayItemsDialog=!1,this.reversedCashTransactions=[],this.showCashReversals=!1,this.showMpesaReversals=!1,this.showBankReversals=!1,this.showCashMpesaReversalDialog=!1,this.showMultiplePaymentsCashDialog=!1,this.showMultiplePaymentsMpesaDialog=!1,this.showMultiplePaymentsBankDialog=!1,this.showMultiplePaymentsDialog=!1,this.userExpenses=[],this.showExpenseDialog=!1,this.showDebtorsDialog=!1,this.showTransfersDialog=!1,this.showDebtorTransferDialog=!1,this.showDebtorsReversalDialog=!1,this.showTransfersReversalDialog=!1,this.showDebtorTransferReversalDialog=!1,this.showPaidDebtorsCash=!1,this.showPaidDebtorsMpesa=!1,this.showPaidDebtorsBank=!1,this.showPaidDebtorsDialog=!1,this.paidDebtorsToView=[],this.showInvoiceItemsDialog=!1,this.showSuppliersDialog=!1,this.showStockPositiveDialog=!1,this.showStockNegativeDialog=!1,this.showPositiveAndNegativeDialog=!1,this.showSupplierPaymentsDialog=!1,this.userDiscountItems=[],this.showCashDiscountsDialog=!1,this.showDebtorDiscountsDialog=!1,this.showDiscountsDialog=!1,this.userOverchargedItems=[],this.showCashOverchargeDialog=!1,this.showDebtorOverchargeDialog=!1,this.showOverchargeDialog=!1,this.itemToViewUnits={},this.chartData=[],this.stockActions=[],this.reportActions=[],this.allTransactions=[],this.showAllTransactionsDialog=!1,this.showReversalItems=!1,this.reversalToView={},this.periodExpenses=[],this.paidDebtors=[],this.paidSuppliers=[],this.locations=[],this.locationToView={}}ngOnInit(){this.stockActions=[{label:"Excel file",icon:"pi pi-file-excel",command:()=>{this.downloadReport("excel")}},{separator:!0},{label:"Pdf file",icon:"pi pi-file-pdf",command:()=>{this.downloadReport("pdf")}}],this.reportActions=[{label:"Sales per item",icon:"pi pi-file-excel",command:()=>{this.downloadItemsReport("excel")}},{separator:!0},{label:"Sales per receipt",icon:"pi pi-file-excel",command:()=>{this.downloadReceiptsReport("excel")}}],this.locations=[];const t={action:this.cryptoSrv.encodeEncryptText("get-shop-locations"),uid:this.authSrv.getUserDetailToken("uid")};this.apiSrv.post(t).then(o=>{const s={id:this.cryptoSrv.encodeEncryptText("0"),name:"All",color:"#ffffff"};this.locations.push(s),this.locations.push(...o.locations)}).catch(o=>{})}updateLocationSelected(t){this.locationToView=t.value}getDifferenceInDays(){if(this.periodFrom){const t=new Date(this.periodFrom.toLocaleDateString("sv-SE"));return(new Date(this.periodTo.toLocaleDateString("sv-SE")).getTime()-t.getTime())/864e5}return 0}getTimeValue(t){return new Date(t).toLocaleString("en-US",{hour12:!0}).split(", ")[1]}showPeriodicSales(){this.spinner.show();const t={action:this.cryptoSrv.encodeEncryptText("get-periodic-sales"),uid:this.authSrv.getUserDetailToken("uid"),from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1})),location_id:this.locationToView.id};t.chart=this.cryptoSrv.encodeEncryptText(this.periodEndDate>this.periodStartDate?"1":"0"),this.apiSrv.read(t).then(o=>{if("error"!=o.status)if("error2"!=o.status){if(this.grossSales=o.sales,this.expenses=o.expenses,this.grossProfit=o.grossProfit,this.userSales=o.userSales,this.debtorsTotal=o.debtors,this.periodEndDate>this.periodStartDate){this.chartData=o.chart_data;const s=[],i=[],a={name:"Sales",data:[]},n={name:"Gross profit",data:[]},p={name:"Expenses",data:[]},_={name:"Net profit",data:[]};this.chartData.forEach(d=>{d.gross_sales=parseInt(d.gross_sales.toString()),d.gross_profit=parseInt(d.gross_profit.toString()),d.expenses=parseInt(d.expenses.toString());const u=d.gross_profit-d.expenses;a.data.push(d.gross_sales),n.data.push(d.gross_profit),p.data.push(d.expenses),_.data.push(u),i.push(this.datepipe.transform(new Date(d.date.toString()),"EEE MMM dd"))}),s.push(a,n,p,_),this.chartOptions1={chart:{height:350,type:"area",zoom:{enabled:!1},toolbar:{show:!1}},colors:["#02926e","#F77E17","#F55252","#2F8BE6","#2F8BE6"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},tooltip:{y:{formatter:function(d){return new Intl.NumberFormat("en-us",{minimumFractionDigits:2}).format(d)}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},series:s,title:{text:"",align:"left"},grid:{row:{colors:["#F5F5F5","transparent"],opacity:.5}},xaxis:{categories:i},yaxis:{title:{text:"Amount (Ksh)"}}}}else this.chartData=[];this.showPeriodSalesDialog=!0,this.loading=!1,this.spinner.hide()}else this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout();else this.spinner.hide(),this.toastr.error(o.message)}).catch(o=>{this.toastr.error(o),this.spinner.hide()})}showAllTransactions(){this.spinner.show("code");const t={action:this.cryptoSrv.encodeEncryptText("get-periodic-all-sales-transactions"),uid:this.authSrv.getUserDetailToken("uid"),from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1})),location_id:this.locationToView.id};this.apiSrv.read(t).then(o=>{"error"!=o.status?"error2"!=o.status?(this.allTransactions=o.sales,this.total_cash=o.total_cash,this.paid_debtors_cash=o.paid_debtors_cash,this.reversed_cash=o.reversed_cash,this.reversed_multiple_cash=o.reversed_multiple_cash,this.total_mpesa=o.total_mpesa,this.paid_debtors_mpesa=o.paid_debtors_mpesa,this.reversed_mpesa=o.reversed_mpesa,this.reversed_multiple_mpesa=o.reversed_multiple_mpesa,this.total_bank=o.total_bank,this.paid_debtors_bank=o.paid_debtors_bank,this.reversed_bank=o.reversed_bank,this.reversed_multiple_bank=o.reversed_multiple_bank,this.total_reversed=o.total_reversed,this.total_profit=o.total_profit,this.total_debtors=o.total_debtors,this.reversed_debtor=o.reversed_debtor,this.showAllTransactionsDialog=!0,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(o.message))}).catch(o=>{this.toastr.error(o),this.spinner.hide("code")})}showPeriodUserCashSales(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get_user_period_cash_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userCashTransactions=i.transactions,this.userCashTransactions=this.userCashTransactions.filter(a=>a.payment.cash>0),this.userCashTransactions.forEach(a=>{a.transaction_code=this.cryptoSrv.decryptEncodedText(a.transaction_code)}),this.showCashDialog=!0,this.showCashMpesaBankDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}selectAllReceipt(t){this.spinner.show("code"),"cash"===t.transaction_type?this.selectReceipt({transaction_code:t.transaction_code,items:[]}):"debtor"===t.transaction_type?this.selectReceiptDebtor({transaction_code:t.transaction_code,items:[]}):"transfer"===t.transaction_type?this.selectReceiptTransfer({transaction_code:t.transaction_code,items:[]}):(t.transaction_code.substring(0,2),this.selectReversedTransaction(t.transaction_code))}selectReceipt(t){this.transactionCodeToView=t,this.spinner.show("code");const o={action:this.cryptoSrv.encodeEncryptText("get-cash-transaction-code-items"),code:this.cryptoSrv.encodeEncryptText(this.transactionCodeToView.transaction_code)};this.apiSrv.read(o).then(s=>{"error"!=s.status?"error2"!=s.status?(s.items.forEach(i=>{}),this.transactionCodeToView.items=s.items,this.displayItemsDialog=!0,this.spinner.hide("code"),this.loading=!1):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(s.message))}).catch(s=>{this.toastr.error(s),this.spinner.hide("code")})}showUserReversals(t,o,s){this.spinner.show("code");const i={action:this.cryptoSrv.encodeEncryptText("get_user_period_sale_type_reversed_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1})),type:this.cryptoSrv.encodeEncryptText(s)};this.apiSrv.read(i).then(a=>{"error"!=a.status?"error2"!=a.status?(this.userToView=o,this.reversedCashTransactions=a.transactions,this.reversedCashTransactions.forEach(n=>{n.transaction_code=this.cryptoSrv.decryptEncodedText(n.transaction_code)}),"cash"===s?this.showCashReversals=!0:"mpesa"===s?this.showMpesaReversals=!0:this.showBankReversals=!0,this.showCashMpesaReversalDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(a.message))}).catch(a=>{this.toastr.error(a),this.spinner.hide("code")})}showPeriodUserMpesaSales(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get_user_period_cash_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userCashTransactions=i.transactions,this.userCashTransactions=this.userCashTransactions.filter(a=>a.payment.mpesa>0),this.userCashTransactions.forEach(a=>{a.transaction_code=this.cryptoSrv.decryptEncodedText(a.transaction_code)}),this.showMpesaDialog=!0,this.showCashMpesaBankDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}showPeriodUserBankSales(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get_user_period_cash_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userCashTransactions=i.transactions,this.userCashTransactions=this.userCashTransactions.filter(a=>a.payment.bank>0),this.userCashTransactions.forEach(a=>{a.transaction_code=this.cryptoSrv.decryptEncodedText(a.transaction_code)}),this.showBankDialog=!0,this.showCashMpesaBankDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}selectReceiptDebtor(t){this.transactionCodeToView=t,this.spinner.show("code");const o={action:this.cryptoSrv.encodeEncryptText("get-debtor-transaction-code-items"),code:this.cryptoSrv.encodeEncryptText(this.transactionCodeToView.transaction_code)};this.apiSrv.read(o).then(s=>{"error"!=s.status?"error2"!=s.status?(this.transactionCodeToView.items=s.items,this.displayItemsDialog=!0,this.spinner.hide("code"),this.loading=!1):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(s.message))}).catch(s=>{this.toastr.error(s),this.spinner.hide("code")})}selectReceiptTransfer(t){this.transactionCodeToView=t,this.spinner.show("code");const o={action:this.cryptoSrv.encodeEncryptText("get-transfer-transaction-code-items"),code:this.cryptoSrv.encodeEncryptText(this.transactionCodeToView.transaction_code)};this.apiSrv.read(o).then(s=>{"error"!=s.status?"error2"!=s.status?(this.transactionCodeToView.items=s.items,this.displayItemsDialog=!0,this.spinner.hide("code"),this.loading=!1):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(s.message))}).catch(s=>{this.toastr.error(s),this.spinner.hide("code")})}selectReversedTransaction(t){this.spinner.show("code");const o={action:this.cryptoSrv.encodeEncryptText("get_reversal_record"),code:this.cryptoSrv.encodeEncryptText(t)};this.apiSrv.read(o).then(s=>{"error"!=s.status?"error2"!=s.status?(this.reversalToView.code=t,this.reversalToView.items=s.transactions,this.reversalToView.items.forEach(i=>{i.transaction_code=this.cryptoSrv.decryptEncodedText(i.transaction_code)}),this.showReversalItems=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(s.message))}).catch(s=>{this.toastr.error(s),this.spinner.hide("code")})}showPeriodUserReversedMultipleCash(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get_user_period_cash_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userCashTransactions=i.transactions,this.userCashTransactions=this.userCashTransactions.filter(a=>"multiple"===a.payment.payment_channel&&a.payment.reversed>0&&a.payment.cash>0),this.userCashTransactions.forEach(a=>{a.transaction_code=this.cryptoSrv.decryptEncodedText(a.transaction_code)}),this.showMultiplePaymentsCashDialog=!0,this.showMultiplePaymentsDialog=!0,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}showPeriodUserReversedMultipleMpesa(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get_user_period_cash_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userCashTransactions=i.transactions,this.userCashTransactions=this.userCashTransactions.filter(a=>"multiple"===a.payment.payment_channel&&a.payment.reversed>0&&a.payment.mpesa>0),this.userCashTransactions.forEach(a=>{a.transaction_code=this.cryptoSrv.decryptEncodedText(a.transaction_code)}),this.showMultiplePaymentsMpesaDialog=!0,this.showMultiplePaymentsDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}showPeriodUserReversedMultipleBank(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get_user_period_cash_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userCashTransactions=i.transactions,this.userCashTransactions=this.userCashTransactions.filter(a=>"multiple"===a.payment.payment_channel&&a.payment.reversed>0&&a.payment.bank>0),this.userCashTransactions.forEach(a=>{a.transaction_code=this.cryptoSrv.decryptEncodedText(a.transaction_code)}),this.showMultiplePaymentsBankDialog=!0,this.showMultiplePaymentsDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}showPeriodUserExpenses(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get-user-period-expenses"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userExpenses=i.expenses,this.showExpenseDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}showPeriodUserDebtorSales(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get_user_period_debtors_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userCashTransactions=i.transactions,this.userCashTransactions.forEach(a=>{a.transaction_code=this.cryptoSrv.decryptEncodedText(a.transaction_code)}),this.showDebtorsDialog=!0,this.showDebtorTransferDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}showPeriodUserTransferSales(t,o){this.spinner.show("code");const s={action:this.cryptoSrv.encodeEncryptText("get_user_period_transfers_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(s).then(i=>{"error"!=i.status?"error2"!=i.status?(this.userToView=o,this.userCashTransactions=i.transactions,this.userCashTransactions.forEach(a=>{a.transaction_code=this.cryptoSrv.decryptEncodedText(a.transaction_code)}),this.showTransfersDialog=!0,this.showDebtorTransferDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("code")})}showUserDebtorReversals(t,o,s){this.spinner.show("code");const i={action:this.cryptoSrv.encodeEncryptText("get_user_period_debtor_transfer_reversed_transactions"),uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1})),type:this.cryptoSrv.encodeEncryptText(s)};this.apiSrv.read(i).then(a=>{"error"!=a.status?"error2"!=a.status?(this.userToView=o,this.reversedCashTransactions=a.transactions,this.reversedCashTransactions.forEach(n=>{n.transaction_code=this.cryptoSrv.decryptEncodedText(n.transaction_code)}),"debtor"===s?this.showDebtorsReversalDialog=!0:this.showTransfersReversalDialog=!0,this.showDebtorTransferReversalDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(a.message))}).catch(a=>{this.toastr.error(a),this.spinner.hide("code")})}showPeriodUserPaidDebtorsCash(t,o){this.userToView=o,this.showPaidDebtorsCash=!0,this.userSaleToView=t,this.paidDebtorsToView=this.userSaleToView.paid_debtors.paid_debtors.filter(s=>s.cash>0),this.showPaidDebtorsDialog=!0}showPeriodUserPaidDebtorsMpesa(t,o){this.userToView=o,this.showPaidDebtorsMpesa=!0,this.userSaleToView=t,this.paidDebtorsToView=this.userSaleToView.paid_debtors.paid_debtors.filter(s=>s.mpesa>0),this.showPaidDebtorsDialog=!0}showPeriodUserPaidDebtorsBank(t,o){this.userToView=o,this.showPaidDebtorsBank=!0,this.userSaleToView=t,this.paidDebtorsToView=this.userSaleToView.paid_debtors.paid_debtors.filter(s=>s.bank>0),this.showPaidDebtorsDialog=!0}showPeriodUserAddedInvoices(t,o){this.userToView=o,this.showSuppliersDialog=!0,this.userSaleToView=t}showPeriodSupplierPayments(t,o){this.userToView=o,this.showSupplierPaymentsDialog=!0,this.userSaleToView=t}showInvoiceItems(t){this.invoiceToView=t,this.showInvoiceItemsDialog=!0}getUnitPrice(t,o,s){return(t*s).toFixed(2)}showPeriodUserStockPositive(t,o){this.userToView=o,this.showStockPositiveDialog=!0,this.userSaleToView=t,this.showPositiveAndNegativeDialog=!0}showPeriodUserStockNegative(t,o){this.userToView=o,this.showStockNegativeDialog=!0,this.userSaleToView=t,this.showPositiveAndNegativeDialog=!0}showDiscounts(t,o,s){this.spinner.show("code");const i={uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};i.action=this.cryptoSrv.encodeEncryptText("cash"===s?"get-user-period-cash-discount-items":"get-user-period-debtor-discount-items"),this.apiSrv.read(i).then(a=>{"error"!=a.status?"error2"!=a.status?(this.userToView=o,this.userDiscountItems=a.items,this.userDiscountItems.forEach(n=>{n.transaction_code=this.cryptoSrv.decryptEncodedText(n.transaction_code)}),this.showDiscountsDialog=!0,"cash"===s?this.showCashDiscountsDialog=!0:this.showDebtorDiscountsDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(a.message))}).catch(a=>{this.toastr.error(a),this.spinner.hide("code")})}showOvercharges(t,o,s){this.spinner.show("code");const i={uid:t,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};i.action=this.cryptoSrv.encodeEncryptText("cash"===s?"get-user-period-cash-overcharged-items":"get-user-period-debtor-overcharged-items"),this.apiSrv.read(i).then(a=>{"error"!=a.status?"error2"!=a.status?(this.userToView=o,this.userOverchargedItems=a.items,this.userOverchargedItems.forEach(n=>{n.transaction_code=this.cryptoSrv.decryptEncodedText(n.transaction_code)}),this.showOverchargeDialog=!0,"cash"===s?this.showCashOverchargeDialog=!0:this.showDebtorOverchargeDialog=!0,this.loading=!1,this.spinner.hide("code")):(this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("code"),this.toastr.error(a.message))}).catch(a=>{this.toastr.error(a),this.spinner.hide("code")})}getUnitQuantity(t,o,s){const i=[];(o=o.sort((a,n)=>n.unit_quantity-a.unit_quantity)).forEach(a=>{if(t>0){const n=Math.floor(t/a.unit_quantity);i[a.unit_name]=n,n>0&&i.push({unit:a.unit_name,qty:n}),t-=n*a.unit_quantity}}),this.itemToViewUnits.units=i,this.overlay.toggle(s)}getNumber(t){return parseFloat(t)}downloadItemsReport(t){if("1"==this.cryptoSrv.decryptEncodedText(this.authSrv.getRoleToken("current_sales"))||"admin"===this.cryptoSrv.decryptEncodedText(this.authSrv.getUserDetailToken("role"))){this.spinner.show("code");const o={action:this.cryptoSrv.encodeEncryptText("get-period-excel-sales-report"),from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(o).then(s=>{if("error"!=s.status)if("error2"!=s.status){s.items.forEach(n=>{n.Date=this.datepipe.transform(n.Date),n.Time=this.getTimeValue(n.Time)});const i=s.items,a=s.date;s.items.length>0?"excel"===t?this.downloadExcelFile(i,"Sales from "+this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})+" to "+this.periodEndDate.toLocaleString("sv-SE",{hour12:!1})):this.convertExcelToPdf(i,"Sales on "+a):(this.spinner.hide("code"),this.toastr.error("No sales made!"))}else this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout();else this.spinner.hide("code"),this.toastr.error(s.message)}).catch(s=>{this.toastr.error(s),this.spinner.hide("code")})}else this.spinner.hide("code"),this.toastr.error("You have no rights to access that page!"),this.authSrv.logout()}downloadReceiptsReport(t){if("1"==this.cryptoSrv.decryptEncodedText(this.authSrv.getRoleToken("current_sales"))||"admin"===this.cryptoSrv.decryptEncodedText(this.authSrv.getUserDetailToken("role"))){this.spinner.show("code");let o=[];this.allTransactions.forEach(s=>{const i={"Transaction type":s.transaction_type,Customer:(0,g._)(s.customer),"Receipt number":s.transaction_code,"Receipt total":s.transaction_total,"Payment channel":s.payment_channel,"Cash amount":s.cash,"Mpesa amount":s.mpesa,"Bank amount":s.bank,"Reversed amount":s.reversed,Profit:s.profit,"Date of sale":this.datepipe.transform(s.date_sold),"Time of sale":this.getTimeValue(s.date_sold),"Sold by":(0,g._)(s.sold_by)};o.push(i)}),"excel"===t&&this.downloadExcelFile(o,"Sales from "+this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})+" to "+this.periodEndDate.toLocaleString("sv-SE",{hour12:!1})),this.spinner.hide("code")}else this.spinner.hide("code"),this.toastr.error("You have no rights to access that page!"),this.authSrv.logout()}getUnformatedNumber(t){const o=t.replace(/,/g,"");return parseFloat(o)}downloadReport(t){if(this.spinner.show("code"),this.grossSales>0){this.spinner.show("code");const o={action:this.cryptoSrv.encodeEncryptText("get-all-users-period-expenses"),from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))};this.apiSrv.read(o).then(s=>{if("error"!=s.status)if("error2"!=s.status){this.periodExpenses=[],this.paidDebtors=[],this.paidSuppliers=[],s.expenses.forEach(n=>{const p={};p.user=(0,g._)(n.added_by),p.expense=n.purpose,p.amount=this._decimalPipe.transform(parseFloat(n.amount.toString()).toFixed(2),"1.2-2"),this.periodExpenses.push(p)});let i=[],a=[];this.userSales.forEach(n=>{const p={},_={};p.user=(0,g._)(n.user_name),_.user=(0,g._)(n.user_name),p.cash_float=this._decimalPipe.transform(parseFloat(n.opening_float.toString()).toFixed(2),"1.2-2"),_.cash_float=this._decimalPipe.transform(parseFloat(n.opening_float.toString()).toFixed(2),"1.2-2"),p.cash_sales=this._decimalPipe.transform(parseFloat(n.cash_banked.toString()).toFixed(2),"1.2-2"),_.cash_sales=this._decimalPipe.transform(parseFloat(n.cash_banked.toString()).toFixed(2),"1.2-2"),p.paid_debtors_cash=this._decimalPipe.transform(parseFloat(n.paid_debtors.paid_debtors_cash.toString()).toFixed(2),"1.2-2"),_.paid_debtors_cash=this._decimalPipe.transform(parseFloat(n.paid_debtors.paid_debtors_cash.toString()).toFixed(2),"1.2-2"),p.cash_reversed=this._decimalPipe.transform(parseFloat(n.cash_reversed.toString()).toFixed(2),"1.2-2"),_.cash_reversed=this._decimalPipe.transform(parseFloat(n.cash_reversed.toString()).toFixed(2),"1.2-2"),p.expenses=0,this.periodExpenses.forEach(h=>{h.user===(0,g._)(n.user_name)&&(p.expenses+=this.getUnformatedNumber(h.amount.toString()))}),_.expenses=this._decimalPipe.transform(parseFloat(p.expenses.toString()).toFixed(2),"1.2-2"),p.expenses=this._decimalPipe.transform(parseFloat(p.expenses.toString()).toFixed(2),"1.2-2"),p.mpesa_banked=this._decimalPipe.transform(parseFloat(n.mpesa_banked.toString()).toFixed(2),"1.2-2"),_.mpesa_banked=this._decimalPipe.transform(parseFloat(n.mpesa_banked.toString()).toFixed(2),"1.2-2"),p.paid_debtors_mpesa=this._decimalPipe.transform(parseFloat(n.paid_debtors.paid_debtors_mpesa.toString()).toFixed(2),"1.2-2"),_.paid_debtors_mpesa=this._decimalPipe.transform(parseFloat(n.paid_debtors.paid_debtors_mpesa.toString()).toFixed(2),"1.2-2"),p.mpesa_reversed=this._decimalPipe.transform(parseFloat(n.mpesa_reversed.toString()).toFixed(2),"1.2-2"),_.mpesa_reversed=this._decimalPipe.transform(parseFloat(n.mpesa_reversed.toString()).toFixed(2),"1.2-2"),p.bank_banked=this._decimalPipe.transform(parseFloat(n.bank_banked.toString()).toFixed(2),"1.2-2"),_.bank_banked=this._decimalPipe.transform(parseFloat(n.bank_banked.toString()).toFixed(2),"1.2-2"),p.paid_debtors_bank=this._decimalPipe.transform(parseFloat(n.paid_debtors.paid_debtors_bank.toString()).toFixed(2),"1.2-2"),_.paid_debtors_bank=this._decimalPipe.transform(parseFloat(n.paid_debtors.paid_debtors_bank.toString()).toFixed(2),"1.2-2"),p.bank_reversed=this._decimalPipe.transform(parseFloat(n.bank_reversed.toString()).toFixed(2),"1.2-2"),_.bank_reversed=this._decimalPipe.transform(parseFloat(n.bank_reversed.toString()).toFixed(2),"1.2-2"),p.reversed_multiple_payments=this._decimalPipe.transform(parseFloat(n.reversed_multiple.toString()).toFixed(2),"1.2-2"),_.reversed_multiple_payments=this._decimalPipe.transform(parseFloat(n.reversed_multiple.toString()).toFixed(2),"1.2-2"),p.debtors=this._decimalPipe.transform(parseFloat(n.debtor_sales.toString()).toFixed(2),"1.2-2"),_.debtors=this._decimalPipe.transform(parseFloat(n.debtor_sales.toString()).toFixed(2),"1.2-2"),p.debtors_reversed=this._decimalPipe.transform(parseFloat(n.debtor_reversed.toString()).toFixed(2),"1.2-2"),_.debtors_reversed=this._decimalPipe.transform(parseFloat(n.debtor_reversed.toString()).toFixed(2),"1.2-2"),p.transfers=this._decimalPipe.transform(parseFloat(n.transfer_sales.toString()).toFixed(2),"1.2-2"),_.transfers=this._decimalPipe.transform(parseFloat(n.transfer_sales.toString()).toFixed(2),"1.2-2"),p.transfers_reversed=this._decimalPipe.transform(parseFloat(n.transfer_reversed.toString()).toFixed(2),"1.2-2"),_.transfers_reversed=this._decimalPipe.transform(parseFloat(n.transfer_reversed.toString()).toFixed(2),"1.2-2"),p.supplier_stock=this._decimalPipe.transform(parseFloat(n.added_stock.total_supplier_stock.toString()).toFixed(2),"1.2-2"),p.stock_positive=this._decimalPipe.transform(parseFloat(n.added_stock.stock_positive_total.toString()).toFixed(2),"1.2-2"),p.stock_negative=this._decimalPipe.transform(parseFloat(n.added_stock.stock_negative_total.toString()).toFixed(2),"1.2-2"),n.paid_debtors.paid_debtors.length>0&&n.paid_debtors.paid_debtors.forEach(h=>{const b=parseFloat(h.cash.toString())+parseFloat(h.mpesa.toString())+parseFloat(h.bank.toString());if(b>0){const T={};T.user=(0,g._)(n.user_name),T.debtor=(0,g._)(h.debtor.name),T.amount=this._decimalPipe.transform(parseFloat(b.toString()).toFixed(2),"1.2-2"),this.paidDebtors.push(T)}}),n.paid_suppliers.paid>0&&n.paid_suppliers.payments.forEach(h=>{const b=parseFloat(h.amount_paid.toString());if("Stock return"!=h.payment_channel){const T={};T.user=(0,g._)(n.user_name),T.supplier=(0,g._)(h.supplier),T.amount=this._decimalPipe.transform(parseFloat(b.toString()).toFixed(2),"1.2-2"),this.paidSuppliers.push(T)}}),i.push(p),a.push(_)}),"excel"===t?this.downloadExcelFile(a,"Sales from "+this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})+" to "+this.periodEndDate.toLocaleString("sv-SE",{hour12:!1})):this.convertExcelToPdf(i,"Sales from "+this.periodStartDate.toLocaleString("sv-SE",{hour12:!1})+" to "+this.periodEndDate.toLocaleString("sv-SE",{hour12:!1}))}else this.spinner.hide("code"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout();else this.spinner.hide("code"),this.toastr.error(s.message)}).catch(s=>{this.toastr.error(s),this.spinner.hide("code")})}else this.spinner.hide("code"),this.toastr.error("No sales made!")}downloadExcelFile(t,o){var s=this;return(0,B.Z)(function*(){const i=new z.Workbook,a=i.addWorksheet("Sheet1"),p=Object.keys(t[0]).map(h=>(0,g._)(h.split("_").join(" ")));a.addRow(p).eachCell(h=>{h.font={bold:!0}}),t.forEach(h=>{a.addRow(Object.values(h))}),yield a.protect("1234",{}),i.xlsx.writeBuffer().then(h=>{const b=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,$.saveAs)(b,o+".xlsx")}),s.spinner.hide("code")})()}convertExcelToPdf(t,o){const s=this.generatePdfContent(t);this.generatePDF(s,o),this.spinner.hide("code")}generatePdfContent(t){const o=new j.default("landscape"),s=Object.keys(t[0]),a=[0,1,2,3,4,5,6,7,8,9,10,11,12].map(d=>{const u=[],m=(0,g._)(s[d].split("_").join(" "));return u.push(m),u}),n=t.map(d=>a.map(m=>{const Z=m[0].split(" ").join("_").toLowerCase();return d.hasOwnProperty(Z)?d[Z]:"-"}));o.setFontSize(12),o.text("Report for the period from "+this.datepipe.transform(this.periodStartDate)+" to "+this.datepipe.transform(this.periodEndDate),15,10),o.text("Sales",14,25),w()(o,{head:[a],body:n,startY:30,theme:"striped",pageBreak:"auto",headStyles:{fillColor:"#02926e",textColor:255,fontStyle:"bold"}});const p=o.autoTable.previous.finalY+15,h=[0,13,14].map(d=>{const u=[],m=(0,g._)(s[d].split("_").join(" "));return u.push(m),u}),b=t.map(d=>h.map(m=>{const Z=m[0].split(" ").join("_").toLowerCase();return d.hasOwnProperty(Z)?d[Z]:"-"}));o.text("Debtors",14,p),w()(o,{head:[h],body:b,startY:p+5,theme:"striped",pageBreak:"auto",headStyles:{fillColor:"#02926e",textColor:255,fontStyle:"bold"}});const T=o.autoTable.previous.finalY+15,E=[0,15,16].map(d=>{const u=[],m=(0,g._)(s[d].split("_").join(" "));return u.push(m),u}),K=t.map(d=>E.map(m=>{const Z=m[0].split(" ").join("_").toLowerCase();return d.hasOwnProperty(Z)?d[Z]:"-"}));if(o.text("Transfers",14,T),w()(o,{head:[E],body:K,startY:T+5,theme:"striped",pageBreak:"auto",headStyles:{fillColor:"#02926e",textColor:255,fontStyle:"bold"}}),this.periodExpenses.length>0){const d=o.autoTable.previous.finalY+15,u=[0,1,2],m=Object.keys(this.periodExpenses[0]),Z=u.map(v=>{const x=[],A=(0,g._)(m[v].split("_").join(" "));return x.push(A),x}),q=this.periodExpenses.map(v=>Z.map(A=>{const S=A[0].split(" ").join("_").toLowerCase();return v.hasOwnProperty(S)?v[S]:"-"}));o.text("Expenses",14,d),w()(o,{head:[Z],body:q,startY:d+5,theme:"striped",pageBreak:"auto",headStyles:{fillColor:"#02926e",textColor:255,fontStyle:"bold"}})}if(this.paidDebtors.length>0){const d=o.autoTable.previous.finalY+15,u=[0,1,2],m=Object.keys(this.paidDebtors[0]),Z=u.map(v=>{const x=[],A=(0,g._)(m[v].split("_").join(" "));return x.push(A),x}),q=this.paidDebtors.map(v=>Z.map(A=>{const S=A[0].split(" ").join("_").toLowerCase();return v.hasOwnProperty(S)?v[S]:"-"}));o.text("Paid debtors",14,d),w()(o,{head:[Z],body:q,startY:d+5,theme:"striped",pageBreak:"auto",headStyles:{fillColor:"#02926e",textColor:255,fontStyle:"bold"}})}if(this.paidSuppliers.length>0){const d=o.autoTable.previous.finalY+15,u=[0,1,2],m=Object.keys(this.paidSuppliers[0]),Z=u.map(v=>{const x=[],A=(0,g._)(m[v].split("_").join(" "));return x.push(A),x}),q=this.paidSuppliers.map(v=>Z.map(A=>{const S=A[0].split(" ").join("_").toLowerCase();return v.hasOwnProperty(S)?v[S]:"-"}));o.text("Paid suppliers",14,d),w()(o,{head:[Z],body:q,startY:d+5,theme:"striped",pageBreak:"auto",headStyles:{fillColor:"#02926e",textColor:255,fontStyle:"bold"}})}const L=o.autoTable.previous.finalY+15;return o.text("Summary",14,L),w()(o,{head:[["Total Sales","Expenses"]],body:[[this._decimalPipe.transform(parseFloat(this.grossSales.toString()).toFixed(2),"1.2-2"),this._decimalPipe.transform(parseFloat(this.expenses.toString()).toFixed(2),"1.2-2")]],startY:L+5,theme:"striped",pageBreak:"auto",bodyStyles:{fontStyle:"bold"},headStyles:{fillColor:"#02926e",textColor:255,fontStyle:"bold"}}),o}generatePDF(t,o){t.save(o+".pdf")}convertExcelToPdfAllTransactions(){let t=this.apiSrv.deepCopy(this.allTransactions);t.forEach(s=>{s.transaction_total=parseFloat(this._decimalPipe.transform(s.transaction_total,"1.2-2")).toFixed(2),s.cash=parseFloat(this._decimalPipe.transform(s.cash,"1.2-2")).toFixed(2),s.mpesa=parseFloat(this._decimalPipe.transform(s.mpesa,"1.2-2")).toFixed(2),s.bank=parseFloat(this._decimalPipe.transform(s.bank,"1.2-2")).toFixed(2),s.reversed=parseFloat(this._decimalPipe.transform(s.reversed,"1.2-2")).toFixed(2),s.profit=parseFloat(this._decimalPipe.transform(s.profit,"1.2-2")).toFixed(2)});const o=this.generatePdfContent2(t);this.generatePDF(o,"All transactions for the period from "+this.datepipe.transform(this.periodStartDate)+" to "+this.datepipe.transform(this.periodEndDate)),this.spinner.hide("code")}generatePdfContent2(t){const o=new j.default("landscape"),i=Object.keys(t[0]).map(n=>{const p=[],_=(0,g._)(n.split("_").join(" "));return p.push(_),p}),a=t.map(n=>i.map(_=>{const h=_[0].split(" ").join("_").toLowerCase();return n.hasOwnProperty(h)?n[h]:"-"}));return o.setFontSize(12),o.text("All transactions for the period from "+this.datepipe.transform(this.periodStartDate)+" to "+this.datepipe.transform(this.periodEndDate),15,10),w()(o,{didDrawPage:n=>{o.setFontSize(10),o.text("Page - "+n.pageNumber,270,203),o.setFontSize(12)},head:[i],body:a,startY:20,theme:"striped",pageBreak:"auto",headStyles:{fillColor:"#02926e",textColor:255,fontStyle:"bold"}}),o}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I.t2),e.Y36(X.$),e.Y36(ee._W),e.Y36(te.e),e.Y36(oe.s),e.Y36(P.uU),e.Y36(P.JJ),e.Y36(R.YP),e.Y36(ie.$),e.Y36(e.soG))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-periodic"]],viewQuery:function(t,o){if(1&t&&(e.Gf(ue,5),e.Gf(ge,5)),2&t){let s;e.iGM(s=e.CRH())&&(o.chart=s.first),e.iGM(s=e.CRH())&&(o.overlay=s.first)}},decls:240,vars:270,consts:[[1,"row"],[1,"col-md-4"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[1,"col-md-12"],[1,"ui-fluid","px-2"],[1,"p-field"],["for","firstname3"],["appendTo","body","name","start_date","required","","readonlyInput","true",3,"ngModel","maxDate","monthNavigator","ngModelChange"],["appendTo","body","name","end_date","required","",3,"ngModel","monthNavigator","minDate","maxDate","readonlyInput","ngModelChange"],["id","firstname3-help","class","p-error",4,"ngIf"],[1,"p-field","pb-3"],["for","location"],["placeholder","Select location","name","location","appendTo","body","optionLabel","name","filter","true",3,"options","ngModel","onChange","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],["type","submit","pButton","","icon","pi pi-check","label","Show report","class","p-button-primary p-button-sm m-2",3,"click",4,"ngIf"],["appendTo","body","modal","true",3,"header","closable","visible","style","baseZIndex","onHide","visibleChange",4,"ngIf"],["appendTo","body","header","All transactions",3,"modal","closable","visible","baseZIndex","visibleChange","onHide"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields",4,"ngIf"],[1,"row","m-0","p-0","mt-3","pt-3",2,"background","#F7F7F8"],[1,"col-md-3"],[1,"card","mt-0"],[1,"media"],[1,"media-body","text-left"],[1,"card-text"],[1,"float-right"],[1,"pt-2","card-text"],["bdOpacity","#fff","name","code","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],[2,"color","#02926e"],["appendTo","body",3,"modal","header","closable","visible","baseZIndex","visibleChange","onHide"],["appendTo","body","modal","true",3,"header","closable","visible","style","baseZIndex","visibleChange","onHide",4,"ngIf"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields"],["dt12",""],["pTemplate","header"],["pTemplate","body"],["appendTo","body","modal","true",3,"header","closable","visible","baseZIndex","visibleChange","onHide"],["appendTo","body","modal","true",3,"header","closable","visible","style","baseZIndex","visibleChange",4,"ngIf"],["dt122",""],["dt",""],["appendTo","body","modal","true","header","Added invoices",3,"closable","visible","style","baseZIndex","visibleChange",4,"ngIf"],["appendTo","body","modal","true","header","Supplier payments",3,"closable","visible","style","baseZIndex","visibleChange",4,"ngIf"],["dt2",""],[3,"showCloseIcon"],["op",""],["pTemplate",""],["bdOpacity","#fff","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],["id","firstname3-help",1,"p-error"],[1,"ui-helper-clearfix"],["type","submit","pButton","","icon","pi pi-check","label","Show report",1,"p-button-primary","p-button-sm","m-2",3,"click"],["appendTo","body","modal","true",3,"header","closable","visible","baseZIndex","onHide","visibleChange"],[2,"background","#F7F7F8"],[1,"row","m-0","p-0",2,"background","#F7F7F8"],["class","col-md-12",4,"ngIf"],[1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front"],[2,"margin-bottom","0.99rem"],[1,"flip-card-back"],["pTooltip","Cash sales + Mpesa sales + Bank sales + Debtor sales - Reversed cash sales - Reversed debtor sales","tooltipPosition","left",1,"card-text"],[1,"col-md-2"],[2,"height","170px"],["dataKey","user_name",3,"value","tableStyle"],["pTemplate","rowexpansion"],["id","chart"],[3,"series","colors","chart","xaxis","yaxis","title","dataLabels","stroke","grid","tooltip","plotOptions","fill","legend","labels","markers","theme","responsive"],[2,"width","5rem"],["style","width: 35rem",4,"ngIf"],[2,"width","35rem"],["label","View all transactions","icon","pi pi-list","iconPos","right","styleClass","p-button-info p-button-outlined p-button-sm mr-2",3,"onClick"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],[4,"ngIf"],["colspan","8",1,"px-3",2,"background","#F7F7F8"],[1,"row","m-0","p-0"],[1,"card-header","p-2"],[1,"card-body","p-0","m-0","p"],[1,"table","table-hover","tri"],["pTooltip","Click to view cash transactions","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view payments","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view expenses","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view reversals","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view transactions","tooltipPosition","top",2,"cursor","pointer",3,"click"],[2,"font-weight","bold"],[1,"card-body","p-0","m-0"],[1,"table","tri"],["pTooltip","Click to view mpesa transactions","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view bank transactions","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view discounted items","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view overcharged items","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view supplier invoices","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view items","tooltipPosition","top",2,"cursor","pointer",3,"click"],["pTooltip","Click to view records","tooltipPosition","top",2,"cursor","pointer",3,"click"],[1,"ui-selectable-row"],[2,"width","10rem"],[2,"width","20rem"],["label","Download report","styleClass","p-button-success p-button-outlined p-button-sm",3,"model","onClick"],["sa",""],["colspan","14"],["pInputText","","type","text","placeholder","Search...",1,"ui-column-filter",3,"input"],[2,"word-wrap","normal"],["label","Show items","icon","pi pi-list","iconPos","right","styleClass","p-button-success p-button-outlined p-button-sm",3,"onClick",4,"ngIf"],["label","Show items","icon","pi pi-list","iconPos","right","styleClass","p-button-success p-button-outlined p-button-sm",3,"onClick"],["pSortableColumn","customer",2,"width","15rem"],["field","name"],["colspan","9"],["bdOpacity","#fff","name","sell","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],["pSortableColumn","name",2,"width","10rem"],["colspan","8"],["pInputText","","type","text","placeholder","Search item...",1,"ui-column-filter",3,"input"],["shape","circle"],["pInputText","","type","text","placeholder","Search ...",1,"ui-column-filter",3,"input"],["colspan","7"],["appendTo","body","modal","true",3,"header","closable","visible","baseZIndex","visibleChange"],[2,"width","25rem"],["colspan","4"],["colspan","6"],["colspan","3"],["appendTo","body","modal","true","header","Added invoices",3,"closable","visible","baseZIndex","visibleChange"],["appendTo","body","modal","true","header","Supplier payments",3,"closable","visible","baseZIndex","visibleChange"],["pInputText","","type","text","placeholder","Search item name",1,"ui-column-filter",3,"input"],["pSortableColumn","item.name",2,"width","15rem"],["field","item.name"],["colspan","5"],[2,"cursor","pointer",3,"click"],[1,"pi","pi-eye"],["selectionMode","single","responsiveLayout","scroll",3,"value","paginator","rows"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4",4),e._uU(6," Select a period to view sales "),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",0)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10),e._uU(14,"Start Date"),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"p-calendar",11),e.NdJ("ngModelChange",function(i){return o.periodStartDate=i}),e.qZA()(),e.TgZ(17,"div",9)(18,"label",10),e._uU(19,"End Date"),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"p-calendar",12),e.NdJ("ngModelChange",function(i){return o.periodEndDate=i}),e.qZA(),e._UZ(22,"p"),e.YNc(23,me,2,0,"small",13),e.YNc(24,Ze,2,0,"small",13),e.qZA(),e.TgZ(25,"div",14)(26,"label",15),e._uU(27,"Location to view report"),e.qZA(),e._UZ(28,"br"),e.TgZ(29,"p-dropdown",16),e.NdJ("onChange",function(i){return o.updateLocationSelected(i)})("ngModelChange",function(i){return o.locationToView=i}),e.YNc(30,Te,2,1,"ng-template",17),e.YNc(31,fe,3,1,"ng-template",18),e.qZA()()(),e.YNc(32,ve,1,0,"button",19),e.qZA()()()()()()(),e.YNc(33,ye,137,50,"p-dialog",20),e.TgZ(34,"p-dialog",21),e.NdJ("visibleChange",function(i){return o.showAllTransactionsDialog=i})("onHide",function(){return o.showAllTransactionsDialog=!1}),e.YNc(35,Ee,4,10,"p-table",22),e.TgZ(36,"div",23)(37,"a",24)(38,"div",25)(39,"div",5)(40,"div",6)(41,"div",26)(42,"div",27)(43,"h5",28),e._uU(44,"Cash amount"),e.qZA(),e.TgZ(45,"p"),e._uU(46,"Cash sales "),e.TgZ(47,"label",29),e._uU(48),e.ALo(49,"number"),e.qZA()(),e.TgZ(50,"p",28),e._uU(51,"Paid debtors cash "),e.TgZ(52,"label",29),e._uU(53),e.ALo(54,"number"),e.qZA()(),e.TgZ(55,"p",28),e._uU(56,"Reversed cash "),e.TgZ(57,"label",29),e._uU(58),e.ALo(59,"number"),e.qZA()(),e.TgZ(60,"p",28),e._uU(61,"Reversed multiple cash "),e.TgZ(62,"label",29),e._uU(63),e.ALo(64,"number"),e.qZA()(),e.TgZ(65,"h6",30),e._uU(66," Net cash "),e.TgZ(67,"label",29),e._uU(68),e.ALo(69,"number"),e.qZA()()()()()()()(),e.TgZ(70,"a",24)(71,"div",25)(72,"div",5)(73,"div",6)(74,"div",26)(75,"div",27)(76,"h5",28),e._uU(77,"Mpesa amount"),e.qZA(),e.TgZ(78,"p"),e._uU(79,"Mpesa sales "),e.TgZ(80,"label",29),e._uU(81),e.ALo(82,"number"),e.qZA()(),e.TgZ(83,"p",28),e._uU(84,"Paid debtors mpesa "),e.TgZ(85,"label",29),e._uU(86),e.ALo(87,"number"),e.qZA()(),e.TgZ(88,"p",28),e._uU(89,"Reversed mpesa "),e.TgZ(90,"label",29),e._uU(91),e.ALo(92,"number"),e.qZA()(),e.TgZ(93,"p",28),e._uU(94,"Reversed multiple mpesa "),e.TgZ(95,"label",29),e._uU(96),e.ALo(97,"number"),e.qZA()(),e.TgZ(98,"h6",30),e._uU(99," Net mpesa "),e.TgZ(100,"label",29),e._uU(101),e.ALo(102,"number"),e.qZA()()()()()()()(),e.TgZ(103,"a",24)(104,"div",25)(105,"div",5)(106,"div",6)(107,"div",26)(108,"div",27)(109,"h5",28),e._uU(110,"Bank amount"),e.qZA(),e.TgZ(111,"p"),e._uU(112,"Bank sales "),e.TgZ(113,"label",29),e._uU(114),e.ALo(115,"number"),e.qZA()(),e.TgZ(116,"p",28),e._uU(117,"Paid debtors bank "),e.TgZ(118,"label",29),e._uU(119),e.ALo(120,"number"),e.qZA()(),e.TgZ(121,"p",28),e._uU(122,"Reversed bank "),e.TgZ(123,"label",29),e._uU(124),e.ALo(125,"number"),e.qZA()(),e.TgZ(126,"p",28),e._uU(127,"Reversed multiple bank "),e.TgZ(128,"label",29),e._uU(129),e.ALo(130,"number"),e.qZA()(),e.TgZ(131,"h6",30),e._uU(132," Net bank "),e.TgZ(133,"label",29),e._uU(134),e.ALo(135,"number"),e.qZA()()()()()()()(),e.TgZ(136,"a",24)(137,"div",25)(138,"div",5)(139,"div",6)(140,"div",26)(141,"div",27)(142,"h5",28),e._uU(143,"Debtors amount "),e.qZA(),e.TgZ(144,"p",28),e._uU(145,"Debtor sales "),e.TgZ(146,"label",29),e._uU(147),e.ALo(148,"number"),e.qZA()(),e.TgZ(149,"p",28),e._uU(150,"Reversed debtors "),e.TgZ(151,"label",29),e._uU(152),e.ALo(153,"number"),e.qZA()(),e.TgZ(154,"h6",30),e._uU(155," Net debtors "),e.TgZ(156,"label",29),e._uU(157),e.ALo(158,"number"),e.qZA()()()()()()()(),e.TgZ(159,"a",24)(160,"div",25)(161,"div",5)(162,"div",6)(163,"div",26)(164,"div",27)(165,"h5",28),e._uU(166,"Gross profit "),e.qZA(),e.TgZ(167,"h6",30)(168,"label"),e._uU(169),e.ALo(170,"number"),e.qZA()()()()()()()()(),e.TgZ(171,"ngx-spinner",31),e._UZ(172,"p",32),e.qZA()(),e.TgZ(173,"p-dialog",33),e.NdJ("visibleChange",function(i){return o.showCashMpesaBankDialog=i})("onHide",function(){return o.showMpesaDialog=!1,o.showCashDialog=!1,o.showBankDialog=!1,o.showCashMpesaBankDialog=!1}),e.ALo(174,"titlecase"),e.ALo(175,"titlecase"),e.ALo(176,"titlecase"),e.YNc(177,Ne,4,10,"p-table",22),e.TgZ(178,"ngx-spinner",31),e._UZ(179,"p",32),e.qZA()(),e.YNc(180,Ie,7,19,"p-dialog",34),e.TgZ(181,"p-dialog",33),e.NdJ("visibleChange",function(i){return o.showCashMpesaReversalDialog=i})("onHide",function(){return o.showMpesaReversals=!1,o.showCashReversals=!1,o.showBankReversals=!1,o.showCashMpesaReversalDialog=!1}),e.ALo(182,"titlecase"),e.ALo(183,"titlecase"),e.ALo(184,"titlecase"),e.TgZ(185,"p-table",35,36),e.YNc(187,Re,23,0,"ng-template",37),e.YNc(188,He,26,26,"ng-template",38),e.qZA(),e.TgZ(189,"ngx-spinner",31),e._UZ(190,"p",32),e.qZA()(),e.TgZ(191,"p-dialog",39),e.NdJ("visibleChange",function(i){return o.showMultiplePaymentsDialog=i})("onHide",function(){return o.showMultiplePaymentsDialog=!1,o.showMultiplePaymentsCashDialog=!1,o.showMultiplePaymentsMpesaDialog=!1,o.showMultiplePaymentsBankDialog=!1}),e.ALo(192,"titlecase"),e.ALo(193,"titlecase"),e.ALo(194,"titlecase"),e.YNc(195,Ge,4,10,"p-table",22),e.TgZ(196,"ngx-spinner",31),e._UZ(197,"p",32),e.qZA()(),e.YNc(198,$e,6,19,"p-dialog",40),e.TgZ(199,"p-dialog",39),e.NdJ("visibleChange",function(i){return o.showDebtorTransferDialog=i})("onHide",function(){return o.showDebtorsDialog=!1,o.showTransfersDialog=!1}),e.YNc(200,et,4,10,"p-table",22),e.TgZ(201,"ngx-spinner",31),e._UZ(202,"p",32),e.qZA()(),e.TgZ(203,"p-dialog",33),e.NdJ("visibleChange",function(i){return o.showReversalItems=i})("onHide",function(){return o.showReversalItems=!1,o.reversalToView={}}),e.TgZ(204,"p-table",35,41),e.YNc(206,tt,17,0,"ng-template",37),e.YNc(207,ot,19,21,"ng-template",38),e.qZA(),e.TgZ(208,"ngx-spinner",31),e._UZ(209,"p",32),e.qZA()(),e.TgZ(210,"p-dialog",39),e.NdJ("visibleChange",function(i){return o.showPaidDebtorsDialog=i})("onHide",function(){return o.showPaidDebtorsDialog=!1,o.showPaidDebtorsCash=!1,o.showPaidDebtorsMpesa=!1,o.showPaidDebtorsBank=!1}),e.ALo(211,"titlecase"),e.TgZ(212,"p-table",35,42),e.YNc(214,it,10,1,"ng-template",37),e.YNc(215,st,10,10,"ng-template",38),e.qZA()(),e.YNc(216,pt,5,16,"p-dialog",43),e.YNc(217,ht,5,16,"p-dialog",44),e.YNc(218,mt,5,17,"p-dialog",40),e.TgZ(219,"p-dialog",39),e.NdJ("visibleChange",function(i){return o.showPositiveAndNegativeDialog=i})("onHide",function(){return o.showPositiveAndNegativeDialog=!1,o.showStockPositiveDialog=!1,o.showStockNegativeDialog=!1}),e.YNc(220,ft,4,10,"p-table",22),e.qZA(),e.TgZ(221,"p-dialog",39),e.NdJ("visibleChange",function(i){return o.showDiscountsDialog=i})("onHide",function(){return o.showDiscountsDialog=!1,o.showDebtorDiscountsDialog=!1,o.showCashDiscountsDialog=!1}),e.ALo(222,"titlecase"),e.ALo(223,"titlecase"),e.TgZ(224,"p-table",35,45),e.YNc(226,vt,22,0,"ng-template",37),e.YNc(227,bt,27,29,"ng-template",38),e.qZA()(),e.TgZ(228,"p-dialog",39),e.NdJ("visibleChange",function(i){return o.showOverchargeDialog=i})("onHide",function(){return o.showOverchargeDialog=!1,o.showDebtorOverchargeDialog=!1,o.showCashOverchargeDialog=!1}),e.ALo(229,"titlecase"),e.ALo(230,"titlecase"),e.TgZ(231,"p-table",35,45),e.YNc(233,xt,20,0,"ng-template",37),e.YNc(234,At,25,29,"ng-template",38),e.qZA()(),e.TgZ(235,"p-overlayPanel",46,47),e.YNc(237,St,3,3,"ng-template",48),e.qZA(),e.TgZ(238,"ngx-spinner",49),e._UZ(239,"p",32),e.qZA()),2&t&&(e.xp6(2),e.Q6J("@enter",void 0),e.xp6(14),e.Q6J("ngModel",o.periodStartDate)("maxDate",o.today)("monthNavigator",!0),e.xp6(5),e.Q6J("ngModel",o.periodEndDate)("monthNavigator",!0)("minDate",o.periodStartDate)("maxDate",o.today)("readonlyInput",!0),e.xp6(2),e.Q6J("ngIf",o.periodEndDate<o.periodStartDate&&""!=o.periodEndDate.toString()&&""!=o.periodStartDate.toString()),e.xp6(1),e.Q6J("ngIf",""!=o.periodEndDate.toString()&&""!=o.periodStartDate.toString()&&o.getDifferenceInDays()>365.25),e.xp6(5),e.Q6J("options",o.locations)("ngModel",o.locationToView),e.xp6(3),e.Q6J("ngIf",o.periodEndDate>=o.periodStartDate&&""!=o.periodEndDate.toString()&&""!=o.periodStartDate.toString()&&o.getDifferenceInDays()<=365.25),e.xp6(1),e.Q6J("ngIf",o.showPeriodSalesDialog),e.xp6(1),e.Akn(e.DdM(249,O)),e.Q6J("modal",!0)("closable",!0)("visible",o.showAllTransactionsDialog)("baseZIndex",1e4),e.xp6(1),e.Q6J("ngIf",o.showAllTransactionsDialog),e.xp6(3),e.Q6J("@enter",void 0),e.xp6(10),e.hij(" ",e.xi3(49,164,o.total_cash,".2")," "),e.xp6(5),e.hij(" ",e.xi3(54,167,o.paid_debtors_cash,".2")," "),e.xp6(5),e.hij(" ",e.xi3(59,170,o.reversed_cash,".2")," "),e.xp6(5),e.hij(" ",e.xi3(64,173,o.reversed_multiple_cash,".2")," "),e.xp6(5),e.hij(" ",e.xi3(69,176,o.total_cash+o.paid_debtors_cash-o.reversed_cash,".2")," "),e.xp6(3),e.Q6J("@enter",void 0),e.xp6(10),e.hij(" ",e.xi3(82,179,o.total_mpesa,".2")," "),e.xp6(5),e.hij(" ",e.xi3(87,182,o.paid_debtors_mpesa,".2")," "),e.xp6(5),e.hij(" ",e.xi3(92,185,o.reversed_mpesa,".2")," "),e.xp6(5),e.hij(" ",e.xi3(97,188,o.reversed_multiple_mpesa,".2")," "),e.xp6(5),e.hij(" ",e.xi3(102,191,o.total_mpesa+o.paid_debtors_mpesa-o.reversed_mpesa,".2")," "),e.xp6(3),e.Q6J("@enter",void 0),e.xp6(10),e.hij(" ",e.xi3(115,194,o.total_bank,".2")," "),e.xp6(5),e.hij(" ",e.xi3(120,197,o.paid_debtors_bank,".2")," "),e.xp6(5),e.hij(" ",e.xi3(125,200,o.reversed_bank,".2")," "),e.xp6(5),e.hij(" ",e.xi3(130,203,o.reversed_multiple_bank,".2")," "),e.xp6(5),e.hij(" ",e.xi3(135,206,o.total_bank+o.paid_debtors_bank-o.reversed_bank,".2")," "),e.xp6(3),e.Q6J("@enter",void 0),e.xp6(10),e.hij(" ",e.xi3(148,209,o.total_debtors,".2")," "),e.xp6(5),e.hij(" ",e.xi3(153,212,o.reversed_debtor,".2")," "),e.xp6(5),e.hij(" ",e.xi3(158,215,o.total_debtors-o.reversed_debtor,".2")," "),e.xp6(3),e.Q6J("@enter",void 0),e.xp6(9),e.hij(" ",e.xi3(170,218,o.total_profit,".2")," "),e.xp6(2),e.Q6J("fullScreen",!0),e.xp6(2),e.Akn(e.DdM(250,C)),e.Q6J("modal",!0)("header",o.showMpesaDialog?"Mpesa sales for "+e.lcZ(174,221,o.userToView):o.showCashDialog?"Cash sales for "+e.lcZ(175,223,o.userToView):"Bank sales for "+e.lcZ(176,225,o.userToView))("closable",!0)("visible",o.showCashMpesaBankDialog)("baseZIndex",1e4),e.xp6(4),e.Q6J("ngIf",o.showCashMpesaBankDialog),e.xp6(1),e.Q6J("fullScreen",!0),e.xp6(2),e.Q6J("ngIf",o.displayItemsDialog),e.xp6(1),e.Akn(e.DdM(251,C)),e.Q6J("modal",!0)("header",o.showCashReversals?"Cash reversals for "+e.lcZ(182,227,o.userToView):o.showMpesaReversals?"Mpesa reversals for "+e.lcZ(183,229,o.userToView):o.showBankReversals?"Bank reversals for "+e.lcZ(184,231,o.userToView):"")("closable",!0)("visible",o.showCashMpesaReversalDialog)("baseZIndex",1e4),e.xp6(4),e.Q6J("value",o.reversedCashTransactions)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(252,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(253,Pt)),e.xp6(4),e.Q6J("fullScreen",!0),e.xp6(2),e.Akn(e.DdM(254,C)),e.Q6J("header",o.showMultiplePaymentsCashDialog?"Reversed multiple payments with cash by "+e.lcZ(192,233,o.userToView):o.showMultiplePaymentsMpesaDialog?"Reversed multiple payments with mpesa by "+e.lcZ(193,235,o.userToView):"Reversed multiple payments with bank by "+e.lcZ(194,237,o.userToView))("closable",!0)("visible",o.showMultiplePaymentsDialog)("baseZIndex",1e4),e.xp6(4),e.Q6J("ngIf",o.showMultiplePaymentsDialog),e.xp6(1),e.Q6J("fullScreen",!0),e.xp6(2),e.Q6J("ngIf",o.showExpenseDialog),e.xp6(1),e.Akn(e.DdM(255,C)),e.Q6J("header",o.showDebtorsDialog?"Debtors sales":"Transfer sales")("closable",!0)("visible",o.showDebtorTransferDialog)("baseZIndex",1e4),e.xp6(1),e.Q6J("ngIf",o.showDebtorTransferDialog),e.xp6(1),e.Q6J("fullScreen",!0),e.xp6(2),e.Akn(e.DdM(256,C)),e.Q6J("modal",!0)("header","Reversals for receipt no "+o.reversalToView.code)("closable",!0)("visible",o.showReversalItems)("baseZIndex",1e4),e.xp6(1),e.Q6J("value",o.reversalToView.items)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(257,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(258,k)),e.xp6(4),e.Q6J("fullScreen",!0),e.xp6(2),e.Akn(e.DdM(259,Q)),e.hYB("header","Paid debtors using ",o.showPaidDebtorsCash?"Cash":o.showPaidDebtorsMpesa?"Mpesa":"Bank"," for ",e.lcZ(211,239,o.userToView),""),e.Q6J("closable",!0)("visible",o.showPaidDebtorsDialog)("baseZIndex",1e4),e.xp6(2),e.Q6J("value",o.paidDebtorsToView)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(260,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(261,yt)),e.xp6(4),e.Q6J("ngIf",o.showSuppliersDialog),e.xp6(1),e.Q6J("ngIf",o.showSupplierPaymentsDialog),e.xp6(1),e.Q6J("ngIf",o.showInvoiceItemsDialog),e.xp6(1),e.Akn(e.DdM(262,V)),e.Q6J("header",o.showStockPositiveDialog?"Stock positive":"Stock negative")("closable",!0)("visible",o.showPositiveAndNegativeDialog)("baseZIndex",1e4),e.xp6(1),e.Q6J("ngIf",o.showPositiveAndNegativeDialog),e.xp6(1),e.Akn(e.DdM(263,C)),e.Q6J("header",o.showDebtorDiscountsDialog?"Debtor sales discounted items for "+e.lcZ(222,241,o.userToView):"Cash sales discounted items for "+e.lcZ(223,243,o.userToView))("closable",!0)("visible",o.showDiscountsDialog)("baseZIndex",1e4),e.xp6(3),e.Q6J("value",o.userDiscountItems)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(264,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(265,Dt)),e.xp6(4),e.Akn(e.DdM(266,C)),e.Q6J("header",o.showDebtorOverchargeDialog?"Debtor sales overcharged items for "+e.lcZ(229,245,o.userToView):"Cash sales overcharged items for "+e.lcZ(230,247,o.userToView))("closable",!0)("visible",o.showOverchargeDialog)("baseZIndex",1e4),e.xp6(3),e.Q6J("value",o.userOverchargedItems)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(267,f))("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(268,qt)),e.xp6(4),e.Akn(e.DdM(269,Ut)),e.Q6J("@enter",void 0)("showCloseIcon",!1),e.xp6(3),e.Q6J("fullScreen",!0))},dependencies:[P.O5,I.Ro,M.JJ,M.Q7,M.On,se.V,R.jx,H.Hq,H.zx,U.iA,U.lQ,U.jB,U.fz,re.o,ae.Lt,ne.a,le.u,pe.T,de.H,ce.q,_e.f,he.x,P.JJ,P.rS,P.H9,P.uU],styles:[".flip-card[_ngcontent-%COMP%]{background-color:transparent;width:100%;height:1px;perspective:1000px}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform .8s;transform-style:preserve-3d}.flip-card[_ngcontent-%COMP%]:hover   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden}.flip-card-back[_ngcontent-%COMP%]{border-radius:.35rem;background-color:#fff;transform:rotateY(180deg);height:90px;margin-top:1rem!important}"],data:{animation:[(0,D.X$)("enter",[(0,D.eR)("void => *",[(0,D.oB)({opacity:0}),(0,D.jt)(1e3,(0,D.oB)({opacity:1}))])])]}}),r})(),data:{title:"Periodic"}}];let Et=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[J.Bz.forChild(kt),J.Bz]}),r})();var Lt=c(4397);let Mt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Et,Lt.U]}),r})()}}]);