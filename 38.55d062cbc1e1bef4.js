"use strict";(self.webpackChunkmatngular=self.webpackChunkmatngular||[]).push([[38],{5038:(gt,v,p)=>{p.r(v),p.d(v,{StockModule:()=>mt});var T=p(2318),t=p(4650),f=p(7340),A=p(8423),U=p(3166),w=p(7185),x=p(1927),F=p(1932),y=p(6895),D=p(805),E=p(9775),S=p(4006),L=p(1493),b=p(5593),Z=p(3087),M=p(1740),k=p(666),I=p(3608),R=p(2435),J=p(8558),O=p(8271),N=p(585);const Q=["op"];function Y(a,l){1&a&&(t.TgZ(0,"small",36),t._uU(1," End date should be greator than start date "),t.qZA())}function P(a,l){1&a&&(t.TgZ(0,"small",36),t._uU(1," Period should not exceed 1 year. "),t.qZA())}function H(a,l){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const i=l.$implicit;t.xp6(1),t.Oqu(i.name)}}function V(a,l){if(1&a&&(t.TgZ(0,"div",37)(1,"div"),t._uU(2),t.qZA()()),2&a){const i=l.$implicit;t.xp6(2),t.Oqu(i.name)}}function $(a,l){if(1&a){const i=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG("All"===o.locationToView.name?o.getSummary():o.getSummaryLocation())}),t.qZA()}}function G(a,l){if(1&a){const i=t.EpF();t.TgZ(0,"tr",43)(1,"th",44),t._uU(2,"Item "),t.qZA(),t.TgZ(3,"th",44),t._uU(4,"Category "),t.qZA(),t.TgZ(5,"th",45),t._uU(6,"Sales "),t._UZ(7,"p-sortIcon",46),t.qZA(),t.TgZ(8,"th",47),t._uU(9,"Transfers "),t._UZ(10,"p-sortIcon",48),t.qZA(),t.TgZ(11,"th",49),t._uU(12,"Reversed "),t._UZ(13,"p-sortIcon",50),t.qZA(),t.TgZ(14,"th",51),t._uU(15,"Added "),t._UZ(16,"p-sortIcon",52),t.qZA(),t.TgZ(17,"th",53),t._uU(18,"Reduced "),t._UZ(19,"p-sortIcon",54),t.qZA(),t.TgZ(20,"th",55),t._uU(21,"Returned "),t._UZ(22,"p-sortIcon",56),t.qZA(),t.TgZ(23,"th",57),t._uU(24,"Profit "),t._UZ(25,"p-sortIcon",58),t.qZA(),t._UZ(26,"th",59),t.qZA(),t.TgZ(27,"tr")(28,"th",60)(29,"input",61),t.NdJ("input",function(o){t.CHM(i),t.oxw();const u=t.MAs(1);return t.KtG(u.filterGlobal(o.target.value,"contains"))}),t.qZA()()()}}function B(a,l){if(1&a){const i=t.EpF();t.TgZ(0,"tr",62)(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"number"),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"number"),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.ALo(27,"number"),t.qZA(),t.TgZ(28,"td")(29,"p-button",63),t.NdJ("onClick",function(){const u=t.CHM(i).$implicit,d=t.oxw(2);return t.KtG("All"===d.locationToView.name?d.showItemReport(u):d.showItemReportLocation(u))}),t.qZA()()()}if(2&a){const i=l.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,9,i.item.name)),t.xp6(3),t.Oqu(t.lcZ(6,11,i.category.name)),t.xp6(3),t.Oqu(t.xi3(9,13,i.sales,".2")),t.xp6(3),t.Oqu(t.xi3(12,16,i.transfers,".2")),t.xp6(3),t.Oqu(t.xi3(15,19,i.reversed,".2")),t.xp6(3),t.Oqu(t.xi3(18,22,i.added,".2")),t.xp6(3),t.Oqu(t.xi3(21,25,i.reduced,".2")),t.xp6(3),t.Oqu(t.xi3(24,28,i.returned,".2")),t.xp6(3),t.Oqu(t.xi3(27,31,i.profit,".2"))}}const C=function(){return[10,25,50]},z=function(){return["item.name"]};function K(a,l){if(1&a&&(t.TgZ(0,"p-table",39,40),t.YNc(2,G,30,0,"ng-template",41),t.YNc(3,B,30,34,"ng-template",42),t.qZA()),2&a){const i=t.oxw();t.Q6J("value",i.itemsSummary)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(8,C))("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(9,z))}}function j(a,l){if(1&a){const i=t.EpF();t.TgZ(0,"tr",43)(1,"th",44),t._uU(2,"Transaction date "),t.qZA(),t.TgZ(3,"th",44),t._uU(4,"Opening qty "),t.qZA(),t.TgZ(5,"th",44),t._uU(6,"Transaction type "),t.qZA(),t.TgZ(7,"th",44),t._uU(8,"Receipt no "),t.qZA(),t.TgZ(9,"th",44),t._uU(10,"Unit "),t.qZA(),t.TgZ(11,"th",44),t._uU(12,"Unit qty "),t.qZA(),t.TgZ(13,"th",44),t._uU(14,"Location "),t.qZA(),t.TgZ(15,"th",44),t._uU(16,"Done by "),t.qZA()(),t.TgZ(17,"tr")(18,"th",64)(19,"input",61),t.NdJ("input",function(o){t.CHM(i),t.oxw();const u=t.MAs(1);return t.KtG(u.filterGlobal(o.target.value,"contains"))}),t.qZA()()()}}const X=function(a){return{"background-color":a,color:"#ffffff",cursor:"pointer"}};function W(a,l){if(1&a){const i=t.EpF();t.TgZ(0,"tr",62)(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td")(5,"i",65),t.NdJ("click",function(o){const d=t.CHM(i).$implicit,c=t.oxw(2);return t.KtG(c.showLocationsQuantity(d,o))}),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"titlecase"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"td")(18,"p-avatarGroup"),t._UZ(19,"p-avatar",66),t.qZA()(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"titlecase"),t.qZA()()}if(2&a){const i=l.$implicit;t.xp6(2),t.Oqu(t.xi3(3,8,i.date_of_sale,"fullDate")),t.xp6(5),t.Oqu(t.lcZ(8,11,i.type)),t.xp6(3),t.Oqu(i.transaction_code),t.xp6(2),t.Oqu(t.lcZ(13,13,i.unit.unit_name)),t.xp6(3),t.Oqu(t.xi3(16,15,i.unit_quantity,".2")),t.xp6(4),t.Akn(t.VKq(20,X,i.location.color)),t.xp6(2),t.Oqu(t.lcZ(22,18,i.sold_by))}}const tt=function(){return["transaction_code","type","unit.name","sold_by"]};function et(a,l){if(1&a&&(t.TgZ(0,"p-table",39,40),t.YNc(2,j,20,0,"ng-template",41),t.YNc(3,W,23,22,"ng-template",42),t.qZA()),2&a){const i=t.oxw();t.Q6J("value",i.itemReport)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(8,C))("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(9,tt))}}function it(a,l){if(1&a&&(t.TgZ(0,"p",67),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"number"),t.qZA()),2&a){const i=l.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,i.unit.unit_name)," - ",t.lcZ(3,4,i.unit_quantity)," ")}}function ot(a,l){if(1&a&&(t.TgZ(0,"p",67),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"number"),t.qZA()),2&a){const i=l.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,i.unit.unit_name)," - ",t.lcZ(3,4,i.unit_quantity)," ")}}function nt(a,l){if(1&a&&(t.TgZ(0,"p",67),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"number"),t.qZA()),2&a){const i=l.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,i.unit.unit_name)," - ",t.lcZ(3,4,i.unit_quantity)," ")}}function at(a,l){if(1&a&&(t.TgZ(0,"p",67),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"number"),t.qZA()),2&a){const i=l.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,i.unit.unit_name)," - ",t.lcZ(3,4,i.unit_quantity)," ")}}function rt(a,l){1&a&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Unit"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Quantity"),t.qZA()())}function st(a,l){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA()()),2&a){const i=l.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,i.unit.unit_name)),t.xp6(3),t.Oqu(t.lcZ(6,4,i.unit_quantity))}}function lt(a,l){if(1&a&&(t.TgZ(0,"p-table",68),t.YNc(1,rt,5,0,"ng-template",41),t.YNc(2,st,7,6,"ng-template",42),t.qZA()),2&a){const i=t.oxw();t.Q6J("value",i.itemToViewQuantites.item_opening_units)("paginator",!1)("rows",5)}}const ut=function(){return{width:"95vw"}},pt=function(){return{width:"90vw"}},dt=function(){return{width:"450px"}},ct=[{path:"",component:(()=>{class a{constructor(i,n,o,u,d,c,_,h,m){this.spinner=i,this.cryptoSrv=n,this.toastr=o,this.authSrv=u,this.apiSrv=d,this._decimalPipe=c,this.confirmationService=_,this.printSrv=h,this.locale=m,this.periodStartDate=new Date,this.periodEndDate=new Date,this.periodFrom=new Date,this.periodTo=new Date,this.today=new Date,this.itemsSummary=[],this.showSummaryDialog=!1,this.itemReport=[],this.showItemReportDialog=!1,this.itemUnits=[],this.total_opening_quantity=[],this.total_quantity_sold=[],this.total_quantity_reversed=[],this.total_quantity_transfered=[],this.total_quantity_added=[],this.total_quantity_reduced=[],this.total_quantity_returned=[],this.locations=[],this.locationToView={}}ngOnInit(){this.locations=[];const i={action:this.cryptoSrv.encodeEncryptText("get-shop-locations"),uid:this.authSrv.getUserDetailToken("uid")};this.apiSrv.post(i).then(n=>{this.locations.push({id:0,name:"All",color:"#ffffff"}),this.locations.push(...n.locations)}).catch(n=>{})}getDifferenceInDays(){if(this.periodFrom){const i=new Date(this.periodFrom.toLocaleDateString("sv-SE"));return(new Date(this.periodTo.toLocaleDateString("sv-SE")).getTime()-i.getTime())/864e5}return 0}updateLocationSelected(i){this.locationToView=i.value}getSummary(){this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("get-items-report-summary"),uid:this.authSrv.getUserDetailToken("uid"),from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleDateString("sv-SE")),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleDateString("sv-SE"))};this.apiSrv.read(i).then(n=>{"error"!=n.status?"error2"!=n.status?(this.itemsSummary=n.items,this.itemsSummary.forEach(o=>{o.sales=parseFloat(o.sales.toString()),o.reversed=parseFloat(o.reversed.toString()),o.profit=parseFloat(o.profit.toString()),o.transfers=parseFloat(o.transfers.toString()),o.added=parseFloat(o.added.toString()),o.reduced=parseFloat(o.reduced.toString()),o.returned=parseFloat(o.returned.toString())}),this.spinner.hide(),this.showSummaryDialog=!0):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(n.message))}).catch(n=>{this.toastr.error(n),this.spinner.hide()})}getSummaryLocation(){this.spinner.show();const i={action:this.cryptoSrv.encodeEncryptText("get-items-report-summary-location"),uid:this.authSrv.getUserDetailToken("uid"),from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleDateString("sv-SE")),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleDateString("sv-SE")),location_id:this.locationToView.id};this.apiSrv.read(i).then(n=>{"error"!=n.status?"error2"!=n.status?(this.itemsSummary=n.items,this.itemsSummary.forEach(o=>{o.sales=parseFloat(o.sales.toString()),o.reversed=parseFloat(o.reversed.toString()),o.profit=parseFloat(o.profit.toString()),o.transfers=parseFloat(o.transfers.toString()),o.added=parseFloat(o.added.toString()),o.reduced=parseFloat(o.reduced.toString()),o.returned=parseFloat(o.returned.toString())}),this.spinner.hide(),this.showSummaryDialog=!0):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(n.message))}).catch(n=>{this.toastr.error(n),this.spinner.hide()})}showItemReport(i){this.spinner.show("item");const n={action:this.cryptoSrv.encodeEncryptText("get-item-period-report"),uid:this.authSrv.getUserDetailToken("uid"),item_id:i.item.id,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleDateString("sv-SE")),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleDateString("sv-SE"))};this.apiSrv.read(n).then(o=>{if("error"!=o.status)if("error2"!=o.status){this.itemToViewReport=i,this.itemReport=o.transactions,this.itemUnits=o.units,this.itemUnits=this.itemUnits.sort((r,e)=>e.unit_quantity-r.unit_quantity),this.total_quantity_sold=[],this.total_quantity_reversed=[],this.total_quantity_transfered=[],this.total_quantity_added=[],this.total_quantity_reduced=[],this.total_quantity_returned=[];let u=parseFloat(o.sold.toString()),d=parseFloat(o.reversed.toString()),c=parseFloat(o.transfered.toString()),_=parseFloat(o.added.toString()),h=parseFloat(o.reduced.toString()),m=parseFloat(o.returned.toString());this.itemUnits.forEach(r=>{let e={};if(r.unit_quantity=parseFloat(r.unit_quantity.toString()),u>0){const s=Math.floor(u/r.unit_quantity);e.unit=r,e.unit_quantity=s,u-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_sold.push(e),e={},d>0){const s=Math.floor(d/r.unit_quantity);e.unit=r,e.unit_quantity=s,d-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_reversed.push(e),e={},c>0){const s=Math.floor(c/r.unit_quantity);e.unit=r,e.unit_quantity=s,c-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_transfered.push(e),e={},_>0){const s=Math.floor(_/r.unit_quantity);e.unit=r,e.unit_quantity=s,_-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_added.push(e),e={},h>0){const s=Math.floor(h/r.unit_quantity);e.unit=r,e.unit_quantity=s,h-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_reduced.push(e),e={},m>0){const s=Math.floor(m/r.unit_quantity);e.unit=r,e.unit_quantity=s,m-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;this.total_quantity_returned.push(e)}),this.itemReport.forEach(r=>{var e=parseFloat(r.opening_quantity.toString());r.item_opening_units=[],this.itemUnits.forEach(s=>{let g={};if(s.unit_quantity=parseFloat(s.unit_quantity.toString()),e>0){const q=Math.floor(e/s.unit_quantity);g.unit=s,g.unit_quantity=q,e-=q*s.unit_quantity}else g.unit=s,g.unit_quantity=0;r.item_opening_units.push(g)})}),this.total_opening_quantity=this.itemReport[this.itemReport.length-1].item_opening_units,this.spinner.hide("item"),this.showItemReportDialog=!0}else this.spinner.hide("item"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout();else this.spinner.hide("item"),this.toastr.error(o.message)}).catch(o=>{this.toastr.error(o),this.spinner.hide("item")})}showItemReportLocation(i){this.spinner.show("item");const n={action:this.cryptoSrv.encodeEncryptText("get-item-period-report-location"),uid:this.authSrv.getUserDetailToken("uid"),item_id:i.item.id,from:this.cryptoSrv.encodeEncryptText(this.periodStartDate.toLocaleDateString("sv-SE")),to:this.cryptoSrv.encodeEncryptText(this.periodEndDate.toLocaleDateString("sv-SE")),location_id:this.locationToView.id};this.apiSrv.read(n).then(o=>{if("error"!=o.status)if("error2"!=o.status){this.itemToViewReport=i,this.itemReport=o.transactions,this.itemUnits=o.units,this.itemUnits=this.itemUnits.sort((r,e)=>e.unit_quantity-r.unit_quantity),this.total_quantity_sold=[],this.total_quantity_reversed=[],this.total_quantity_transfered=[],this.total_quantity_added=[],this.total_quantity_reduced=[],this.total_quantity_returned=[];let u=parseFloat(o.sold.toString()),d=parseFloat(o.reversed.toString()),c=parseFloat(o.transfered.toString()),_=parseFloat(o.added.toString()),h=parseFloat(o.reduced.toString()),m=parseFloat(o.returned.toString());this.itemUnits.forEach(r=>{let e={};if(r.unit_quantity=parseFloat(r.unit_quantity.toString()),u>0){const s=Math.floor(u/r.unit_quantity);e.unit=r,e.unit_quantity=s,u-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_sold.push(e),e={},d>0){const s=Math.floor(d/r.unit_quantity);e.unit=r,e.unit_quantity=s,d-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_reversed.push(e),e={},c>0){const s=Math.floor(c/r.unit_quantity);e.unit=r,e.unit_quantity=s,c-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_transfered.push(e),e={},_>0){const s=Math.floor(_/r.unit_quantity);e.unit=r,e.unit_quantity=s,_-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_added.push(e),e={},h>0){const s=Math.floor(h/r.unit_quantity);e.unit=r,e.unit_quantity=s,h-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;if(this.total_quantity_reduced.push(e),e={},m>0){const s=Math.floor(m/r.unit_quantity);e.unit=r,e.unit_quantity=s,m-=s*r.unit_quantity}else e.unit=r,e.unit_quantity=0;this.total_quantity_returned.push(e)}),this.itemReport.forEach(r=>{var e=parseFloat(r.opening_quantity.toString());r.item_opening_units=[],this.itemUnits.forEach(s=>{let g={};if(s.unit_quantity=parseFloat(s.unit_quantity.toString()),e>0){const q=Math.floor(e/s.unit_quantity);g.unit=s,g.unit_quantity=q,e-=q*s.unit_quantity}else g.unit=s,g.unit_quantity=0;r.item_opening_units.push(g)})}),this.total_opening_quantity=this.itemReport.length>0?this.itemReport[this.itemReport.length-1].item_opening_units:[],this.spinner.hide("item"),this.showItemReportDialog=!0}else this.spinner.hide("item"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout();else this.spinner.hide("item"),this.toastr.error(o.message)}).catch(o=>{this.toastr.error(o),this.spinner.hide("item")})}showLocationsQuantity(i,n){this.itemToViewQuantites=i,this.overlay.toggle(n)}}return a.\u0275fac=function(i){return new(i||a)(t.Y36(A.t2),t.Y36(U.$),t.Y36(w._W),t.Y36(x.e),t.Y36(F.s),t.Y36(y.JJ),t.Y36(D.YP),t.Y36(E.$),t.Y36(t.soG))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-stock"]],viewQuery:function(i,n){if(1&i&&t.Gf(Q,5),2&i){let o;t.iGM(o=t.CRH())&&(n.overlay=o.first)}},decls:86,vars:54,consts:[[1,"row"],[1,"col-md-4"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[1,"col-md-12"],[1,"ui-fluid","px-2"],[1,"p-field"],["for","firstname3"],["appendTo","body","name","start_date","required","","readonlyInput","true",3,"ngModel","maxDate","monthNavigator","ngModelChange"],["appendTo","body","name","end_date","required","",3,"ngModel","monthNavigator","minDate","maxDate","readonlyInput","ngModelChange"],["id","firstname3-help","class","p-error",4,"ngIf"],[1,"p-field","pb-3"],["for","location"],["placeholder","Select location","name","location","appendTo","body","optionLabel","name","filter","true",3,"options","ngModel","onChange","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],["type","submit","pButton","","icon","pi pi-check","label","Show report","class","p-button-primary p-button-sm m-2",3,"click",4,"ngIf"],["appendTo","body","modal","true",3,"header","closable","visible","baseZIndex","visibleChange","onHide"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields",4,"ngIf"],["bdOpacity","#fff","name","item","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],[2,"color","#02926e"],[1,"row","px-1"],[1,"col-3"],[1,"card","card-inverse","bg-primary"],[1,"card-body","m-0","p-0"],[1,"media"],[1,"media-body","text-center"],[1,"card-text",2,"margin-bottom","0.99rem"],["style","margin-bottom: 0.99rem;",4,"ngFor","ngForOf"],[3,"showCloseIcon"],["op",""],["pTemplate",""],["bdOpacity","#fff","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],["id","firstname3-help",1,"p-error"],[1,"ui-helper-clearfix"],["type","submit","pButton","","icon","pi pi-check","label","Show report",1,"p-button-primary","p-button-sm","m-2",3,"click"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields"],["dtr",""],["pTemplate","header"],["pTemplate","body"],[1,"ui-selectable-row"],[2,"width","10rem"],["pSortableColumn","sales",2,"width","10rem"],["field","sales"],["pSortableColumn","transfers",2,"width","10rem"],["field","transfers"],["pSortableColumn","reversed",2,"width","10rem"],["field","reversed"],["pSortableColumn","added",2,"width","10rem"],["field","added"],["pSortableColumn","reduced",2,"width","10rem"],["field","reduced"],["pSortableColumn","returned",2,"width","10rem"],["field","returned"],["pSortableColumn","profit",2,"width","10rem"],["field","profit"],[2,"width","20rem"],["colspan","10"],["pInputText","","type","text","placeholder","Search...",1,"ui-column-filter",3,"input"],[2,"word-wrap","normal"],["label","Show report","icon","pi pi-list","iconPos","right","styleClass","p-button-info p-button-sm float-right",3,"onClick"],["colspan","8"],["pTooltip","Click to view opening units","tooltipPosition","top",1,"fa","fa-boxes-stacked",3,"click"],["shape","circle","label",""],[2,"margin-bottom","0.99rem"],["selectionMode","single","responsiveLayout","scroll",3,"value","paginator","rows"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4",4),t._uU(6," Select a period to view report per item "),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",0)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10),t._uU(14,"Start Date"),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"p-calendar",11),t.NdJ("ngModelChange",function(u){return n.periodStartDate=u}),t.qZA()(),t.TgZ(17,"div",9)(18,"label",10),t._uU(19,"End Date"),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"p-calendar",12),t.NdJ("ngModelChange",function(u){return n.periodEndDate=u}),t.qZA(),t._UZ(22,"p"),t.YNc(23,Y,2,0,"small",13),t.YNc(24,P,2,0,"small",13),t.qZA(),t.TgZ(25,"div",14)(26,"label",15),t._uU(27,"Location to view report"),t.qZA(),t._UZ(28,"br"),t.TgZ(29,"p-dropdown",16),t.NdJ("onChange",function(u){return n.updateLocationSelected(u)})("ngModelChange",function(u){return n.locationToView=u}),t.YNc(30,H,2,1,"ng-template",17),t.YNc(31,V,3,1,"ng-template",18),t.qZA()()(),t.YNc(32,$,1,0,"button",19),t.qZA()()()()()()(),t.TgZ(33,"p-dialog",20),t.NdJ("visibleChange",function(u){return n.showSummaryDialog=u})("onHide",function(){return n.showSummaryDialog=!1}),t.ALo(34,"date"),t.ALo(35,"date"),t.YNc(36,K,4,10,"p-table",21),t.TgZ(37,"ngx-spinner",22),t._UZ(38,"p",23),t.qZA()(),t.TgZ(39,"p-dialog",20),t.NdJ("visibleChange",function(u){return n.showItemReportDialog=u})("onHide",function(){return n.showItemReportDialog=!1}),t.ALo(40,"titlecase"),t.ALo(41,"date"),t.ALo(42,"date"),t.YNc(43,et,4,10,"p-table",21),t.TgZ(44,"div",24)(45,"div",25)(46,"div",26)(47,"div",5)(48,"div",27)(49,"div",28)(50,"div",29)(51,"h5",30),t._uU(52,"Opening quantity"),t.qZA(),t.YNc(53,it,4,6,"p",31),t.qZA()()()()()(),t.TgZ(54,"div",25)(55,"div",26)(56,"div",5)(57,"div",27)(58,"div",28)(59,"div",29)(60,"h5",30),t._uU(61,"Sold quantity"),t.qZA(),t.YNc(62,ot,4,6,"p",31),t.qZA()()()()()(),t.TgZ(63,"div",25)(64,"div",26)(65,"div",5)(66,"div",27)(67,"div",28)(68,"div",29)(69,"h5",30),t._uU(70,"Added quantity"),t.qZA(),t.YNc(71,nt,4,6,"p",31),t.qZA()()()()()(),t.TgZ(72,"div",25)(73,"div",26)(74,"div",5)(75,"div",27)(76,"div",28)(77,"div",29)(78,"h5",30),t._uU(79,"Reduced quantity"),t.qZA(),t.YNc(80,at,4,6,"p",31),t.qZA()()()()()()()(),t.TgZ(81,"p-overlayPanel",32,33),t.YNc(83,lt,3,3,"ng-template",34),t.qZA(),t.TgZ(84,"ngx-spinner",35),t._UZ(85,"p",23),t.qZA()),2&i&&(t.xp6(2),t.Q6J("@enter",void 0),t.xp6(14),t.Q6J("ngModel",n.periodStartDate)("maxDate",n.today)("monthNavigator",!0),t.xp6(5),t.Q6J("ngModel",n.periodEndDate)("monthNavigator",!0)("minDate",n.periodStartDate)("maxDate",n.today)("readonlyInput",!0),t.xp6(2),t.Q6J("ngIf",n.periodEndDate<n.periodStartDate&&""!=n.periodEndDate.toString()&&""!=n.periodStartDate.toString()),t.xp6(1),t.Q6J("ngIf",""!=n.periodEndDate.toString()&&""!=n.periodStartDate.toString()&&n.getDifferenceInDays()>365.25),t.xp6(5),t.Q6J("options",n.locations)("ngModel",n.locationToView),t.xp6(3),t.Q6J("ngIf",n.periodEndDate>=n.periodStartDate&&""!=n.periodEndDate.toString()&&""!=n.periodStartDate.toString()&&n.getDifferenceInDays()<=365.25),t.xp6(1),t.Akn(t.DdM(51,ut)),t.Q6J("header",n.showSummaryDialog?"Stock report from "+t.xi3(34,37,n.periodStartDate,"fullDate")+" to "+t.xi3(35,40,n.periodEndDate,"fullDate"):"")("closable",!0)("visible",n.showSummaryDialog)("baseZIndex",1e4),t.xp6(3),t.Q6J("ngIf",n.showSummaryDialog),t.xp6(1),t.Q6J("fullScreen",!0),t.xp6(2),t.Akn(t.DdM(52,pt)),t.Q6J("header",n.showItemReportDialog?t.lcZ(40,43,n.itemToViewReport.item.name)+" report from "+t.xi3(41,45,n.periodStartDate,"fullDate")+" to "+t.xi3(42,48,n.periodEndDate,"fullDate"):"")("closable",!0)("visible",n.showItemReportDialog)("baseZIndex",1e4),t.xp6(4),t.Q6J("ngIf",n.showItemReportDialog),t.xp6(10),t.Q6J("ngForOf",n.total_opening_quantity),t.xp6(9),t.Q6J("ngForOf",n.total_quantity_sold),t.xp6(9),t.Q6J("ngForOf",n.total_quantity_added),t.xp6(9),t.Q6J("ngForOf",n.total_quantity_reduced),t.xp6(1),t.Akn(t.DdM(53,dt)),t.Q6J("showCloseIcon",!1),t.xp6(3),t.Q6J("fullScreen",!0))},dependencies:[y.sg,y.O5,A.Ro,S.JJ,S.Q7,S.On,L.V,D.jx,b.Hq,b.zx,Z.iA,Z.lQ,Z.fz,M.o,k.Lt,I.u,R.T,J.H,O.q,N.f,y.JJ,y.rS,y.uU],data:{animation:[(0,f.X$)("enter",[(0,f.eR)("void => *",[(0,f.oB)({opacity:0}),(0,f.jt)(1e3,(0,f.oB)({opacity:1}))])])]}}),a})(),data:{title:"ItemReport"}}];let _t=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[T.Bz.forChild(ct),T.Bz]}),a})();var ht=p(4397);let mt=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[_t,ht.U]}),a})()}}]);