"use strict";(self.webpackChunkmatngular=self.webpackChunkmatngular||[]).push([[388],{6388:(k,u,l)=>{l.r(u),l.d(u,{StockNegativeModule:()=>ft});var c=l(2340),p=l(7340),t=l(4650),g=l(8423),_=l(3166),h=l(7185),S=l(1927),C=l(1932),f=l(805),m=l(6895),d=l(4006),Z=l(1493),A=l(2137),T=l(5593),v=l(3087),b=l(5722),N=l(1740),w=l(666),q=l(2435),M=l(8558),U=l(8271),I=l(2665),J=l(3942);const L=["op"];function Q(e,s){if(1&e&&(t.TgZ(0,"div",26)(1,"span"),t._uU(2),t.qZA()()),2&e){const o=s.$implicit;t.xp6(2),t.Oqu(o.name)}}function Y(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"tr",16),t._UZ(1,"th",17),t.TgZ(2,"th",18),t._uU(3,"Item "),t._UZ(4,"p-sortIcon",19),t.qZA(),t.TgZ(5,"th",20),t._uU(6,"Category "),t._UZ(7,"p-sortIcon",21),t.qZA(),t.TgZ(8,"th",22),t._uU(9,"Locations "),t.qZA(),t.TgZ(10,"th",22),t._uU(11,"Units "),t.qZA(),t._UZ(12,"th",22),t.qZA(),t.TgZ(13,"tr"),t._UZ(14,"th"),t.TgZ(15,"th")(16,"input",23),t.NdJ("input",function(n){t.CHM(o),t.oxw();const a=t.MAs(6);return t.KtG(a.filter(n.target.value,"name","contains"))}),t.qZA()(),t.TgZ(17,"th")(18,"p-multiSelect",24),t.NdJ("onChange",function(n){t.CHM(o);const a=t.oxw(2);return t.KtG(a.onCategoryChange(n))}),t.YNc(19,Q,3,1,"ng-template",25),t.qZA()(),t._UZ(20,"th")(21,"th")(22,"th"),t.qZA()}if(2&e){const o=t.oxw(2);t.xp6(18),t.Q6J("options",o.categories)}}function O(e,s){if(1&e&&t._UZ(0,"img",35),2&e){const o=t.oxw(3);t.Q6J("src",o.productImagesUrl+"default.png",t.LSH)}}function F(e,s){if(1&e&&t._UZ(0,"img",35),2&e){const o=t.oxw().$implicit,i=t.oxw(2);t.s9C("src",i.productImagesUrl+o.image,t.LSH)}}const E=function(e){return{"background-color":e,color:"#ffffff",cursor:"pointer"}};function D(e,s){if(1&e&&t._UZ(0,"p-avatar",38),2&e){const o=s.index,i=t.oxw(4);t.Akn(t.VKq(2,E,i.locations[o].color))}}const P=function(){return[]};function G(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"p-avatarGroup",36),t.NdJ("click",function(n){t.CHM(o);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.showLocationsQuantity(a,n))}),t.YNc(1,D,1,4,"p-avatar",37),t.qZA()}if(2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.DdM(1,P).constructor(o.locations_count))}}function H(e,s){1&e&&(t.TgZ(0,"small",39),t._uU(1," Missing units "),t.qZA())}function j(e,s){1&e&&(t.TgZ(0,"small",40),t._uU(1," Selling price low "),t.qZA())}function $(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"p-button",41),t.NdJ("onClick",function(){t.CHM(o);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.showAddDialog(n))}),t.qZA()}if(2&e){const o=t.oxw().$implicit,i=t.oxw(2);t.Q6J("loading",null!=i.itemToViewLocations&&i.itemToViewLocations.id===o.id&&i.loading2)}}function K(e,s){if(1&e&&t._UZ(0,"p-message",42),2&e){const o=t.oxw().$implicit;t.Q6J("text",0==o.min_unit_ok?"Missing units":"No stock")}}function R(e,s){if(1&e&&(t.TgZ(0,"tr",27)(1,"td",28),t.YNc(2,O,1,1,"img",29),t.YNc(3,F,1,1,"img",29),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td"),t.YNc(11,G,2,2,"p-avatarGroup",30),t.YNc(12,H,2,0,"small",31),t.qZA(),t.TgZ(13,"td"),t._uU(14),t._UZ(15,"br"),t.YNc(16,j,2,0,"small",32),t.qZA(),t.TgZ(17,"td"),t.YNc(18,$,1,1,"p-button",33),t.YNc(19,K,1,1,"p-message",34),t.qZA()()),2&e){const o=s.$implicit;t.xp6(2),t.Q6J("ngIf",""==o.image),t.xp6(1),t.Q6J("ngIf",""!=o.image),t.xp6(2),t.hij(" ",t.lcZ(6,10,o.name)," "),t.xp6(3),t.hij(" ",t.lcZ(9,12,o.category.name)," "),t.xp6(3),t.Q6J("ngIf",o.locations_count>0&&1==o.min_unit_ok),t.xp6(1),t.Q6J("ngIf",o.units<1||0==o.min_unit_ok),t.xp6(2),t.hij(" ",o.units," "),t.xp6(2),t.Q6J("ngIf",0==o.sp_units_ok),t.xp6(2),t.Q6J("ngIf",o.locations_count>0&&o.units>0&&1==o.min_unit_ok),t.xp6(1),t.Q6J("ngIf",o.units<1||o.locations_count<1||0==o.min_unit_ok)}}const V=function(){return[10,25,50]},B=function(){return["name","description"]};function z(e,s){if(1&e&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h4",10),t._uU(3," Stock items "),t.qZA()(),t.TgZ(4,"div",11)(5,"p-table",12,13),t.YNc(7,Y,23,1,"ng-template",14),t.YNc(8,R,20,14,"ng-template",15),t.qZA()()()),2&e){const o=t.oxw();t.Q6J("@enter",void 0),t.xp6(5),t.Q6J("value",o.allStock)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(9,V))("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(10,B))}}function X(e,s){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.Oqu(o.name)}}function W(e,s){if(1&e&&(t.TgZ(0,"div",63)(1,"div"),t._uU(2),t.qZA()()),2&e){const o=s.$implicit;t.xp6(2),t.Oqu(o.name)}}function tt(e,s){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.Oqu(o.unit_name)}}function ot(e,s){if(1&e&&(t.TgZ(0,"div",63)(1,"div"),t._uU(2),t.qZA()()),2&e){const o=s.$implicit;t.xp6(2),t.Oqu(o.unit_name)}}function et(e,s){if(1&e&&(t.TgZ(0,"small",64),t._uU(1),t.qZA()),2&e){const o=t.oxw(3);t.xp6(1),t.hij(" ",o.quantityError," ")}}function it(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"form",47,48),t.NdJ("ngSubmit",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.confirm())}),t.TgZ(2,"div",49)(3,"div",50)(4,"div",51)(5,"div",52)(6,"label",53),t._uU(7,"Location to reduce item"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"p-dropdown",54),t.NdJ("onChange",function(n){t.CHM(o);const a=t.oxw(2);return t.KtG(a.updateLocationSelected(n))})("ngModelChange",function(n){t.CHM(o);const a=t.oxw(2);return t.KtG(a.itemToAddModel.location=n)}),t.YNc(10,X,2,1,"ng-template",55),t.YNc(11,W,3,1,"ng-template",25),t.qZA()(),t.TgZ(12,"div",52)(13,"label",56),t._uU(14,"Unit to reduce"),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"p-dropdown",57),t.NdJ("onChange",function(n){t.CHM(o);const a=t.oxw(2);return t.KtG(a.updateUnitSelected(n))})("ngModelChange",function(n){t.CHM(o);const a=t.oxw(2);return t.KtG(a.itemToAddModel.unit=n)}),t.YNc(17,tt,2,1,"ng-template",55),t.YNc(18,ot,3,1,"ng-template",25),t.qZA()(),t.TgZ(19,"div",52)(20,"label",58),t._uU(21,"Unit quantity to reduce"),t.qZA(),t.TgZ(22,"input",59),t.NdJ("input",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.checkQuantity())})("ngModelChange",function(n){t.CHM(o);const a=t.oxw(2);return t.KtG(a.itemToAddModel.unit_quantity=n)}),t.qZA(),t.YNc(23,et,2,1,"small",60),t.qZA()()()(),t.TgZ(24,"p-footer")(25,"button",61),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return n.displayAddDialog=!1,t.KtG(n.itemToAddModel={})}),t.qZA(),t._UZ(26,"button",62),t.qZA()()}if(2&e){const o=t.MAs(1),i=t.oxw(2);t.xp6(9),t.Q6J("options",i.locations)("ngModel",i.itemToAddModel.location),t.xp6(7),t.Q6J("options",i.unitsToSelect)("disabled",null==i.itemToAddModel.location||!i.activateSellForm)("ngModel",i.itemToAddModel.unit),t.xp6(6),t.Q6J("disabled",null==i.itemToAddModel.unit||!i.activateSellForm)("ngModel",i.itemToAddModel.unit_quantity),t.xp6(1),t.Q6J("ngIf",""!=i.quantityError),t.xp6(3),t.Q6J("disabled",!o.valid||null==i.itemToAddModel.location||i.itemToAddModel.unit_quantity<1||null==i.itemToAddModel.unit||!i.activateSellForm||""!=i.quantityError||i.buttonClicked)}}function nt(e,s){if(1&e&&t._UZ(0,"app-notification",65),2&e){const o=t.oxw(2);t.Q6J("message","Stock has been reduced!")("showNotification",o.showNotification)}}const x=function(){return{width:"30vw"}};function at(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"p-dialog",43),t.NdJ("visibleChange",function(n){t.CHM(o);const a=t.oxw();return t.KtG(a.displayAddDialog=n)}),t.YNc(1,it,27,9,"form",44),t.YNc(2,nt,1,2,"app-notification",45),t.TgZ(3,"ngx-spinner",46),t._UZ(4,"p",7),t.qZA()()}if(2&e){const o=t.oxw();t.Akn(t.DdM(9,x)),t.s9C("header",o.showNotification?"":o.itemToAdd.name),t.Q6J("closable",!1)("visible",o.displayAddDialog)("baseZIndex",1e4),t.xp6(1),t.Q6J("ngIf",!o.showNotification),t.xp6(1),t.Q6J("ngIf",o.showNotification),t.xp6(1),t.Q6J("fullScreen",!1)}}function st(e,s){if(1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"titlecase"),t.TgZ(3,"p",68)(4,"i",69),t._uU(5),t.ALo(6,"number"),t.qZA()()()),2&e){const o=s.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,o.unit_name)," "),t.xp6(4),t.hij("(",t.lcZ(6,4,o.unit_quantity),")")}}function lt(e,s){if(1&e&&(t.TgZ(0,"tr"),t._UZ(1,"th"),t.TgZ(2,"th"),t._uU(3,"Location"),t.qZA(),t.YNc(4,st,7,6,"th",67),t.qZA()),2&e){const o=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",o.itemToViewLocations.selling_units)}}function rt(e,s){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const o=s.$implicit,i=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getLocationUnitQuantity(i.location_quantity,n.itemToViewLocations.selling_units)[o.unit_name]," ")}}const ct=function(e){return{"background-color":e,color:"#ffffff"}};function dt(e,s){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"p-avatar",38),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.YNc(6,rt,2,1,"td",67),t.qZA()),2&e){const o=s.$implicit,i=t.oxw(2);t.xp6(2),t.Akn(t.VKq(6,ct,o.location.color)),t.xp6(2),t.Oqu(t.lcZ(5,4,o.location.name)),t.xp6(2),t.Q6J("ngForOf",i.itemToViewLocations.selling_units)}}function pt(e,s){if(1&e&&(t.TgZ(0,"p-table",66),t.YNc(1,lt,5,1,"ng-template",14),t.YNc(2,dt,7,8,"ng-template",15),t.qZA()),2&e){const o=t.oxw();t.Q6J("value",o.itemToViewLocations.locations_qty)("paginator",!1)("rows",5)}}const _t=function(){return{width:"450px"}};let gt=(()=>{class e{constructor(o,i,n,a,r,vt){this.spinner=o,this.cryptoSrv=i,this.toastr=n,this.authSrv=a,this.apiSrv=r,this.confirmationService=vt,this.categories=[],this.loading=!0,this.productImagesUrl=c.N.imageUrls,this.displayAddDialog=!1,this.itemToAddModel={},this.showNotification=!1,this.itemToViewLocations={},this.activateSellForm=!1,this.quantityError="",this.unitsToSelect=[],this.buttonClicked=!1,this.loading2=!1}ngOnInit(){"1"===this.cryptoSrv.decryptEncodedText(this.authSrv.getRoleToken("adding_stock_negative"))||"admin"===this.cryptoSrv.decryptEncodedText(this.authSrv.getUserDetailToken("role"))?this.getAllStock():(this.toastr.error("You have no rights to access that page!"),this.authSrv.logout())}getAllStock(){this.spinner.show();const o={action:this.cryptoSrv.encodeEncryptText("get-all-stock-new"),added_by:this.authSrv.getUserDetailToken("uid")};this.apiSrv.read(o).then(i=>{"error"!=i.status?"error2"!=i.status?(this.allStock=i.data.stock,this.locations=i.data.locations,this.categories=i.data.categories,this.allStock.forEach(n=>{parseInt(n.prices_ok.toString())>0?(n.prices_ok=!1,n.sp_units_ok=!1,n.attention=1):(n.prices_ok=!0,n.sp_units_ok=!0),parseInt(n.min_qty_ok.toString())<1||parseInt(n.min_qty_ok.toString())>1?(n.min_qty_ok=!1,n.min_unit_ok=!1,n.attention=1):(n.min_qty_ok=!0,n.min_unit_ok=!0),n.locations_count=parseInt(n.locations_count.toString()),n.category=this.categories.find(a=>a.id===n.category_id)}),this.loading=!1,this.spinner.hide()):(this.spinner.hide(),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide(),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide()})}updateLocationSelected(o){this.unitsToSelect=[],this.itemToAddModel.location_id=o.value.id,this.itemToAddModel.location=o.value,this.itemToAddModel.unit_quantity=0,this.quantityError="";const n=this.itemToAdd.locations_qty.find(a=>a.location.id===this.itemToAddModel.location.id).location_quantity;this.itemToAdd.selling_units.forEach(a=>{parseInt(a.unit_quantity.toString())<=parseInt(n.toString())&&this.unitsToSelect.push(a)}),this.checkLockStatus()}updateUnitSelected(o){this.itemToAddModel.unit_id=o.value.id,this.itemToAddModel.unit=o.value,this.itemToAddModel.unit_quantity=0,this.quantityError="",this.checkLockStatus()}checkLockStatus(){this.spinner.show("add");const o={action:this.cryptoSrv.encodeEncryptText("check-lock-status"),item_id:this.itemToAdd.id,location_id:this.itemToAddModel.location_id,uid:this.authSrv.getUserDetailToken("uid"),right:this.cryptoSrv.encodeEncryptText("add_stock_negative")};this.apiSrv.read(o).then(i=>{"error"!=i.status?"error2"!=i.status?(this.activateSellForm=!0,this.loading=!1,this.spinner.hide("add")):(this.spinner.hide("add"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("add"),"locked"===i.message?(this.activateSellForm=!1,this.toastr.warning("Item is locked by "+i.user)):(this.activateSellForm=!1,this.toastr.error(i.message)))}).catch(i=>{this.toastr.error(i),this.spinner.hide("add")})}showLocationsQuantity(o,i){if(o.selling_units)this.itemToViewLocations=o,this.overlay.toggle(i);else{this.loading2=!0;let n=this.allStock.find(r=>r.id===o.id);this.itemToViewLocations=n;const a={action:this.cryptoSrv.encodeEncryptText("get_item_all_locations_quantity"),item_id:o.id,added_by:this.authSrv.getUserDetailToken("uid")};this.apiSrv.read(a).then(r=>{"error"!=r.status?"error2"!=r.status?(n.selling_units=r.selling_units,n.locations_qty=r.locations_qty,n.total_qty=r.total_qty,n.locations=r.locations,this.overlay.toggle(i),this.loading2=!1):(this.loading2=!1,this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.loading2=!1,this.toastr.error(r.message))}).catch(r=>{this.toastr.error(r),this.loading2=!1})}}getLocationUnitQuantity(o,i){const n={};return(i=i.sort((a,r)=>r.unit_quantity-a.unit_quantity)).forEach(a=>{if(o>0){const r=Math.floor(o/a.unit_quantity);n[a.unit_name]=r,o-=r*a.unit_quantity}else n[a.unit_name]=0}),n}showAddDialog(o){if(o.selling_units)this.showNotification=!1,this.itemToAdd=o,this.buttonClicked=!1,this.displayAddDialog=!0;else{this.loading2=!0;let i=this.allStock.find(a=>a.id===o.id);this.itemToViewLocations=i;const n={action:this.cryptoSrv.encodeEncryptText("get_item_all_locations_quantity"),item_id:o.id,added_by:this.authSrv.getUserDetailToken("uid")};this.apiSrv.read(n).then(a=>{"error"!=a.status?"error2"!=a.status?(i.selling_units=a.selling_units,i.locations_qty=a.locations_qty,i.total_qty=a.total_qty,i.locations=a.locations,this.showNotification=!1,this.itemToAdd=o,this.buttonClicked=!1,this.displayAddDialog=!0,this.loading2=!1):(this.loading2=!1,this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.loading2=!1,this.toastr.error(a.message))}).catch(a=>{this.toastr.error(a),this.loading2=!1})}}checkQuantity(){const i=this.itemToAdd.locations_qty.find(a=>a.location.id===this.itemToAddModel.location.id).location_quantity;if(this.itemToAddModel.unit.unit_quantity*this.itemToAddModel.unit_quantity>i){const a=Math.floor(parseInt(i.toString())/parseInt(this.itemToAddModel.unit.unit_quantity));this.quantityError="You can only reduce a max of "+a+" "+this.itemToAddModel.unit.unit_name}else this.quantityError=""}confirm(){this.buttonClicked=!0,this.confirmationService.confirm({message:"Stock will be reduced at the selected location? Are you sure you want to reduce the quantity?",acceptButtonStyleClass:"p-button-primary p-button-sm",rejectButtonStyleClass:"p-button-danger p-button-sm",acceptLabel:"Yes",rejectLabel:"No",accept:()=>{this.addItem()},reject:()=>{}})}addItem(){this.spinner.show("add");const o={action:this.cryptoSrv.encodeEncryptText("add_stock_negative_item"),item_id:this.itemToAdd.id,unit:this.itemToAddModel.unit.id,unit_qty:this.cryptoSrv.encodeEncryptText(this.itemToAddModel.unit_quantity.toString()),location:this.itemToAddModel.location.id,added_by:this.authSrv.getUserDetailToken("uid")};this.apiSrv.post(o).then(i=>{"error"!=i.status?"error2"!=i.status?(this.showNotification=!0,setTimeout(()=>{this.displayAddDialog=!1,this.getAllStock()},1300),this.spinner.hide("add"),this.itemToAddModel={}):(this.spinner.hide("add"),this.toastr.error("Please login again.","Login session expired!"),this.authSrv.logout()):(this.spinner.hide("add"),this.toastr.error(i.message))}).catch(i=>{this.toastr.error(i),this.spinner.hide("add")})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g.t2),t.Y36(_.$),t.Y36(h._W),t.Y36(S.e),t.Y36(C.s),t.Y36(f.YP))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-negative"]],viewQuery:function(o,i){if(1&o&&t.Gf(L,5),2&o){let n;t.iGM(n=t.CRH())&&(i.overlay=n.first)}},decls:8,vars:11,consts:[["class","card",4,"ngIf"],["appendTo","body","modal","true",3,"header","closable","visible","style","baseZIndex","visibleChange",4,"ngIf"],[3,"showCloseIcon"],["op",""],["pTemplate",""],["header","Confirm","icon","pi pi-exclamation-triangle","appendTo","body",3,"baseZIndex"],["bdOpacity","#fff","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],[2,"color","#02926e"],[1,"card"],[1,"card-header"],[1,"card-title","mb-4"],[1,"card-body","p-0","m-0"],["styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"ui-selectable-row"],[2,"width","8rem"],["pSortableColumn","name",2,"width","15rem"],["field","name"],["pSortableColumn","category.name",2,"width","15rem"],["field","category.name"],[2,"width","10rem"],["pInputText","","type","text","placeholder","Search item name",1,"ui-column-filter",3,"input"],["appendTo","body","placeholder","All","styleClass","ui-column-filter","optionLabel","name",3,"options","onChange"],["pTemplate","item"],[1,"ui-multiselect-representative-option",2,"display","grid"],[2,"word-wrap","normal"],[2,"height","4rem","padding","5px"],["alt","img","style","height: 100%; width: 4rem;",3,"src",4,"ngIf"],[3,"click",4,"ngIf"],["class","animate-flicker warning",4,"ngIf"],["class","animate-flicker danger",4,"ngIf"],["label","Reduce","icon","pi pi-minus","styleClass","p-button-primary p-button-outlined p-button-sm",3,"loading","onClick",4,"ngIf"],["severity","warn","styleClass","mr-2",3,"text",4,"ngIf"],["alt","img",2,"height","100%","width","4rem",3,"src"],[3,"click"],["label","","shape","circle",3,"style",4,"ngFor","ngForOf"],["label","","shape","circle"],[1,"animate-flicker","warning"],[1,"animate-flicker","danger"],["label","Reduce","icon","pi pi-minus","styleClass","p-button-primary p-button-outlined p-button-sm",3,"loading","onClick"],["severity","warn","styleClass","mr-2",3,"text"],["appendTo","body","modal","true",3,"header","closable","visible","baseZIndex","visibleChange"],["autocomplete","off",3,"ngSubmit",4,"ngIf"],[3,"message","showNotification",4,"ngIf"],["bdOpacity","#fff","name","add","bdColor","rgba(255,255,255,0.76)","size","medium","color","#02926e","type","ball-clip-rotate",3,"fullScreen"],["autocomplete","off",3,"ngSubmit"],["form2","ngForm"],[1,"row"],[1,"col-md-12"],[1,"ui-fluid"],[1,"p-field","pb-3"],["for","location"],["placeholder","Select location","name","location","appendTo","body","optionLabel","name","filter","true",3,"options","ngModel","onChange","ngModelChange"],["pTemplate","selectedItem"],["for","unit"],["placeholder","Select item unit","name","unit","appendTo","body","optionLabel","unit_name","filter","true",3,"options","disabled","ngModel","onChange","ngModelChange"],["for","unitq"],["id","unitq","name","unit_quantity","required","","pattern","[0-9]+","type","number","pInputNumber","",1,"form-control",3,"disabled","ngModel","input","ngModelChange"],["id","unitq-help","class","p-error block",4,"ngIf"],["type","button","pButton","","icon","pi pi-times","label","Cancel",1,"p-button-danger","p-button-sm","float-right",3,"click"],["type","submit","pButton","","icon","pi pi-check","label","Save",1,"p-button-success","p-button-sm","mr-3","float-right",3,"disabled"],[1,"ui-helper-clearfix"],["id","unitq-help",1,"p-error","block"],[3,"message","showNotification"],["selectionMode","single","responsiveLayout","scroll",3,"value","paginator","rows"],[4,"ngFor","ngForOf"],[1,"p-o","m-0"],[1,"small"]],template:function(o,i){1&o&&(t.YNc(0,z,9,11,"div",0),t.YNc(1,at,5,10,"p-dialog",1),t.TgZ(2,"p-overlayPanel",2,3),t.YNc(4,pt,3,3,"ng-template",4),t.qZA(),t._UZ(5,"p-confirmDialog",5),t.TgZ(6,"ngx-spinner",6),t._UZ(7,"p",7),t.qZA()),2&o&&(t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.displayAddDialog),t.xp6(1),t.Akn(t.DdM(9,_t)),t.Q6J("showCloseIcon",!1),t.xp6(3),t.Akn(t.DdM(10,x)),t.Q6J("baseZIndex",1e4),t.xp6(1),t.Q6J("fullScreen",!0))},dependencies:[m.sg,m.O5,g.Ro,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.Q7,d.c5,d.On,d.F,Z.V,f.$_,f.jx,A.Q,T.Hq,T.zx,v.iA,v.lQ,v.fz,b.NU,N.o,w.Lt,q.T,M.H,U.q,I.q,J.c,m.JJ,m.rS],styles:["label[_ngcontent-%COMP%]{text-transform:none}[_nghost-%COMP%]     p-colorpicker .p-colorpicker .p-colorpicker-preview{border-radius:30px}[_nghost-%COMP%]     p-dialog .p-dialog-header{border-radius:30px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{border-bottom-right-radius:30px}"],data:{animation:[(0,p.X$)("enter",[(0,p.eR)("void => *",[(0,p.oB)({opacity:0}),(0,p.jt)(1e3,(0,p.oB)({opacity:1}))])])]}}),e})();var y=l(2318);const ut=[{path:"",component:gt,data:{title:"Stock negative"}}];let mt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[y.Bz.forChild(ut),y.Bz]}),e})();var ht=l(4397);let ft=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[mt,ht.U]}),e})()},3942:(k,u,l)=>{l.d(u,{c:()=>p});var c=l(4650);let p=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(_){return new(_||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-notification"]],inputs:{message:"message",showNotification:"showNotification"},decls:6,vars:1,consts:[[1,"wrapper1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 52 52",1,"checkmark"],["cx","26","cy","26","r","25","fill","none",1,"checkmark__circle"],["fill","none","d","M14.1 27.2l7.1 7.2 16.7-16.8",1,"checkmark__check"],[2,"position","absolute","margin-top","150px","margin-bottom","50px","font-weight","bold"]],template:function(_,h){1&_&&(c.TgZ(0,"div",0),c.O4$(),c.TgZ(1,"svg",1),c._UZ(2,"circle",2)(3,"path",3),c.qZA(),c.kcU(),c.TgZ(4,"p",4),c._uU(5),c.qZA()()),2&_&&(c.xp6(5),c.hij(" ",h.message," "))},styles:["*[_ngcontent-%COMP%]{padding:0;margin:0}.wrapper1[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;background-color:transparent}.checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#7ac142;fill:none;animation:stroke .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #7ac142;animation:fill .4s ease-in-out .4s forwards,scale .3s ease-in-out .9s both}.checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards}@keyframes stroke{to{stroke-dashoffset:0}}@keyframes scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes fill{to{box-shadow:inset 0 0 0 30px #7ac142}}"]}),t})()}}]);